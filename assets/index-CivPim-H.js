var p6=Object.defineProperty;var m6=(t,e,n)=>e in t?p6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sd=(t,e,n)=>m6(t,typeof e!="symbol"?e+"":e,n);function g6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sw={exports:{}},Ug={},Aw={exports:{}},Rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI;function v6(){if(xI)return Rn;xI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;function p(z){return z===null||typeof z!="object"?null:(z=d&&z[d]||z["@@iterator"],typeof z=="function"?z:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,S={};function _(z,K,ae){this.props=z,this.context=K,this.refs=S,this.updater=ae||g}_.prototype.isReactComponent={},_.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function x(){}x.prototype=_.prototype;function b(z,K,ae){this.props=z,this.context=K,this.refs=S,this.updater=ae||g}var w=b.prototype=new x;w.constructor=b,y(w,_.prototype),w.isPureReactComponent=!0;var M=Array.isArray,C=Object.prototype.hasOwnProperty,I={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function P(z,K,ae){var Z,se={},oe=null,ue=null;if(K!=null)for(Z in K.ref!==void 0&&(ue=K.ref),K.key!==void 0&&(oe=""+K.key),K)C.call(K,Z)&&!B.hasOwnProperty(Z)&&(se[Z]=K[Z]);var ve=arguments.length-2;if(ve===1)se.children=ae;else if(1<ve){for(var Be=Array(ve),Le=0;Le<ve;Le++)Be[Le]=arguments[Le+2];se.children=Be}if(z&&z.defaultProps)for(Z in ve=z.defaultProps,ve)se[Z]===void 0&&(se[Z]=ve[Z]);return{$$typeof:t,type:z,key:oe,ref:ue,props:se,_owner:I.current}}function L(z,K){return{$$typeof:t,type:z.type,key:K,ref:z.ref,props:z.props,_owner:z._owner}}function E(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function O(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ae){return K[ae]})}var U=/\/+/g;function H(z,K){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):K.toString(36)}function q(z,K,ae,Z,se){var oe=typeof z;(oe==="undefined"||oe==="boolean")&&(z=null);var ue=!1;if(z===null)ue=!0;else switch(oe){case"string":case"number":ue=!0;break;case"object":switch(z.$$typeof){case t:case e:ue=!0}}if(ue)return ue=z,se=se(ue),z=Z===""?"."+H(ue,0):Z,M(se)?(ae="",z!=null&&(ae=z.replace(U,"$&/")+"/"),q(se,K,ae,"",function(Le){return Le})):se!=null&&(E(se)&&(se=L(se,ae+(!se.key||ue&&ue.key===se.key?"":(""+se.key).replace(U,"$&/")+"/")+z)),K.push(se)),1;if(ue=0,Z=Z===""?".":Z+":",M(z))for(var ve=0;ve<z.length;ve++){oe=z[ve];var Be=Z+H(oe,ve);ue+=q(oe,K,ae,Be,se)}else if(Be=p(z),typeof Be=="function")for(z=Be.call(z),ve=0;!(oe=z.next()).done;)oe=oe.value,Be=Z+H(oe,ve++),ue+=q(oe,K,ae,Be,se);else if(oe==="object")throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ue}function te(z,K,ae){if(z==null)return z;var Z=[],se=0;return q(z,Z,"","",function(oe){return K.call(ae,oe,se++)}),Z}function $(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(ae){(z._status===0||z._status===-1)&&(z._status=1,z._result=ae)},function(ae){(z._status===0||z._status===-1)&&(z._status=2,z._result=ae)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var ie={current:null},W={transition:null},Y={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:W,ReactCurrentOwner:I};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Rn.Children={map:te,forEach:function(z,K,ae){te(z,function(){K.apply(this,arguments)},ae)},count:function(z){var K=0;return te(z,function(){K++}),K},toArray:function(z){return te(z,function(K){return K})||[]},only:function(z){if(!E(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Rn.Component=_,Rn.Fragment=n,Rn.Profiler=i,Rn.PureComponent=b,Rn.StrictMode=r,Rn.Suspense=l,Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Rn.act=Q,Rn.cloneElement=function(z,K,ae){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Z=y({},z.props),se=z.key,oe=z.ref,ue=z._owner;if(K!=null){if(K.ref!==void 0&&(oe=K.ref,ue=I.current),K.key!==void 0&&(se=""+K.key),z.type&&z.type.defaultProps)var ve=z.type.defaultProps;for(Be in K)C.call(K,Be)&&!B.hasOwnProperty(Be)&&(Z[Be]=K[Be]===void 0&&ve!==void 0?ve[Be]:K[Be])}var Be=arguments.length-2;if(Be===1)Z.children=ae;else if(1<Be){ve=Array(Be);for(var Le=0;Le<Be;Le++)ve[Le]=arguments[Le+2];Z.children=ve}return{$$typeof:t,type:z.type,key:se,ref:oe,props:Z,_owner:ue}},Rn.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:s,_context:z},z.Consumer=z},Rn.createElement=P,Rn.createFactory=function(z){var K=P.bind(null,z);return K.type=z,K},Rn.createRef=function(){return{current:null}},Rn.forwardRef=function(z){return{$$typeof:a,render:z}},Rn.isValidElement=E,Rn.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:$}},Rn.memo=function(z,K){return{$$typeof:u,type:z,compare:K===void 0?null:K}},Rn.startTransition=function(z){var K=W.transition;W.transition={};try{z()}finally{W.transition=K}},Rn.unstable_act=Q,Rn.useCallback=function(z,K){return ie.current.useCallback(z,K)},Rn.useContext=function(z){return ie.current.useContext(z)},Rn.useDebugValue=function(){},Rn.useDeferredValue=function(z){return ie.current.useDeferredValue(z)},Rn.useEffect=function(z,K){return ie.current.useEffect(z,K)},Rn.useId=function(){return ie.current.useId()},Rn.useImperativeHandle=function(z,K,ae){return ie.current.useImperativeHandle(z,K,ae)},Rn.useInsertionEffect=function(z,K){return ie.current.useInsertionEffect(z,K)},Rn.useLayoutEffect=function(z,K){return ie.current.useLayoutEffect(z,K)},Rn.useMemo=function(z,K){return ie.current.useMemo(z,K)},Rn.useReducer=function(z,K,ae){return ie.current.useReducer(z,K,ae)},Rn.useRef=function(z){return ie.current.useRef(z)},Rn.useState=function(z){return ie.current.useState(z)},Rn.useSyncExternalStore=function(z,K,ae){return ie.current.useSyncExternalStore(z,K,ae)},Rn.useTransition=function(){return ie.current.useTransition()},Rn.version="18.3.1",Rn}var _I;function Wy(){return _I||(_I=1,Aw.exports=v6()),Aw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI;function y6(){if(SI)return Ug;SI=1;var t=Wy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var f,d={},p=null,g=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(d[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)d[f]===void 0&&(d[f]=l[f]);return{$$typeof:e,type:a,key:p,ref:g,props:d,_owner:i.current}}return Ug.Fragment=n,Ug.jsx=o,Ug.jsxs=o,Ug}var AI;function x6(){return AI||(AI=1,Sw.exports=y6()),Sw.exports}var V=x6(),G=Wy();const Ya=jy(G),cC=g6({__proto__:null,default:Ya},[G]);var Sx={},ww={exports:{}},io={},bw={exports:{}},Mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI;function _6(){return wI||(wI=1,function(t){function e(W,Y){var Q=W.length;W.push(Y);e:for(;0<Q;){var z=Q-1>>>1,K=W[z];if(0<i(K,Y))W[z]=Y,W[Q]=K,Q=z;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],Q=W.pop();if(Q!==Y){W[0]=Q;e:for(var z=0,K=W.length,ae=K>>>1;z<ae;){var Z=2*(z+1)-1,se=W[Z],oe=Z+1,ue=W[oe];if(0>i(se,Q))oe<K&&0>i(ue,se)?(W[z]=ue,W[oe]=Q,z=oe):(W[z]=se,W[Z]=Q,z=Z);else if(oe<K&&0>i(ue,Q))W[z]=ue,W[oe]=Q,z=oe;else break e}}return Y}function i(W,Y){var Q=W.sortIndex-Y.sortIndex;return Q!==0?Q:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,g=!1,y=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=W)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function M(W){if(S=!1,w(W),!y)if(n(l)!==null)y=!0,$(C);else{var Y=n(u);Y!==null&&ie(M,Y.startTime-W)}}function C(W,Y){y=!1,S&&(S=!1,x(P),P=-1),g=!0;var Q=p;try{for(w(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||W&&!O());){var z=d.callback;if(typeof z=="function"){d.callback=null,p=d.priorityLevel;var K=z(d.expirationTime<=Y);Y=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),w(Y)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var Z=n(u);Z!==null&&ie(M,Z.startTime-Y),ae=!1}return ae}finally{d=null,p=Q,g=!1}}var I=!1,B=null,P=-1,L=5,E=-1;function O(){return!(t.unstable_now()-E<L)}function U(){if(B!==null){var W=t.unstable_now();E=W;var Y=!0;try{Y=B(!0,W)}finally{Y?H():(I=!1,B=null)}}else I=!1}var H;if(typeof b=="function")H=function(){b(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,te=q.port2;q.port1.onmessage=U,H=function(){te.postMessage(null)}}else H=function(){_(U,0)};function $(W){B=W,I||(I=!0,H())}function ie(W,Y){P=_(function(){W(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,$(C))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var Q=p;p=Y;try{return W()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=p;p=W;try{return Y()}finally{p=Q}},t.unstable_scheduleCallback=function(W,Y,Q){var z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,W){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Q+K,W={id:f++,callback:Y,priorityLevel:W,startTime:Q,expirationTime:K,sortIndex:-1},Q>z?(W.sortIndex=Q,e(u,W),n(l)===null&&W===n(u)&&(S?(x(P),P=-1):S=!0,ie(M,Q-z))):(W.sortIndex=K,e(l,W),y||g||(y=!0,$(C))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var Y=p;return function(){var Q=p;p=Y;try{return W.apply(this,arguments)}finally{p=Q}}}}(Mw)),Mw}var bI;function S6(){return bI||(bI=1,bw.exports=_6()),bw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MI;function A6(){if(MI)return io;MI=1;var t=Wy(),e=S6();function n(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,A=1;A<arguments.length;A++)h+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(c,h){o(c,h),o(c+"Capture",h)}function o(c,h){for(i[c]=h,c=0;c<h.length;c++)r.add(h[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function p(c){return l.call(d,c)?!0:l.call(f,c)?!1:u.test(c)?d[c]=!0:(f[c]=!0,!1)}function g(c,h,A,R){if(A!==null&&A.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return R?!1:A!==null?!A.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function y(c,h,A,R){if(h===null||typeof h>"u"||g(c,h,A,R))return!0;if(R)return!1;if(A!==null)switch(A.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function S(c,h,A,R,F,N,ee){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=R,this.attributeNamespace=F,this.mustUseProperty=A,this.propertyName=c,this.type=h,this.sanitizeURL=N,this.removeEmptyString=ee}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){_[c]=new S(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];_[h]=new S(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){_[c]=new S(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){_[c]=new S(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){_[c]=new S(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){_[c]=new S(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){_[c]=new S(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){_[c]=new S(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){_[c]=new S(c,5,!1,c.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(x,b);_[h]=new S(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(x,b);_[h]=new S(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(x,b);_[h]=new S(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){_[c]=new S(c,1,!1,c.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){_[c]=new S(c,1,!1,c.toLowerCase(),null,!0,!0)});function w(c,h,A,R){var F=_.hasOwnProperty(h)?_[h]:null;(F!==null?F.type!==0:R||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(y(h,A,F,R)&&(A=null),R||F===null?p(h)&&(A===null?c.removeAttribute(h):c.setAttribute(h,""+A)):F.mustUseProperty?c[F.propertyName]=A===null?F.type===3?!1:"":A:(h=F.attributeName,R=F.attributeNamespace,A===null?c.removeAttribute(h):(F=F.type,A=F===3||F===4&&A===!0?"":""+A,R?c.setAttributeNS(R,h,A):c.setAttribute(h,A))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),I=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),W=Symbol.iterator;function Y(c){return c===null||typeof c!="object"?null:(c=W&&c[W]||c["@@iterator"],typeof c=="function"?c:null)}var Q=Object.assign,z;function K(c){if(z===void 0)try{throw Error()}catch(A){var h=A.stack.trim().match(/\n( *(at )?)/);z=h&&h[1]||""}return`
`+z+c}var ae=!1;function Z(c,h){if(!c||ae)return"";ae=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(We){var R=We}Reflect.construct(c,[],h)}else{try{h.call()}catch(We){R=We}c.call(h.prototype)}else{try{throw Error()}catch(We){R=We}c()}}catch(We){if(We&&R&&typeof We.stack=="string"){for(var F=We.stack.split(`
`),N=R.stack.split(`
`),ee=F.length-1,me=N.length-1;1<=ee&&0<=me&&F[ee]!==N[me];)me--;for(;1<=ee&&0<=me;ee--,me--)if(F[ee]!==N[me]){if(ee!==1||me!==1)do if(ee--,me--,0>me||F[ee]!==N[me]){var _e=`
`+F[ee].replace(" at new "," at ");return c.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",c.displayName)),_e}while(1<=ee&&0<=me);break}}}finally{ae=!1,Error.prepareStackTrace=A}return(c=c?c.displayName||c.name:"")?K(c):""}function se(c){switch(c.tag){case 5:return K(c.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return c=Z(c.type,!1),c;case 11:return c=Z(c.type.render,!1),c;case 1:return c=Z(c.type,!0),c;default:return""}}function oe(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case B:return"Fragment";case I:return"Portal";case L:return"Profiler";case P:return"StrictMode";case H:return"Suspense";case q:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case O:return(c.displayName||"Context")+".Consumer";case E:return(c._context.displayName||"Context")+".Provider";case U:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case te:return h=c.displayName||null,h!==null?h:oe(c.type)||"Memo";case $:h=c._payload,c=c._init;try{return oe(c(h))}catch{}}return null}function ue(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(h);case 8:return h===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function ve(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Be(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Le(c){var h=Be(c)?"checked":"value",A=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),R=""+c[h];if(!c.hasOwnProperty(h)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var F=A.get,N=A.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return F.call(this)},set:function(ee){R=""+ee,N.call(this,ee)}}),Object.defineProperty(c,h,{enumerable:A.enumerable}),{getValue:function(){return R},setValue:function(ee){R=""+ee},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Ve(c){c._valueTracker||(c._valueTracker=Le(c))}function xe(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var A=h.getValue(),R="";return c&&(R=Be(c)?c.checked?"true":"false":c.value),c=R,c!==A?(h.setValue(c),!0):!1}function Te(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function re(c,h){var A=h.checked;return Q({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??c._wrapperState.initialChecked})}function nt(c,h){var A=h.defaultValue==null?"":h.defaultValue,R=h.checked!=null?h.checked:h.defaultChecked;A=ve(h.value!=null?h.value:A),c._wrapperState={initialChecked:R,initialValue:A,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ke(c,h){h=h.checked,h!=null&&w(c,"checked",h,!1)}function Ze(c,h){ke(c,h);var A=ve(h.value),R=h.type;if(A!=null)R==="number"?(A===0&&c.value===""||c.value!=A)&&(c.value=""+A):c.value!==""+A&&(c.value=""+A);else if(R==="submit"||R==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?tt(c,h.type,A):h.hasOwnProperty("defaultValue")&&tt(c,h.type,ve(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function Ae(c,h,A){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var R=h.type;if(!(R!=="submit"&&R!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,A||h===c.value||(c.value=h),c.defaultValue=h}A=c.name,A!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,A!==""&&(c.name=A)}function tt(c,h,A){(h!=="number"||Te(c.ownerDocument)!==c)&&(A==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+A&&(c.defaultValue=""+A))}var Fe=Array.isArray;function J(c,h,A,R){if(c=c.options,h){h={};for(var F=0;F<A.length;F++)h["$"+A[F]]=!0;for(A=0;A<c.length;A++)F=h.hasOwnProperty("$"+c[A].value),c[A].selected!==F&&(c[A].selected=F),F&&R&&(c[A].defaultSelected=!0)}else{for(A=""+ve(A),h=null,F=0;F<c.length;F++){if(c[F].value===A){c[F].selected=!0,R&&(c[F].defaultSelected=!0);return}h!==null||c[F].disabled||(h=c[F])}h!==null&&(h.selected=!0)}}function X(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function he(c,h){var A=h.value;if(A==null){if(A=h.children,h=h.defaultValue,A!=null){if(h!=null)throw Error(n(92));if(Fe(A)){if(1<A.length)throw Error(n(93));A=A[0]}h=A}h==null&&(h=""),A=h}c._wrapperState={initialValue:ve(A)}}function Se(c,h){var A=ve(h.value),R=ve(h.defaultValue);A!=null&&(A=""+A,A!==c.value&&(c.value=A),h.defaultValue==null&&c.defaultValue!==A&&(c.defaultValue=A)),R!=null&&(c.defaultValue=""+R)}function Me(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function De(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qe(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?De(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Ne,Ke=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,A,R,F){MSApp.execUnsafeLocalFunction(function(){return c(h,A,R,F)})}:c}(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(Ne=Ne||document.createElement("div"),Ne.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Ne.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function ft(c,h){if(h){var A=c.firstChild;if(A&&A===c.lastChild&&A.nodeType===3){A.nodeValue=h;return}}c.textContent=h}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(c){ot.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),Xe[h]=Xe[c]})});function at(c,h,A){return h==null||typeof h=="boolean"||h===""?"":A||typeof h!="number"||h===0||Xe.hasOwnProperty(c)&&Xe[c]?(""+h).trim():h+"px"}function mt(c,h){c=c.style;for(var A in h)if(h.hasOwnProperty(A)){var R=A.indexOf("--")===0,F=at(A,h[A],R);A==="float"&&(A="cssFloat"),R?c.setProperty(A,F):c[A]=F}}var $e=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(c,h){if(h){if($e[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function ze(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vt=null;function de(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var je=null,Ie=null,Ye=null;function ut(c){if(c=Ca(c)){if(typeof je!="function")throw Error(n(280));var h=c.stateNode;h&&(h=Yh(h),je(c.stateNode,c.type,h))}}function st(c){Ie?Ye?Ye.push(c):Ye=[c]:Ie=c}function Mt(){if(Ie){var c=Ie,h=Ye;if(Ye=Ie=null,ut(c),h)for(c=0;c<h.length;c++)ut(h[c])}}function Vt(c,h){return c(h)}function ce(){}var ge=!1;function Pe(c,h,A){if(ge)return c(h,A);ge=!0;try{return Vt(c,h,A)}finally{ge=!1,(Ie!==null||Ye!==null)&&(ce(),Mt())}}function Qe(c,h){var A=c.stateNode;if(A===null)return null;var R=Yh(A);if(R===null)return null;A=R[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(c=c.type,R=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!R;break e;default:c=!1}if(c)return null;if(A&&typeof A!="function")throw Error(n(231,h,typeof A));return A}var dt=!1;if(a)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){dt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{dt=!1}function Lt(c,h,A,R,F,N,ee,me,_e){var We=Array.prototype.slice.call(arguments,3);try{h.apply(A,We)}catch(gt){this.onError(gt)}}var Et=!1,Dt=null,St=!1,Pt=null,kt={onError:function(c){Et=!0,Dt=c}};function on(c,h,A,R,F,N,ee,me,_e){Et=!1,Dt=null,Lt.apply(kt,arguments)}function Gn(c,h,A,R,F,N,ee,me,_e){if(on.apply(this,arguments),Et){if(Et){var We=Dt;Et=!1,Dt=null}else throw Error(n(198));St||(St=!0,Pt=We)}}function On(c){var h=c,A=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(A=h.return),c=h.return;while(c)}return h.tag===3?A:null}function Yn(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function Hn(c){if(On(c)!==c)throw Error(n(188))}function Xn(c){var h=c.alternate;if(!h){if(h=On(c),h===null)throw Error(n(188));return h!==c?null:c}for(var A=c,R=h;;){var F=A.return;if(F===null)break;var N=F.alternate;if(N===null){if(R=F.return,R!==null){A=R;continue}break}if(F.child===N.child){for(N=F.child;N;){if(N===A)return Hn(F),c;if(N===R)return Hn(F),h;N=N.sibling}throw Error(n(188))}if(A.return!==R.return)A=F,R=N;else{for(var ee=!1,me=F.child;me;){if(me===A){ee=!0,A=F,R=N;break}if(me===R){ee=!0,R=F,A=N;break}me=me.sibling}if(!ee){for(me=N.child;me;){if(me===A){ee=!0,A=N,R=F;break}if(me===R){ee=!0,R=N,A=F;break}me=me.sibling}if(!ee)throw Error(n(189))}}if(A.alternate!==R)throw Error(n(190))}if(A.tag!==3)throw Error(n(188));return A.stateNode.current===A?c:h}function wi(c){return c=Xn(c),c!==null?us(c):null}function us(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=us(c);if(h!==null)return h;c=c.sibling}return null}var Zr=e.unstable_scheduleCallback,ne=e.unstable_cancelCallback,Ee=e.unstable_shouldYield,Ue=e.unstable_requestPaint,ye=e.unstable_now,we=e.unstable_getCurrentPriorityLevel,ct=e.unstable_ImmediatePriority,lt=e.unstable_UserBlockingPriority,yt=e.unstable_NormalPriority,Rt=e.unstable_LowPriority,Ht=e.unstable_IdlePriority,wt=null,ht=null;function Nt(c){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(wt,c,void 0,(c.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:fn,vn=Math.log,gn=Math.LN2;function fn(c){return c>>>=0,c===0?32:31-(vn(c)/gn|0)|0}var Ut=64,ln=4194304;function un(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Wt(c,h){var A=c.pendingLanes;if(A===0)return 0;var R=0,F=c.suspendedLanes,N=c.pingedLanes,ee=A&268435455;if(ee!==0){var me=ee&~F;me!==0?R=un(me):(N&=ee,N!==0&&(R=un(N)))}else ee=A&~F,ee!==0?R=un(ee):N!==0&&(R=un(N));if(R===0)return 0;if(h!==0&&h!==R&&(h&F)===0&&(F=R&-R,N=h&-h,F>=N||F===16&&(N&4194240)!==0))return h;if((R&4)!==0&&(R|=A&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=R;0<h;)A=31-$t(h),F=1<<A,R|=c[A],h&=~F;return R}function Mr(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(c,h){for(var A=c.suspendedLanes,R=c.pingedLanes,F=c.expirationTimes,N=c.pendingLanes;0<N;){var ee=31-$t(N),me=1<<ee,_e=F[ee];_e===-1?((me&A)===0||(me&R)!==0)&&(F[ee]=Mr(me,h)):_e<=h&&(c.expiredLanes|=me),N&=~me}}function yr(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function yn(){var c=Ut;return Ut<<=1,(Ut&4194240)===0&&(Ut=64),c}function xr(c){for(var h=[],A=0;31>A;A++)h.push(c);return h}function _r(c,h,A){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-$t(h),c[h]=A}function Gr(c,h){var A=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var R=c.eventTimes;for(c=c.expirationTimes;0<A;){var F=31-$t(A),N=1<<F;h[F]=0,R[F]=-1,c[F]=-1,A&=~N}}function lr(c,h){var A=c.entangledLanes|=h;for(c=c.entanglements;A;){var R=31-$t(A),F=1<<R;F&h|c[R]&h&&(c[R]|=h),A&=~F}}var wn=0;function li(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var dl,lc,uc,Go,$l,Xs=!1,go=[],bi=null,dn=null,qs=null,Cs=new Map,Ho=new Map,Ks=[],Mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sr(c,h){switch(c){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Cs.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(h.pointerId)}}function vo(c,h,A,R,F,N){return c===null||c.nativeEvent!==N?(c={blockedOn:h,domEventName:A,eventSystemFlags:R,nativeEvent:N,targetContainers:[F]},h!==null&&(h=Ca(h),h!==null&&lc(h)),c):(c.eventSystemFlags|=R,h=c.targetContainers,F!==null&&h.indexOf(F)===-1&&h.push(F),c)}function Eh(c,h,A,R,F){switch(h){case"focusin":return bi=vo(bi,c,h,A,R,F),!0;case"dragenter":return dn=vo(dn,c,h,A,R,F),!0;case"mouseover":return qs=vo(qs,c,h,A,R,F),!0;case"pointerover":var N=F.pointerId;return Cs.set(N,vo(Cs.get(N)||null,c,h,A,R,F)),!0;case"gotpointercapture":return N=F.pointerId,Ho.set(N,vo(Ho.get(N)||null,c,h,A,R,F)),!0}return!1}function Oi(c){var h=bl(c.target);if(h!==null){var A=On(h);if(A!==null){if(h=A.tag,h===13){if(h=Yn(A),h!==null){c.blockedOn=h,$l(c.priority,function(){uc(A)});return}}else if(h===3&&A.stateNode.current.memoizedState.isDehydrated){c.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}c.blockedOn=null}function hl(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var A=ki(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(A===null){A=c.nativeEvent;var R=new A.constructor(A.type,A);vt=R,A.target.dispatchEvent(R),vt=null}else return h=Ca(A),h!==null&&lc(h),c.blockedOn=A,!1;h.shift()}return!0}function pl(c,h,A){hl(c)&&A.delete(h)}function Ts(){Xs=!1,bi!==null&&hl(bi)&&(bi=null),dn!==null&&hl(dn)&&(dn=null),qs!==null&&hl(qs)&&(qs=null),Cs.forEach(pl),Ho.forEach(pl)}function ga(c,h){c.blockedOn===h&&(c.blockedOn=null,Xs||(Xs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ts)))}function ml(c){function h(F){return ga(F,c)}if(0<go.length){ga(go[0],c);for(var A=1;A<go.length;A++){var R=go[A];R.blockedOn===c&&(R.blockedOn=null)}}for(bi!==null&&ga(bi,c),dn!==null&&ga(dn,c),qs!==null&&ga(qs,c),Cs.forEach(h),Ho.forEach(h),A=0;A<Ks.length;A++)R=Ks[A],R.blockedOn===c&&(R.blockedOn=null);for(;0<Ks.length&&(A=Ks[0],A.blockedOn===null);)Oi(A),A.blockedOn===null&&Ks.shift()}var ui=M.ReactCurrentBatchConfig,ci=!0;function Vo(c,h,A,R){var F=wn,N=ui.transition;ui.transition=null;try{wn=1,Ql(c,h,A,R)}finally{wn=F,ui.transition=N}}function Js(c,h,A,R){var F=wn,N=ui.transition;ui.transition=null;try{wn=4,Ql(c,h,A,R)}finally{wn=F,ui.transition=N}}function Ql(c,h,A,R){if(ci){var F=ki(c,h,A,R);if(F===null)jh(c,h,R,gl,A),Sr(c,R);else if(Eh(F,c,h,A,R))R.stopPropagation();else if(Sr(c,R),h&4&&-1<Mh.indexOf(c)){for(;F!==null;){var N=Ca(F);if(N!==null&&dl(N),N=ki(c,h,A,R),N===null&&jh(c,h,R,gl,A),N===F)break;F=N}F!==null&&R.stopPropagation()}else jh(c,h,R,null,A)}}var gl=null;function ki(c,h,A,R){if(gl=null,c=de(R),c=bl(c),c!==null)if(h=On(c),h===null)c=null;else if(A=h.tag,A===13){if(c=Yn(h),c!==null)return c;c=null}else if(A===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return gl=c,null}function vl(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(we()){case ct:return 1;case lt:return 4;case yt:case Rt:return 16;case Ht:return 536870912;default:return 16}default:return 16}}var cs=null,va=null,fi=null;function ei(){if(fi)return fi;var c,h=va,A=h.length,R,F="value"in cs?cs.value:cs.textContent,N=F.length;for(c=0;c<A&&h[c]===F[c];c++);var ee=A-c;for(R=1;R<=ee&&h[A-R]===F[N-R];R++);return fi=F.slice(c,1<R?1-R:void 0)}function ya(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function fs(){return!0}function xa(){return!1}function di(c){function h(A,R,F,N,ee){this._reactName=A,this._targetInst=F,this.type=R,this.nativeEvent=N,this.target=ee,this.currentTarget=null;for(var me in c)c.hasOwnProperty(me)&&(A=c[me],this[me]=A?A(N):N[me]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?fs:xa,this.isPropagationStopped=xa,this}return Q(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),h}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=di(_a),ti=Q({},_a,{view:0,detail:0}),Fr=di(ti),Er,Ji,Ys,cc=Q({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ys&&(Ys&&c.type==="mousemove"?(Er=c.screenX-Ys.screenX,Ji=c.screenY-Ys.screenY):Ji=Er=0,Ys=c),Er)},movementY:function(c){return"movementY"in c?c.movementY:Ji}}),qm=di(cc),Sa=Q({},cc,{dataTransfer:0}),yl=di(Sa),Ch=Q({},ti,{relatedTarget:0}),Th=di(Ch),Rh=Q({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),P0=di(Rh),I0=Q({},_a,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Km=di(I0),Ph=Q({},_a,{data:0}),Jm=di(Ph),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=Ym[c])?!!h[c]:!1}function xl(){return fc}var Ih=Q({},ti,{key:function(c){if(c.key){var h=B0[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=ya(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?D0[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(c){return c.type==="keypress"?ya(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ya(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Bh=di(Ih),$s=Q({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=di($s),Zl=Q({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),Aa=di(Zl),wa=Q({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),eu=di(wa),L0=Q({},cc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),$m=di(L0),Qm=[9,13,27,32],Yi=a&&"CompositionEvent"in window,Mi=null;a&&"documentMode"in document&&(Mi=document.documentMode);var Ar=a&&"TextEvent"in window&&!Mi,dc=a&&(!Yi||Mi&&8<Mi&&11>=Mi),Qs=" ",Zm=!1;function eg(c,h){switch(c){case"keyup":return Qm.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dh(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var _l=!1;function F0(c,h){switch(c){case"compositionend":return Dh(h);case"keypress":return h.which!==32?null:(Zm=!0,Qs);case"textInput":return c=h.data,c===Qs&&Zm?null:c;default:return null}}function Ef(c,h){if(_l)return c==="compositionend"||!Yi&&eg(c,h)?(c=ei(),fi=va=cs=null,_l=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return dc&&h.locale!=="ko"?null:h.data;default:return null}}var hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!hc[c.type]:h==="textarea"}function pc(c,h,A,R){st(R),h=Wh(h,"onChange"),0<h.length&&(A=new Hr("onChange","change",null,A,R),c.push({event:A,listeners:h}))}var Sl=null,mc=null;function O0(c){xc(c,0)}function ba(c){var h=Or(c);if(xe(h))return c}function k0(c,h){if(c==="change")return h}var gc=!1;if(a){var ds;if(a){var tu="oninput"in document;if(!tu){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),tu=typeof nu.oninput=="function"}ds=tu}else ds=!1;gc=ds&&(!document.documentMode||9<document.documentMode)}function yo(){Sl&&(Sl.detachEvent("onpropertychange",Fh),mc=Sl=null)}function Fh(c){if(c.propertyName==="value"&&ba(mc)){var h=[];pc(h,mc,c,de(c)),Pe(O0,h)}}function vc(c,h,A){c==="focusin"?(yo(),Sl=h,mc=A,Sl.attachEvent("onpropertychange",Fh)):c==="focusout"&&yo()}function U0(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return ba(mc)}function tg(c,h){if(c==="click")return ba(h)}function Cr(c,h){if(c==="input"||c==="change")return ba(h)}function Oh(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Ps=typeof Object.is=="function"?Object.is:Oh;function ru(c,h){if(Ps(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var A=Object.keys(c),R=Object.keys(h);if(A.length!==R.length)return!1;for(R=0;R<A.length;R++){var F=A[R];if(!l.call(h,F)||!Ps(c[F],h[F]))return!1}return!0}function Cf(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Is(c,h){var A=Cf(c);c=0;for(var R;A;){if(A.nodeType===3){if(R=c+A.textContent.length,c<=h&&R>=h)return{node:A,offset:h-c};c=R}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=Cf(A)}}function iu(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?iu(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function Tr(){for(var c=window,h=Te();h instanceof c.HTMLIFrameElement;){try{var A=typeof h.contentWindow.location.href=="string"}catch{A=!1}if(A)c=h.contentWindow;else break;h=Te(c.document)}return h}function hi(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function pi(c){var h=Tr(),A=c.focusedElem,R=c.selectionRange;if(h!==A&&A&&A.ownerDocument&&iu(A.ownerDocument.documentElement,A)){if(R!==null&&hi(A)){if(h=R.start,c=R.end,c===void 0&&(c=h),"selectionStart"in A)A.selectionStart=h,A.selectionEnd=Math.min(c,A.value.length);else if(c=(h=A.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var F=A.textContent.length,N=Math.min(R.start,F);R=R.end===void 0?N:Math.min(R.end,F),!c.extend&&N>R&&(F=R,R=N,N=F),F=Is(A,N);var ee=Is(A,R);F&&ee&&(c.rangeCount!==1||c.anchorNode!==F.node||c.anchorOffset!==F.offset||c.focusNode!==ee.node||c.focusOffset!==ee.offset)&&(h=h.createRange(),h.setStart(F.node,F.offset),c.removeAllRanges(),N>R?(c.addRange(h),c.extend(ee.node,ee.offset)):(h.setEnd(ee.node,ee.offset),c.addRange(h)))}}for(h=[],c=A;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<h.length;A++)c=h[A],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var kh=a&&"documentMode"in document&&11>=document.documentMode,jo=null,su=null,Tf=null,mi=!1;function Uh(c,h,A){var R=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;mi||jo==null||jo!==Te(R)||(R=jo,"selectionStart"in R&&hi(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Tf&&ru(Tf,R)||(Tf=R,R=Wh(su,"onSelect"),0<R.length&&(h=new Hr("onSelect","select",null,h,A),c.push({event:h,listeners:R}),h.target=jo)))}function yc(c,h){var A={};return A[c.toLowerCase()]=h.toLowerCase(),A["Webkit"+c]="webkit"+h,A["Moz"+c]="moz"+h,A}var Al={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},xo={},_o={};a&&(_o=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Wo(c){if(xo[c])return xo[c];if(!Al[c])return c;var h=Al[c],A;for(A in h)if(h.hasOwnProperty(A)&&A in _o)return xo[c]=h[A];return c}var Rf=Wo("animationend"),Pf=Wo("animationiteration"),ng=Wo("animationstart"),rg=Wo("transitionend"),ig=new Map,sg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(c,h){ig.set(c,h),s(h,[c])}for(var Nh=0;Nh<sg.length;Nh++){var If=sg[Nh],Bf=If.toLowerCase(),N0=If[0].toUpperCase()+If.slice(1);Ma(Bf,"on"+N0)}Ma(Rf,"onAnimationEnd"),Ma(Pf,"onAnimationIteration"),Ma(ng,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(rg,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zh=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function Gh(c,h,A){var R=c.type||"unknown-event";c.currentTarget=A,Gn(R,h,void 0,c),c.currentTarget=null}function xc(c,h){h=(h&4)!==0;for(var A=0;A<c.length;A++){var R=c[A],F=R.event;R=R.listeners;e:{var N=void 0;if(h)for(var ee=R.length-1;0<=ee;ee--){var me=R[ee],_e=me.instance,We=me.currentTarget;if(me=me.listener,_e!==N&&F.isPropagationStopped())break e;Gh(F,me,We),N=_e}else for(ee=0;ee<R.length;ee++){if(me=R[ee],_e=me.instance,We=me.currentTarget,me=me.listener,_e!==N&&F.isPropagationStopped())break e;Gh(F,me,We),N=_e}}}if(St)throw c=Pt,St=!1,Pt=null,c}function ur(c,h){var A=h[lu];A===void 0&&(A=h[lu]=new Set);var R=c+"__bubble";A.has(R)||(Vh(h,c,2,!1),A.add(R))}function Hh(c,h,A){var R=0;h&&(R|=4),Vh(A,c,R,h)}var Df="_reactListening"+Math.random().toString(36).slice(2);function _c(c){if(!c[Df]){c[Df]=!0,r.forEach(function(A){A!=="selectionchange"&&(zh.has(A)||Hh(A,!1,c),Hh(A,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Df]||(h[Df]=!0,Hh("selectionchange",!1,h))}}function Vh(c,h,A,R){switch(vl(h)){case 1:var F=Vo;break;case 4:F=Js;break;default:F=Ql}A=F.bind(null,h,A,c),F=void 0,!dt||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(F=!0),R?F!==void 0?c.addEventListener(h,A,{capture:!0,passive:F}):c.addEventListener(h,A,!0):F!==void 0?c.addEventListener(h,A,{passive:F}):c.addEventListener(h,A,!1)}function jh(c,h,A,R,F){var N=R;if((h&1)===0&&(h&2)===0&&R!==null)e:for(;;){if(R===null)return;var ee=R.tag;if(ee===3||ee===4){var me=R.stateNode.containerInfo;if(me===F||me.nodeType===8&&me.parentNode===F)break;if(ee===4)for(ee=R.return;ee!==null;){var _e=ee.tag;if((_e===3||_e===4)&&(_e=ee.stateNode.containerInfo,_e===F||_e.nodeType===8&&_e.parentNode===F))return;ee=ee.return}for(;me!==null;){if(ee=bl(me),ee===null)return;if(_e=ee.tag,_e===5||_e===6){R=N=ee;continue e}me=me.parentNode}}R=R.return}Pe(function(){var We=N,gt=de(A),xt=[];e:{var pt=ig.get(c);if(pt!==void 0){var zt=Hr,Xt=c;switch(c){case"keypress":if(ya(A)===0)break e;case"keydown":case"keyup":zt=Bh;break;case"focusin":Xt="focus",zt=Th;break;case"focusout":Xt="blur",zt=Th;break;case"beforeblur":case"afterblur":zt=Th;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":zt=qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":zt=yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":zt=Aa;break;case Rf:case Pf:case ng:zt=P0;break;case rg:zt=eu;break;case"scroll":zt=Fr;break;case"wheel":zt=$m;break;case"copy":case"cut":case"paste":zt=Km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":zt=Rs}var Kt=(h&4)!==0,ri=!Kt&&c==="scroll",Oe=Kt?pt!==null?pt+"Capture":null:pt;Kt=[];for(var be=We,Ge;be!==null;){Ge=be;var At=Ge.stateNode;if(Ge.tag===5&&At!==null&&(Ge=At,Oe!==null&&(At=Qe(be,Oe),At!=null&&Kt.push(Sc(be,At,Ge)))),ri)break;be=be.return}0<Kt.length&&(pt=new zt(pt,Xt,null,A,gt),xt.push({event:pt,listeners:Kt}))}}if((h&7)===0){e:{if(pt=c==="mouseover"||c==="pointerover",zt=c==="mouseout"||c==="pointerout",pt&&A!==vt&&(Xt=A.relatedTarget||A.fromElement)&&(bl(Xt)||Xt[Bs]))break e;if((zt||pt)&&(pt=gt.window===gt?gt:(pt=gt.ownerDocument)?pt.defaultView||pt.parentWindow:window,zt?(Xt=A.relatedTarget||A.toElement,zt=We,Xt=Xt?bl(Xt):null,Xt!==null&&(ri=On(Xt),Xt!==ri||Xt.tag!==5&&Xt.tag!==6)&&(Xt=null)):(zt=null,Xt=We),zt!==Xt)){if(Kt=qm,At="onMouseLeave",Oe="onMouseEnter",be="mouse",(c==="pointerout"||c==="pointerover")&&(Kt=Rs,At="onPointerLeave",Oe="onPointerEnter",be="pointer"),ri=zt==null?pt:Or(zt),Ge=Xt==null?pt:Or(Xt),pt=new Kt(At,be+"leave",zt,A,gt),pt.target=ri,pt.relatedTarget=Ge,At=null,bl(gt)===We&&(Kt=new Kt(Oe,be+"enter",Xt,A,gt),Kt.target=Ge,Kt.relatedTarget=ri,At=Kt),ri=At,zt&&Xt)t:{for(Kt=zt,Oe=Xt,be=0,Ge=Kt;Ge;Ge=ou(Ge))be++;for(Ge=0,At=Oe;At;At=ou(At))Ge++;for(;0<be-Ge;)Kt=ou(Kt),be--;for(;0<Ge-be;)Oe=ou(Oe),Ge--;for(;be--;){if(Kt===Oe||Oe!==null&&Kt===Oe.alternate)break t;Kt=ou(Kt),Oe=ou(Oe)}Kt=null}else Kt=null;zt!==null&&z0(xt,pt,zt,Kt,!1),Xt!==null&&ri!==null&&z0(xt,ri,Xt,Kt,!0)}}e:{if(pt=We?Or(We):window,zt=pt.nodeName&&pt.nodeName.toLowerCase(),zt==="select"||zt==="input"&&pt.type==="file")var Qt=k0;else if(Lh(pt))if(gc)Qt=Cr;else{Qt=U0;var nn=vc}else(zt=pt.nodeName)&&zt.toLowerCase()==="input"&&(pt.type==="checkbox"||pt.type==="radio")&&(Qt=tg);if(Qt&&(Qt=Qt(c,We))){pc(xt,Qt,A,gt);break e}nn&&nn(c,pt,We),c==="focusout"&&(nn=pt._wrapperState)&&nn.controlled&&pt.type==="number"&&tt(pt,"number",pt.value)}switch(nn=We?Or(We):window,c){case"focusin":(Lh(nn)||nn.contentEditable==="true")&&(jo=nn,su=We,Tf=null);break;case"focusout":Tf=su=jo=null;break;case"mousedown":mi=!0;break;case"contextmenu":case"mouseup":case"dragend":mi=!1,Uh(xt,A,gt);break;case"selectionchange":if(kh)break;case"keydown":case"keyup":Uh(xt,A,gt)}var rn;if(Yi)e:{switch(c){case"compositionstart":var hn="onCompositionStart";break e;case"compositionend":hn="onCompositionEnd";break e;case"compositionupdate":hn="onCompositionUpdate";break e}hn=void 0}else _l?eg(c,A)&&(hn="onCompositionEnd"):c==="keydown"&&A.keyCode===229&&(hn="onCompositionStart");hn&&(dc&&A.locale!=="ko"&&(_l||hn!=="onCompositionStart"?hn==="onCompositionEnd"&&_l&&(rn=ei()):(cs=gt,va="value"in cs?cs.value:cs.textContent,_l=!0)),nn=Wh(We,hn),0<nn.length&&(hn=new Jm(hn,c,null,A,gt),xt.push({event:hn,listeners:nn}),rn?hn.data=rn:(rn=Dh(A),rn!==null&&(hn.data=rn)))),(rn=Ar?F0(c,A):Ef(c,A))&&(We=Wh(We,"onBeforeInput"),0<We.length&&(gt=new Jm("onBeforeInput","beforeinput",null,A,gt),xt.push({event:gt,listeners:We}),gt.data=rn))}xc(xt,h)})}function Sc(c,h,A){return{instance:c,listener:h,currentTarget:A}}function Wh(c,h){for(var A=h+"Capture",R=[];c!==null;){var F=c,N=F.stateNode;F.tag===5&&N!==null&&(F=N,N=Qe(c,A),N!=null&&R.unshift(Sc(c,N,F)),N=Qe(c,h),N!=null&&R.push(Sc(c,N,F))),c=c.return}return R}function ou(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function z0(c,h,A,R,F){for(var N=h._reactName,ee=[];A!==null&&A!==R;){var me=A,_e=me.alternate,We=me.stateNode;if(_e!==null&&_e===R)break;me.tag===5&&We!==null&&(me=We,F?(_e=Qe(A,N),_e!=null&&ee.unshift(Sc(A,_e,me))):F||(_e=Qe(A,N),_e!=null&&ee.push(Sc(A,_e,me)))),A=A.return}ee.length!==0&&c.push({event:h,listeners:ee})}var KA=/\r\n?/g,G0=/\u0000|\uFFFD/g;function og(c){return(typeof c=="string"?c:""+c).replace(KA,`
`).replace(G0,"")}function Lf(c,h,A){if(h=og(h),og(c)!==h&&A)throw Error(n(425))}function Ff(){}var Ac=null,ag=null;function lg(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var ug=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(c){return Xh.resolve(null).then(c).catch(H0)}:ug;function H0(c){setTimeout(function(){throw c})}function qh(c,h){var A=h,R=0;do{var F=A.nextSibling;if(c.removeChild(A),F&&F.nodeType===8)if(A=F.data,A==="/$"){if(R===0){c.removeChild(F),ml(h);return}R--}else A!=="$"&&A!=="$?"&&A!=="$!"||R++;A=F}while(A);ml(h)}function Ea(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function fg(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var A=c.data;if(A==="$"||A==="$!"||A==="$?"){if(h===0)return c;h--}else A==="/$"&&h++}c=c.previousSibling}return null}var au=Math.random().toString(36).slice(2),ni="__reactFiber$"+au,wc="__reactProps$"+au,Bs="__reactContainer$"+au,lu="__reactEvents$"+au,Kh="__reactListeners$"+au,Jh="__reactHandles$"+au;function bl(c){var h=c[ni];if(h)return h;for(var A=c.parentNode;A;){if(h=A[Bs]||A[ni]){if(A=h.alternate,h.child!==null||A!==null&&A.child!==null)for(c=fg(c);c!==null;){if(A=c[ni])return A;c=fg(c)}return h}c=A,A=c.parentNode}return null}function Ca(c){return c=c[ni]||c[Bs],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Or(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function Yh(c){return c[wc]||null}var dg=[],gi=-1;function Pr(c){return{current:c}}function cr(c){0>gi||(c.current=dg[gi],dg[gi]=null,gi--)}function ir(c,h){gi++,dg[gi]=c.current,c.current=h}var Ta={},Ei=Pr(Ta),$i=Pr(!1),Ra=Ta;function uu(c,h){var A=c.type.contextTypes;if(!A)return Ta;var R=c.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===h)return R.__reactInternalMemoizedMaskedChildContext;var F={},N;for(N in A)F[N]=h[N];return R&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=F),F}function Ui(c){return c=c.childContextTypes,c!=null}function Of(){cr($i),cr(Ei)}function hg(c,h,A){if(Ei.current!==Ta)throw Error(n(168));ir(Ei,h),ir($i,A)}function kf(c,h,A){var R=c.stateNode;if(h=h.childContextTypes,typeof R.getChildContext!="function")return A;R=R.getChildContext();for(var F in R)if(!(F in h))throw Error(n(108,ue(c)||"Unknown",F));return Q({},A,R)}function cu(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ta,Ra=Ei.current,ir(Ei,c),ir($i,$i.current),!0}function pg(c,h,A){var R=c.stateNode;if(!R)throw Error(n(169));A?(c=kf(c,h,Ra),R.__reactInternalMemoizedMergedChildContext=c,cr($i),cr(Ei),ir(Ei,c)):cr($i),ir($i,A)}var So=null,Uf=!1,$h=!1;function Nf(c){So===null?So=[c]:So.push(c)}function V0(c){Uf=!0,Nf(c)}function Xo(){if(!$h&&So!==null){$h=!0;var c=0,h=wn;try{var A=So;for(wn=1;c<A.length;c++){var R=A[c];do R=R(!0);while(R!==null)}So=null,Uf=!1}catch(F){throw So!==null&&(So=So.slice(c+1)),Zr(ct,Xo),F}finally{wn=h,$h=!1}}return null}var fu=[],hs=0,Qh=null,Zh=0,Qi=[],vi=0,du=null,bt=1,Zs="";function Pa(c,h){fu[hs++]=Zh,fu[hs++]=Qh,Qh=c,Zh=h}function mg(c,h,A){Qi[vi++]=bt,Qi[vi++]=Zs,Qi[vi++]=du,du=c;var R=bt;c=Zs;var F=32-$t(R)-1;R&=~(1<<F),A+=1;var N=32-$t(h)+F;if(30<N){var ee=F-F%5;N=(R&(1<<ee)-1).toString(32),R>>=ee,F-=ee,bt=1<<32-$t(h)+F|A<<F|R,Zs=N+c}else bt=1<<N|A<<F|R,Zs=c}function gg(c){c.return!==null&&(Pa(c,1),mg(c,1,0))}function Ia(c){for(;c===Qh;)Qh=fu[--hs],fu[hs]=null,Zh=fu[--hs],fu[hs]=null;for(;c===du;)du=Qi[--vi],Qi[vi]=null,Zs=Qi[--vi],Qi[vi]=null,bt=Qi[--vi],Qi[vi]=null}var Ci=null,Zi=null,hr=!1,eo=null;function vg(c,h){var A=$o(5,null,null,0);A.elementType="DELETED",A.stateNode=h,A.return=c,h=c.deletions,h===null?(c.deletions=[A],c.flags|=16):h.push(A)}function yg(c,h){switch(c.tag){case 5:var A=c.type;return h=h.nodeType!==1||A.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,Ci=c,Zi=Ea(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,Ci=c,Zi=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(A=du!==null?{id:bt,overflow:Zs}:null,c.memoizedState={dehydrated:h,treeContext:A,retryLane:1073741824},A=$o(18,null,null,0),A.stateNode=h,A.return=c,c.child=A,Ci=c,Zi=null,!0):!1;default:return!1}}function ep(c){return(c.mode&1)!==0&&(c.flags&128)===0}function tp(c){if(hr){var h=Zi;if(h){var A=h;if(!yg(c,h)){if(ep(c))throw Error(n(418));h=Ea(A.nextSibling);var R=Ci;h&&yg(c,h)?vg(R,A):(c.flags=c.flags&-4097|2,hr=!1,Ci=c)}}else{if(ep(c))throw Error(n(418));c.flags=c.flags&-4097|2,hr=!1,Ci=c}}}function np(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ci=c}function bc(c){if(c!==Ci)return!1;if(!hr)return np(c),hr=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!lg(c.type,c.memoizedProps)),h&&(h=Zi)){if(ep(c))throw xg(),Error(n(418));for(;h;)vg(c,h),h=Ea(h.nextSibling)}if(np(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var A=c.data;if(A==="/$"){if(h===0){Zi=Ea(c.nextSibling);break e}h--}else A!=="$"&&A!=="$!"&&A!=="$?"||h++}c=c.nextSibling}Zi=null}}else Zi=Ci?Ea(c.stateNode.nextSibling):null;return!0}function xg(){for(var c=Zi;c;)c=Ea(c.nextSibling)}function Ml(){Zi=Ci=null,hr=!1}function Mc(c){eo===null?eo=[c]:eo.push(c)}var YA=M.ReactCurrentBatchConfig;function zf(c,h,A){if(c=A.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(n(309));var R=A.stateNode}if(!R)throw Error(n(147,c));var F=R,N=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===N?h.ref:(h=function(ee){var me=F.refs;ee===null?delete me[N]:me[N]=ee},h._stringRef=N,h)}if(typeof c!="string")throw Error(n(284));if(!A._owner)throw Error(n(290,c))}return c}function Gf(c,h){throw c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function _g(c){var h=c._init;return h(c._payload)}function Sg(c){function h(Oe,be){if(c){var Ge=Oe.deletions;Ge===null?(Oe.deletions=[be],Oe.flags|=16):Ge.push(be)}}function A(Oe,be){if(!c)return null;for(;be!==null;)h(Oe,be),be=be.sibling;return null}function R(Oe,be){for(Oe=new Map;be!==null;)be.key!==null?Oe.set(be.key,be):Oe.set(be.index,be),be=be.sibling;return Oe}function F(Oe,be){return Oe=Oc(Oe,be),Oe.index=0,Oe.sibling=null,Oe}function N(Oe,be,Ge){return Oe.index=Ge,c?(Ge=Oe.alternate,Ge!==null?(Ge=Ge.index,Ge<be?(Oe.flags|=2,be):Ge):(Oe.flags|=2,be)):(Oe.flags|=1048576,be)}function ee(Oe){return c&&Oe.alternate===null&&(Oe.flags|=2),Oe}function me(Oe,be,Ge,At){return be===null||be.tag!==6?(be=mw(Ge,Oe.mode,At),be.return=Oe,be):(be=F(be,Ge),be.return=Oe,be)}function _e(Oe,be,Ge,At){var Qt=Ge.type;return Qt===B?gt(Oe,be,Ge.props.children,At,Ge.key):be!==null&&(be.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===$&&_g(Qt)===be.type)?(At=F(be,Ge.props),At.ref=zf(Oe,be,Ge),At.return=Oe,At):(At=dx(Ge.type,Ge.key,Ge.props,null,Oe.mode,At),At.ref=zf(Oe,be,Ge),At.return=Oe,At)}function We(Oe,be,Ge,At){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ge.containerInfo||be.stateNode.implementation!==Ge.implementation?(be=gw(Ge,Oe.mode,At),be.return=Oe,be):(be=F(be,Ge.children||[]),be.return=Oe,be)}function gt(Oe,be,Ge,At,Qt){return be===null||be.tag!==7?(be=id(Ge,Oe.mode,At,Qt),be.return=Oe,be):(be=F(be,Ge),be.return=Oe,be)}function xt(Oe,be,Ge){if(typeof be=="string"&&be!==""||typeof be=="number")return be=mw(""+be,Oe.mode,Ge),be.return=Oe,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case C:return Ge=dx(be.type,be.key,be.props,null,Oe.mode,Ge),Ge.ref=zf(Oe,null,be),Ge.return=Oe,Ge;case I:return be=gw(be,Oe.mode,Ge),be.return=Oe,be;case $:var At=be._init;return xt(Oe,At(be._payload),Ge)}if(Fe(be)||Y(be))return be=id(be,Oe.mode,Ge,null),be.return=Oe,be;Gf(Oe,be)}return null}function pt(Oe,be,Ge,At){var Qt=be!==null?be.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Qt!==null?null:me(Oe,be,""+Ge,At);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case C:return Ge.key===Qt?_e(Oe,be,Ge,At):null;case I:return Ge.key===Qt?We(Oe,be,Ge,At):null;case $:return Qt=Ge._init,pt(Oe,be,Qt(Ge._payload),At)}if(Fe(Ge)||Y(Ge))return Qt!==null?null:gt(Oe,be,Ge,At,null);Gf(Oe,Ge)}return null}function zt(Oe,be,Ge,At,Qt){if(typeof At=="string"&&At!==""||typeof At=="number")return Oe=Oe.get(Ge)||null,me(be,Oe,""+At,Qt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case C:return Oe=Oe.get(At.key===null?Ge:At.key)||null,_e(be,Oe,At,Qt);case I:return Oe=Oe.get(At.key===null?Ge:At.key)||null,We(be,Oe,At,Qt);case $:var nn=At._init;return zt(Oe,be,Ge,nn(At._payload),Qt)}if(Fe(At)||Y(At))return Oe=Oe.get(Ge)||null,gt(be,Oe,At,Qt,null);Gf(be,At)}return null}function Xt(Oe,be,Ge,At){for(var Qt=null,nn=null,rn=be,hn=be=0,Hi=null;rn!==null&&hn<Ge.length;hn++){rn.index>hn?(Hi=rn,rn=null):Hi=rn.sibling;var Jn=pt(Oe,rn,Ge[hn],At);if(Jn===null){rn===null&&(rn=Hi);break}c&&rn&&Jn.alternate===null&&h(Oe,rn),be=N(Jn,be,hn),nn===null?Qt=Jn:nn.sibling=Jn,nn=Jn,rn=Hi}if(hn===Ge.length)return A(Oe,rn),hr&&Pa(Oe,hn),Qt;if(rn===null){for(;hn<Ge.length;hn++)rn=xt(Oe,Ge[hn],At),rn!==null&&(be=N(rn,be,hn),nn===null?Qt=rn:nn.sibling=rn,nn=rn);return hr&&Pa(Oe,hn),Qt}for(rn=R(Oe,rn);hn<Ge.length;hn++)Hi=zt(rn,Oe,hn,Ge[hn],At),Hi!==null&&(c&&Hi.alternate!==null&&rn.delete(Hi.key===null?hn:Hi.key),be=N(Hi,be,hn),nn===null?Qt=Hi:nn.sibling=Hi,nn=Hi);return c&&rn.forEach(function(kc){return h(Oe,kc)}),hr&&Pa(Oe,hn),Qt}function Kt(Oe,be,Ge,At){var Qt=Y(Ge);if(typeof Qt!="function")throw Error(n(150));if(Ge=Qt.call(Ge),Ge==null)throw Error(n(151));for(var nn=Qt=null,rn=be,hn=be=0,Hi=null,Jn=Ge.next();rn!==null&&!Jn.done;hn++,Jn=Ge.next()){rn.index>hn?(Hi=rn,rn=null):Hi=rn.sibling;var kc=pt(Oe,rn,Jn.value,At);if(kc===null){rn===null&&(rn=Hi);break}c&&rn&&kc.alternate===null&&h(Oe,rn),be=N(kc,be,hn),nn===null?Qt=kc:nn.sibling=kc,nn=kc,rn=Hi}if(Jn.done)return A(Oe,rn),hr&&Pa(Oe,hn),Qt;if(rn===null){for(;!Jn.done;hn++,Jn=Ge.next())Jn=xt(Oe,Jn.value,At),Jn!==null&&(be=N(Jn,be,hn),nn===null?Qt=Jn:nn.sibling=Jn,nn=Jn);return hr&&Pa(Oe,hn),Qt}for(rn=R(Oe,rn);!Jn.done;hn++,Jn=Ge.next())Jn=zt(rn,Oe,hn,Jn.value,At),Jn!==null&&(c&&Jn.alternate!==null&&rn.delete(Jn.key===null?hn:Jn.key),be=N(Jn,be,hn),nn===null?Qt=Jn:nn.sibling=Jn,nn=Jn);return c&&rn.forEach(function(h6){return h(Oe,h6)}),hr&&Pa(Oe,hn),Qt}function ri(Oe,be,Ge,At){if(typeof Ge=="object"&&Ge!==null&&Ge.type===B&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case C:e:{for(var Qt=Ge.key,nn=be;nn!==null;){if(nn.key===Qt){if(Qt=Ge.type,Qt===B){if(nn.tag===7){A(Oe,nn.sibling),be=F(nn,Ge.props.children),be.return=Oe,Oe=be;break e}}else if(nn.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===$&&_g(Qt)===nn.type){A(Oe,nn.sibling),be=F(nn,Ge.props),be.ref=zf(Oe,nn,Ge),be.return=Oe,Oe=be;break e}A(Oe,nn);break}else h(Oe,nn);nn=nn.sibling}Ge.type===B?(be=id(Ge.props.children,Oe.mode,At,Ge.key),be.return=Oe,Oe=be):(At=dx(Ge.type,Ge.key,Ge.props,null,Oe.mode,At),At.ref=zf(Oe,be,Ge),At.return=Oe,Oe=At)}return ee(Oe);case I:e:{for(nn=Ge.key;be!==null;){if(be.key===nn)if(be.tag===4&&be.stateNode.containerInfo===Ge.containerInfo&&be.stateNode.implementation===Ge.implementation){A(Oe,be.sibling),be=F(be,Ge.children||[]),be.return=Oe,Oe=be;break e}else{A(Oe,be);break}else h(Oe,be);be=be.sibling}be=gw(Ge,Oe.mode,At),be.return=Oe,Oe=be}return ee(Oe);case $:return nn=Ge._init,ri(Oe,be,nn(Ge._payload),At)}if(Fe(Ge))return Xt(Oe,be,Ge,At);if(Y(Ge))return Kt(Oe,be,Ge,At);Gf(Oe,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"?(Ge=""+Ge,be!==null&&be.tag===6?(A(Oe,be.sibling),be=F(be,Ge),be.return=Oe,Oe=be):(A(Oe,be),be=mw(Ge,Oe.mode,At),be.return=Oe,Oe=be),ee(Oe)):A(Oe,be)}return ri}var hu=Sg(!0),Hf=Sg(!1),pu=Pr(null),mu=null,Ba=null,Ec=null;function gu(){Ec=Ba=mu=null}function Vf(c){var h=pu.current;cr(pu),c._currentValue=h}function jf(c,h,A){for(;c!==null;){var R=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,R!==null&&(R.childLanes|=h)):R!==null&&(R.childLanes&h)!==h&&(R.childLanes|=h),c===A)break;c=c.return}}function El(c,h){mu=c,Ec=Ba=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(En=!0),c.firstContext=null)}function Ds(c){var h=c._currentValue;if(Ec!==c)if(c={context:c,memoizedValue:h,next:null},Ba===null){if(mu===null)throw Error(n(308));Ba=c,mu.dependencies={lanes:0,firstContext:c}}else Ba=Ba.next=c;return h}var Da=null;function Ag(c){Da===null?Da=[c]:Da.push(c)}function Wf(c,h,A,R){var F=h.interleaved;return F===null?(A.next=A,Ag(h)):(A.next=F.next,F.next=A),h.interleaved=A,Ao(c,R)}function Ao(c,h){c.lanes|=h;var A=c.alternate;for(A!==null&&(A.lanes|=h),A=c,c=c.return;c!==null;)c.childLanes|=h,A=c.alternate,A!==null&&(A.childLanes|=h),A=c,c=c.return;return A.tag===3?A.stateNode:null}var Zn=!1;function bn(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kr(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function er(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function wr(c,h,A){var R=c.updateQueue;if(R===null)return null;if(R=R.shared,(qn&2)!==0){var F=R.pending;return F===null?h.next=h:(h.next=F.next,F.next=h),R.pending=h,Ao(c,A)}return F=R.interleaved,F===null?(h.next=h,Ag(R)):(h.next=F.next,F.next=h),R.interleaved=h,Ao(c,A)}function Ni(c,h,A){if(h=h.updateQueue,h!==null&&(h=h.shared,(A&4194240)!==0)){var R=h.lanes;R&=c.pendingLanes,A|=R,h.lanes=A,lr(c,A)}}function vu(c,h){var A=c.updateQueue,R=c.alternate;if(R!==null&&(R=R.updateQueue,A===R)){var F=null,N=null;if(A=A.firstBaseUpdate,A!==null){do{var ee={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};N===null?F=N=ee:N=N.next=ee,A=A.next}while(A!==null);N===null?F=N=h:N=N.next=h}else F=N=h;A={baseState:R.baseState,firstBaseUpdate:F,lastBaseUpdate:N,shared:R.shared,effects:R.effects},c.updateQueue=A;return}c=A.lastBaseUpdate,c===null?A.firstBaseUpdate=h:c.next=h,A.lastBaseUpdate=h}function Ir(c,h,A,R){var F=c.updateQueue;Zn=!1;var N=F.firstBaseUpdate,ee=F.lastBaseUpdate,me=F.shared.pending;if(me!==null){F.shared.pending=null;var _e=me,We=_e.next;_e.next=null,ee===null?N=We:ee.next=We,ee=_e;var gt=c.alternate;gt!==null&&(gt=gt.updateQueue,me=gt.lastBaseUpdate,me!==ee&&(me===null?gt.firstBaseUpdate=We:me.next=We,gt.lastBaseUpdate=_e))}if(N!==null){var xt=F.baseState;ee=0,gt=We=_e=null,me=N;do{var pt=me.lane,zt=me.eventTime;if((R&pt)===pt){gt!==null&&(gt=gt.next={eventTime:zt,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var Xt=c,Kt=me;switch(pt=h,zt=A,Kt.tag){case 1:if(Xt=Kt.payload,typeof Xt=="function"){xt=Xt.call(zt,xt,pt);break e}xt=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=Kt.payload,pt=typeof Xt=="function"?Xt.call(zt,xt,pt):Xt,pt==null)break e;xt=Q({},xt,pt);break e;case 2:Zn=!0}}me.callback!==null&&me.lane!==0&&(c.flags|=64,pt=F.effects,pt===null?F.effects=[me]:pt.push(me))}else zt={eventTime:zt,lane:pt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},gt===null?(We=gt=zt,_e=xt):gt=gt.next=zt,ee|=pt;if(me=me.next,me===null){if(me=F.shared.pending,me===null)break;pt=me,me=pt.next,pt.next=null,F.lastBaseUpdate=pt,F.shared.pending=null}}while(!0);if(gt===null&&(_e=xt),F.baseState=_e,F.firstBaseUpdate=We,F.lastBaseUpdate=gt,h=F.shared.interleaved,h!==null){F=h;do ee|=F.lane,F=F.next;while(F!==h)}else N===null&&(F.shared.lanes=0);ed|=ee,c.lanes=ee,c.memoizedState=xt}}function Cc(c,h,A){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var R=c[h],F=R.callback;if(F!==null){if(R.callback=null,R=A,typeof F!="function")throw Error(n(191,F));F.call(R)}}}var qo={},Ls=Pr(qo),yu=Pr(qo),La=Pr(qo);function Vr(c){if(c===qo)throw Error(n(174));return c}function Xf(c,h){switch(ir(La,h),ir(yu,c),ir(Ls,qo),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:qe(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=qe(h,c)}cr(Ls),ir(Ls,h)}function Cl(){cr(Ls),cr(yu),cr(La)}function xu(c){Vr(La.current);var h=Vr(Ls.current),A=qe(h,c.type);h!==A&&(ir(yu,c),ir(Ls,A))}function Tc(c){yu.current===c&&(cr(Ls),cr(yu))}var pr=Pr(0);function wo(c){for(var h=c;h!==null;){if(h.tag===13){var A=h.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Rc=[];function Ko(){for(var c=0;c<Rc.length;c++)Rc[c]._workInProgressVersionPrimary=null;Rc.length=0}var _u=M.ReactCurrentDispatcher,Su=M.ReactCurrentBatchConfig,Fa=0,fr=null,Br=null,Vn=null,bo=!1,zi=!1,Tl=0,ps=0;function Ti(){throw Error(n(321))}function qf(c,h){if(h===null)return!1;for(var A=0;A<h.length&&A<c.length;A++)if(!Ps(c[A],h[A]))return!1;return!0}function Kf(c,h,A,R,F,N){if(Fa=N,fr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,_u.current=c===null||c.memoizedState===null?Y0:$0,c=A(R,F),zi){N=0;do{if(zi=!1,Tl=0,25<=N)throw Error(n(301));N+=1,Vn=Br=null,h.updateQueue=null,_u.current=Q0,c=A(R,F)}while(zi)}if(_u.current=up,h=Br!==null&&Br.next!==null,Fa=0,Vn=Br=fr=null,bo=!1,h)throw Error(n(300));return c}function wg(){var c=Tl!==0;return Tl=0,c}function Ri(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?fr.memoizedState=Vn=c:Vn=Vn.next=c,Vn}function Fs(){if(Br===null){var c=fr.alternate;c=c!==null?c.memoizedState:null}else c=Br.next;var h=Vn===null?fr.memoizedState:Vn.next;if(h!==null)Vn=h,Br=c;else{if(c===null)throw Error(n(310));Br=c,c={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Vn===null?fr.memoizedState=Vn=c:Vn=Vn.next=c}return Vn}function Pc(c,h){return typeof h=="function"?h(c):h}function Jf(c){var h=Fs(),A=h.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=c;var R=Br,F=R.baseQueue,N=A.pending;if(N!==null){if(F!==null){var ee=F.next;F.next=N.next,N.next=ee}R.baseQueue=F=N,A.pending=null}if(F!==null){N=F.next,R=R.baseState;var me=ee=null,_e=null,We=N;do{var gt=We.lane;if((Fa&gt)===gt)_e!==null&&(_e=_e.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),R=We.hasEagerState?We.eagerState:c(R,We.action);else{var xt={lane:gt,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};_e===null?(me=_e=xt,ee=R):_e=_e.next=xt,fr.lanes|=gt,ed|=gt}We=We.next}while(We!==null&&We!==N);_e===null?ee=R:_e.next=me,Ps(R,h.memoizedState)||(En=!0),h.memoizedState=R,h.baseState=ee,h.baseQueue=_e,A.lastRenderedState=R}if(c=A.interleaved,c!==null){F=c;do N=F.lane,fr.lanes|=N,ed|=N,F=F.next;while(F!==c)}else F===null&&(A.lanes=0);return[h.memoizedState,A.dispatch]}function Oa(c){var h=Fs(),A=h.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=c;var R=A.dispatch,F=A.pending,N=h.memoizedState;if(F!==null){A.pending=null;var ee=F=F.next;do N=c(N,ee.action),ee=ee.next;while(ee!==F);Ps(N,h.memoizedState)||(En=!0),h.memoizedState=N,h.baseQueue===null&&(h.baseState=N),A.lastRenderedState=N}return[N,R]}function bg(){}function Mg(c,h){var A=fr,R=Fs(),F=h(),N=!Ps(R.memoizedState,F);if(N&&(R.memoizedState=F,En=!0),R=R.queue,Tg(j0.bind(null,A,R,c),[c]),R.getSnapshot!==h||N||Vn!==null&&Vn.memoizedState.tag&1){if(A.flags|=2048,Mo(9,Yf.bind(null,A,R,F,h),void 0,null),Gi===null)throw Error(n(349));(Fa&30)!==0||rp(A,h,F)}return F}function rp(c,h,A){c.flags|=16384,c={getSnapshot:h,value:A},h=fr.updateQueue,h===null?(h={lastEffect:null,stores:null},fr.updateQueue=h,h.stores=[c]):(A=h.stores,A===null?h.stores=[c]:A.push(c))}function Yf(c,h,A,R){h.value=A,h.getSnapshot=R,W0(h)&&Eg(c)}function j0(c,h,A){return A(function(){W0(h)&&Eg(c)})}function W0(c){var h=c.getSnapshot;c=c.value;try{var A=h();return!Ps(c,A)}catch{return!0}}function Eg(c){var h=Ao(c,1);h!==null&&Ga(h,c,1,-1)}function Cg(c){var h=Ri();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:c},h.queue=c,c=c.dispatch=Au.bind(null,fr,c),[h.memoizedState,c]}function Mo(c,h,A,R){return c={tag:c,create:h,destroy:A,deps:R,next:null},h=fr.updateQueue,h===null?(h={lastEffect:null,stores:null},fr.updateQueue=h,h.lastEffect=c.next=c):(A=h.lastEffect,A===null?h.lastEffect=c.next=c:(R=A.next,A.next=c,c.next=R,h.lastEffect=c)),c}function X0(){return Fs().memoizedState}function Jo(c,h,A,R){var F=Ri();fr.flags|=c,F.memoizedState=Mo(1|h,A,void 0,R===void 0?null:R)}function $f(c,h,A,R){var F=Fs();R=R===void 0?null:R;var N=void 0;if(Br!==null){var ee=Br.memoizedState;if(N=ee.destroy,R!==null&&qf(R,ee.deps)){F.memoizedState=Mo(h,A,N,R);return}}fr.flags|=c,F.memoizedState=Mo(1|h,A,N,R)}function es(c,h){return Jo(8390656,8,c,h)}function Tg(c,h){return $f(2048,8,c,h)}function Rg(c,h){return $f(4,2,c,h)}function q0(c,h){return $f(4,4,c,h)}function K0(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function Pg(c,h,A){return A=A!=null?A.concat([c]):null,$f(4,4,K0.bind(null,h,c),A)}function ip(){}function J0(c,h){var A=Fs();h=h===void 0?null:h;var R=A.memoizedState;return R!==null&&h!==null&&qf(h,R[1])?R[0]:(A.memoizedState=[c,h],c)}function Os(c,h){var A=Fs();h=h===void 0?null:h;var R=A.memoizedState;return R!==null&&h!==null&&qf(h,R[1])?R[0]:(c=c(),A.memoizedState=[c,h],c)}function sp(c,h,A){return(Fa&21)===0?(c.baseState&&(c.baseState=!1,En=!0),c.memoizedState=A):(Ps(A,h)||(A=yn(),fr.lanes|=A,ed|=A,c.baseState=!0),h)}function $A(c,h){var A=wn;wn=A!==0&&4>A?A:4,c(!0);var R=Su.transition;Su.transition={};try{c(!1),h()}finally{wn=A,Su.transition=R}}function ka(){return Fs().memoizedState}function op(c,h,A){var R=Lc(c);if(A={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null},Qf(c))ap(h,A);else if(A=Wf(c,h,A,R),A!==null){var F=Us();Ga(A,c,R,F),lp(A,h,R)}}function Au(c,h,A){var R=Lc(c),F={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null};if(Qf(c))ap(h,F);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=h.lastRenderedReducer,N!==null))try{var ee=h.lastRenderedState,me=N(ee,A);if(F.hasEagerState=!0,F.eagerState=me,Ps(me,ee)){var _e=h.interleaved;_e===null?(F.next=F,Ag(h)):(F.next=_e.next,_e.next=F),h.interleaved=F;return}}catch{}finally{}A=Wf(c,h,F,R),A!==null&&(F=Us(),Ga(A,c,R,F),lp(A,h,R))}}function Qf(c){var h=c.alternate;return c===fr||h!==null&&h===fr}function ap(c,h){zi=bo=!0;var A=c.pending;A===null?h.next=h:(h.next=A.next,A.next=h),c.pending=h}function lp(c,h,A){if((A&4194240)!==0){var R=h.lanes;R&=c.pendingLanes,A|=R,h.lanes=A,lr(c,A)}}var up={readContext:Ds,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},Y0={readContext:Ds,useCallback:function(c,h){return Ri().memoizedState=[c,h===void 0?null:h],c},useContext:Ds,useEffect:es,useImperativeHandle:function(c,h,A){return A=A!=null?A.concat([c]):null,Jo(4194308,4,K0.bind(null,h,c),A)},useLayoutEffect:function(c,h){return Jo(4194308,4,c,h)},useInsertionEffect:function(c,h){return Jo(4,2,c,h)},useMemo:function(c,h){var A=Ri();return h=h===void 0?null:h,c=c(),A.memoizedState=[c,h],c},useReducer:function(c,h,A){var R=Ri();return h=A!==void 0?A(h):h,R.memoizedState=R.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},R.queue=c,c=c.dispatch=op.bind(null,fr,c),[R.memoizedState,c]},useRef:function(c){var h=Ri();return c={current:c},h.memoizedState=c},useState:Cg,useDebugValue:ip,useDeferredValue:function(c){return Ri().memoizedState=c},useTransition:function(){var c=Cg(!1),h=c[0];return c=$A.bind(null,c[1]),Ri().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,A){var R=fr,F=Ri();if(hr){if(A===void 0)throw Error(n(407));A=A()}else{if(A=h(),Gi===null)throw Error(n(349));(Fa&30)!==0||rp(R,h,A)}F.memoizedState=A;var N={value:A,getSnapshot:h};return F.queue=N,es(j0.bind(null,R,N,c),[c]),R.flags|=2048,Mo(9,Yf.bind(null,R,N,A,h),void 0,null),A},useId:function(){var c=Ri(),h=Gi.identifierPrefix;if(hr){var A=Zs,R=bt;A=(R&~(1<<32-$t(R)-1)).toString(32)+A,h=":"+h+"R"+A,A=Tl++,0<A&&(h+="H"+A.toString(32)),h+=":"}else A=ps++,h=":"+h+"r"+A.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},$0={readContext:Ds,useCallback:J0,useContext:Ds,useEffect:Tg,useImperativeHandle:Pg,useInsertionEffect:Rg,useLayoutEffect:q0,useMemo:Os,useReducer:Jf,useRef:X0,useState:function(){return Jf(Pc)},useDebugValue:ip,useDeferredValue:function(c){var h=Fs();return sp(h,Br.memoizedState,c)},useTransition:function(){var c=Jf(Pc)[0],h=Fs().memoizedState;return[c,h]},useMutableSource:bg,useSyncExternalStore:Mg,useId:ka,unstable_isNewReconciler:!1},Q0={readContext:Ds,useCallback:J0,useContext:Ds,useEffect:Tg,useImperativeHandle:Pg,useInsertionEffect:Rg,useLayoutEffect:q0,useMemo:Os,useReducer:Oa,useRef:X0,useState:function(){return Oa(Pc)},useDebugValue:ip,useDeferredValue:function(c){var h=Fs();return Br===null?h.memoizedState=c:sp(h,Br.memoizedState,c)},useTransition:function(){var c=Oa(Pc)[0],h=Fs().memoizedState;return[c,h]},useMutableSource:bg,useSyncExternalStore:Mg,useId:ka,unstable_isNewReconciler:!1};function to(c,h){if(c&&c.defaultProps){h=Q({},h),c=c.defaultProps;for(var A in c)h[A]===void 0&&(h[A]=c[A]);return h}return h}function Zf(c,h,A,R){h=c.memoizedState,A=A(R,h),A=A==null?h:Q({},h,A),c.memoizedState=A,c.lanes===0&&(c.updateQueue.baseState=A)}var cp={isMounted:function(c){return(c=c._reactInternals)?On(c)===c:!1},enqueueSetState:function(c,h,A){c=c._reactInternals;var R=Us(),F=Lc(c),N=er(R,F);N.payload=h,A!=null&&(N.callback=A),h=wr(c,N,F),h!==null&&(Ga(h,c,F,R),Ni(h,c,F))},enqueueReplaceState:function(c,h,A){c=c._reactInternals;var R=Us(),F=Lc(c),N=er(R,F);N.tag=1,N.payload=h,A!=null&&(N.callback=A),h=wr(c,N,F),h!==null&&(Ga(h,c,F,R),Ni(h,c,F))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var A=Us(),R=Lc(c),F=er(A,R);F.tag=2,h!=null&&(F.callback=h),h=wr(c,F,R),h!==null&&(Ga(h,c,R,A),Ni(h,c,R))}};function Z0(c,h,A,R,F,N,ee){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(R,N,ee):h.prototype&&h.prototype.isPureReactComponent?!ru(A,R)||!ru(F,N):!0}function m(c,h,A){var R=!1,F=Ta,N=h.contextType;return typeof N=="object"&&N!==null?N=Ds(N):(F=Ui(h)?Ra:Ei.current,R=h.contextTypes,N=(R=R!=null)?uu(c,F):Ta),h=new h(A,N),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=cp,c.stateNode=h,h._reactInternals=c,R&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=F,c.__reactInternalMemoizedMaskedChildContext=N),h}function v(c,h,A,R){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(A,R),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(A,R),h.state!==c&&cp.enqueueReplaceState(h,h.state,null)}function T(c,h,A,R){var F=c.stateNode;F.props=A,F.state=c.memoizedState,F.refs={},bn(c);var N=h.contextType;typeof N=="object"&&N!==null?F.context=Ds(N):(N=Ui(h)?Ra:Ei.current,F.context=uu(c,N)),F.state=c.memoizedState,N=h.getDerivedStateFromProps,typeof N=="function"&&(Zf(c,h,N,A),F.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(h=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),h!==F.state&&cp.enqueueReplaceState(F,F.state,null),Ir(c,A,F,R),F.state=c.memoizedState),typeof F.componentDidMount=="function"&&(c.flags|=4194308)}function D(c,h){try{var A="",R=h;do A+=se(R),R=R.return;while(R);var F=A}catch(N){F=`
Error generating stack: `+N.message+`
`+N.stack}return{value:c,source:h,stack:F,digest:null}}function k(c,h,A){return{value:c,source:null,stack:A??null,digest:h??null}}function j(c,h){try{console.error(h.value)}catch(A){setTimeout(function(){throw A})}}var fe=typeof WeakMap=="function"?WeakMap:Map;function Ce(c,h,A){A=er(-1,A),A.tag=3,A.payload={element:null};var R=h.value;return A.callback=function(){ox||(ox=!0,aw=R),j(c,h)},A}function et(c,h,A){A=er(-1,A),A.tag=3;var R=c.type.getDerivedStateFromError;if(typeof R=="function"){var F=h.value;A.payload=function(){return R(F)},A.callback=function(){j(c,h)}}var N=c.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){j(c,h),typeof R!="function"&&(Bc===null?Bc=new Set([this]):Bc.add(this));var ee=h.stack;this.componentDidCatch(h.value,{componentStack:ee!==null?ee:""})}),A}function _t(c,h,A){var R=c.pingCache;if(R===null){R=c.pingCache=new fe;var F=new Set;R.set(h,F)}else F=R.get(h),F===void 0&&(F=new Set,R.set(h,F));F.has(A)||(F.add(A),c=n6.bind(null,c,h,A),h.then(c,c))}function Gt(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function pn(c,h,A,R,F){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(h=er(-1,1),h.tag=2,wr(A,h,1))),A.lanes|=1),c):(c.flags|=65536,c.lanes=F,c)}var en=M.ReactCurrentOwner,En=!1;function Ft(c,h,A,R){h.child=c===null?Hf(h,null,A,R):hu(h,c.child,A,R)}function Pi(c,h,A,R,F){A=A.render;var N=h.ref;return El(h,F),R=Kf(c,h,A,R,N,F),A=wg(),c!==null&&!En?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~F,wu(c,h,F)):(hr&&A&&gg(h),h.flags|=1,Ft(c,h,R,F),h.child)}function ks(c,h,A,R,F){if(c===null){var N=A.type;return typeof N=="function"&&!pw(N)&&N.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(h.tag=15,h.type=N,He(c,h,N,R,F)):(c=dx(A.type,null,R,h,h.mode,F),c.ref=h.ref,c.return=h,h.child=c)}if(N=c.child,(c.lanes&F)===0){var ee=N.memoizedProps;if(A=A.compare,A=A!==null?A:ru,A(ee,R)&&c.ref===h.ref)return wu(c,h,F)}return h.flags|=1,c=Oc(N,R),c.ref=h.ref,c.return=h,h.child=c}function He(c,h,A,R,F){if(c!==null){var N=c.memoizedProps;if(ru(N,R)&&c.ref===h.ref)if(En=!1,h.pendingProps=R=N,(c.lanes&F)!==0)(c.flags&131072)!==0&&(En=!0);else return h.lanes=c.lanes,wu(c,h,F)}return It(c,h,A,R,F)}function Re(c,h,A){var R=h.pendingProps,F=R.children,N=c!==null?c.memoizedState:null;if(R.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(dp,Eo),Eo|=A;else{if((A&1073741824)===0)return c=N!==null?N.baseLanes|A:A,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,ir(dp,Eo),Eo|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=N!==null?N.baseLanes:A,ir(dp,Eo),Eo|=R}else N!==null?(R=N.baseLanes|A,h.memoizedState=null):R=A,ir(dp,Eo),Eo|=R;return Ft(c,h,F,A),h.child}function Je(c,h){var A=h.ref;(c===null&&A!==null||c!==null&&c.ref!==A)&&(h.flags|=512,h.flags|=2097152)}function It(c,h,A,R,F){var N=Ui(A)?Ra:Ei.current;return N=uu(h,N),El(h,F),A=Kf(c,h,A,R,N,F),R=wg(),c!==null&&!En?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~F,wu(c,h,F)):(hr&&R&&gg(h),h.flags|=1,Ft(c,h,A,F),h.child)}function Jt(c,h,A,R,F){if(Ui(A)){var N=!0;cu(h)}else N=!1;if(El(h,F),h.stateNode===null)tx(c,h),m(h,A,R),T(h,A,R,F),R=!0;else if(c===null){var ee=h.stateNode,me=h.memoizedProps;ee.props=me;var _e=ee.context,We=A.contextType;typeof We=="object"&&We!==null?We=Ds(We):(We=Ui(A)?Ra:Ei.current,We=uu(h,We));var gt=A.getDerivedStateFromProps,xt=typeof gt=="function"||typeof ee.getSnapshotBeforeUpdate=="function";xt||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(me!==R||_e!==We)&&v(h,ee,R,We),Zn=!1;var pt=h.memoizedState;ee.state=pt,Ir(h,R,ee,F),_e=h.memoizedState,me!==R||pt!==_e||$i.current||Zn?(typeof gt=="function"&&(Zf(h,A,gt,R),_e=h.memoizedState),(me=Zn||Z0(h,A,me,R,pt,_e,We))?(xt||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(h.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=R,h.memoizedState=_e),ee.props=R,ee.state=_e,ee.context=We,R=me):(typeof ee.componentDidMount=="function"&&(h.flags|=4194308),R=!1)}else{ee=h.stateNode,kr(c,h),me=h.memoizedProps,We=h.type===h.elementType?me:to(h.type,me),ee.props=We,xt=h.pendingProps,pt=ee.context,_e=A.contextType,typeof _e=="object"&&_e!==null?_e=Ds(_e):(_e=Ui(A)?Ra:Ei.current,_e=uu(h,_e));var zt=A.getDerivedStateFromProps;(gt=typeof zt=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(me!==xt||pt!==_e)&&v(h,ee,R,_e),Zn=!1,pt=h.memoizedState,ee.state=pt,Ir(h,R,ee,F);var Xt=h.memoizedState;me!==xt||pt!==Xt||$i.current||Zn?(typeof zt=="function"&&(Zf(h,A,zt,R),Xt=h.memoizedState),(We=Zn||Z0(h,A,We,R,pt,Xt,_e)||!1)?(gt||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(R,Xt,_e),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(R,Xt,_e)),typeof ee.componentDidUpdate=="function"&&(h.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof ee.componentDidUpdate!="function"||me===c.memoizedProps&&pt===c.memoizedState||(h.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||me===c.memoizedProps&&pt===c.memoizedState||(h.flags|=1024),h.memoizedProps=R,h.memoizedState=Xt),ee.props=R,ee.state=Xt,ee.context=_e,R=We):(typeof ee.componentDidUpdate!="function"||me===c.memoizedProps&&pt===c.memoizedState||(h.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||me===c.memoizedProps&&pt===c.memoizedState||(h.flags|=1024),R=!1)}return xn(c,h,A,R,N,F)}function xn(c,h,A,R,F,N){Je(c,h);var ee=(h.flags&128)!==0;if(!R&&!ee)return F&&pg(h,A,!1),wu(c,h,N);R=h.stateNode,en.current=h;var me=ee&&typeof A.getDerivedStateFromError!="function"?null:R.render();return h.flags|=1,c!==null&&ee?(h.child=hu(h,c.child,null,N),h.child=hu(h,null,me,N)):Ft(c,h,me,N),h.memoizedState=R.state,F&&pg(h,A,!0),h.child}function mn(c){var h=c.stateNode;h.pendingContext?hg(c,h.pendingContext,h.pendingContext!==h.context):h.context&&hg(c,h.context,!1),Xf(c,h.containerInfo)}function kn(c,h,A,R,F){return Ml(),Mc(F),h.flags|=256,Ft(c,h,A,R),h.child}var jr={dehydrated:null,treeContext:null,retryLane:0};function Dn(c){return{baseLanes:c,cachePool:null,transitions:null}}function Ua(c,h,A){var R=h.pendingProps,F=pr.current,N=!1,ee=(h.flags&128)!==0,me;if((me=ee)||(me=c!==null&&c.memoizedState===null?!1:(F&2)!==0),me?(N=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(F|=1),ir(pr,F&1),c===null)return tp(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(ee=R.children,c=R.fallback,N?(R=h.mode,N=h.child,ee={mode:"hidden",children:ee},(R&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=ee):N=hx(ee,R,0,null),c=id(c,R,A,null),N.return=h,c.return=h,N.sibling=c,h.child=N,h.child.memoizedState=Dn(A),h.memoizedState=jr,c):Ig(h,ee));if(F=c.memoizedState,F!==null&&(me=F.dehydrated,me!==null))return jV(c,h,ee,R,me,F,A);if(N){N=R.fallback,ee=h.mode,F=c.child,me=F.sibling;var _e={mode:"hidden",children:R.children};return(ee&1)===0&&h.child!==F?(R=h.child,R.childLanes=0,R.pendingProps=_e,h.deletions=null):(R=Oc(F,_e),R.subtreeFlags=F.subtreeFlags&14680064),me!==null?N=Oc(me,N):(N=id(N,ee,A,null),N.flags|=2),N.return=h,R.return=h,R.sibling=N,h.child=R,R=N,N=h.child,ee=c.child.memoizedState,ee=ee===null?Dn(A):{baseLanes:ee.baseLanes|A,cachePool:null,transitions:ee.transitions},N.memoizedState=ee,N.childLanes=c.childLanes&~A,h.memoizedState=jr,R}return N=c.child,c=N.sibling,R=Oc(N,{mode:"visible",children:R.children}),(h.mode&1)===0&&(R.lanes=A),R.return=h,R.sibling=null,c!==null&&(A=h.deletions,A===null?(h.deletions=[c],h.flags|=16):A.push(c)),h.child=R,h.memoizedState=null,R}function Ig(c,h){return h=hx({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function ex(c,h,A,R){return R!==null&&Mc(R),hu(h,c.child,null,A),c=Ig(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function jV(c,h,A,R,F,N,ee){if(A)return h.flags&256?(h.flags&=-257,R=k(Error(n(422))),ex(c,h,ee,R)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(N=R.fallback,F=h.mode,R=hx({mode:"visible",children:R.children},F,0,null),N=id(N,F,ee,null),N.flags|=2,R.return=h,N.return=h,R.sibling=N,h.child=R,(h.mode&1)!==0&&hu(h,c.child,null,ee),h.child.memoizedState=Dn(ee),h.memoizedState=jr,N);if((h.mode&1)===0)return ex(c,h,ee,null);if(F.data==="$!"){if(R=F.nextSibling&&F.nextSibling.dataset,R)var me=R.dgst;return R=me,N=Error(n(419)),R=k(N,R,void 0),ex(c,h,ee,R)}if(me=(ee&c.childLanes)!==0,En||me){if(R=Gi,R!==null){switch(ee&-ee){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}F=(F&(R.suspendedLanes|ee))!==0?0:F,F!==0&&F!==N.retryLane&&(N.retryLane=F,Ao(c,F),Ga(R,c,F,-1))}return hw(),R=k(Error(n(421))),ex(c,h,ee,R)}return F.data==="$?"?(h.flags|=128,h.child=c.child,h=r6.bind(null,c),F._reactRetry=h,null):(c=N.treeContext,Zi=Ea(F.nextSibling),Ci=h,hr=!0,eo=null,c!==null&&(Qi[vi++]=bt,Qi[vi++]=Zs,Qi[vi++]=du,bt=c.id,Zs=c.overflow,du=h),h=Ig(h,R.children),h.flags|=4096,h)}function HP(c,h,A){c.lanes|=h;var R=c.alternate;R!==null&&(R.lanes|=h),jf(c.return,h,A)}function QA(c,h,A,R,F){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:R,tail:A,tailMode:F}:(N.isBackwards=h,N.rendering=null,N.renderingStartTime=0,N.last=R,N.tail=A,N.tailMode=F)}function VP(c,h,A){var R=h.pendingProps,F=R.revealOrder,N=R.tail;if(Ft(c,h,R.children,A),R=pr.current,(R&2)!==0)R=R&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&HP(c,A,h);else if(c.tag===19)HP(c,A,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}R&=1}if(ir(pr,R),(h.mode&1)===0)h.memoizedState=null;else switch(F){case"forwards":for(A=h.child,F=null;A!==null;)c=A.alternate,c!==null&&wo(c)===null&&(F=A),A=A.sibling;A=F,A===null?(F=h.child,h.child=null):(F=A.sibling,A.sibling=null),QA(h,!1,F,A,N);break;case"backwards":for(A=null,F=h.child,h.child=null;F!==null;){if(c=F.alternate,c!==null&&wo(c)===null){h.child=F;break}c=F.sibling,F.sibling=A,A=F,F=c}QA(h,!0,A,null,N);break;case"together":QA(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function tx(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function wu(c,h,A){if(c!==null&&(h.dependencies=c.dependencies),ed|=h.lanes,(A&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,A=Oc(c,c.pendingProps),h.child=A,A.return=h;c.sibling!==null;)c=c.sibling,A=A.sibling=Oc(c,c.pendingProps),A.return=h;A.sibling=null}return h.child}function WV(c,h,A){switch(h.tag){case 3:mn(h),Ml();break;case 5:xu(h);break;case 1:Ui(h.type)&&cu(h);break;case 4:Xf(h,h.stateNode.containerInfo);break;case 10:var R=h.type._context,F=h.memoizedProps.value;ir(pu,R._currentValue),R._currentValue=F;break;case 13:if(R=h.memoizedState,R!==null)return R.dehydrated!==null?(ir(pr,pr.current&1),h.flags|=128,null):(A&h.child.childLanes)!==0?Ua(c,h,A):(ir(pr,pr.current&1),c=wu(c,h,A),c!==null?c.sibling:null);ir(pr,pr.current&1);break;case 19:if(R=(A&h.childLanes)!==0,(c.flags&128)!==0){if(R)return VP(c,h,A);h.flags|=128}if(F=h.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),ir(pr,pr.current),R)break;return null;case 22:case 23:return h.lanes=0,Re(c,h,A)}return wu(c,h,A)}var jP,ZA,WP,XP;jP=function(c,h){for(var A=h.child;A!==null;){if(A.tag===5||A.tag===6)c.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},ZA=function(){},WP=function(c,h,A,R){var F=c.memoizedProps;if(F!==R){c=h.stateNode,Vr(Ls.current);var N=null;switch(A){case"input":F=re(c,F),R=re(c,R),N=[];break;case"select":F=Q({},F,{value:void 0}),R=Q({},R,{value:void 0}),N=[];break;case"textarea":F=X(c,F),R=X(c,R),N=[];break;default:typeof F.onClick!="function"&&typeof R.onClick=="function"&&(c.onclick=Ff)}pe(A,R);var ee;A=null;for(We in F)if(!R.hasOwnProperty(We)&&F.hasOwnProperty(We)&&F[We]!=null)if(We==="style"){var me=F[We];for(ee in me)me.hasOwnProperty(ee)&&(A||(A={}),A[ee]="")}else We!=="dangerouslySetInnerHTML"&&We!=="children"&&We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&We!=="autoFocus"&&(i.hasOwnProperty(We)?N||(N=[]):(N=N||[]).push(We,null));for(We in R){var _e=R[We];if(me=F!=null?F[We]:void 0,R.hasOwnProperty(We)&&_e!==me&&(_e!=null||me!=null))if(We==="style")if(me){for(ee in me)!me.hasOwnProperty(ee)||_e&&_e.hasOwnProperty(ee)||(A||(A={}),A[ee]="");for(ee in _e)_e.hasOwnProperty(ee)&&me[ee]!==_e[ee]&&(A||(A={}),A[ee]=_e[ee])}else A||(N||(N=[]),N.push(We,A)),A=_e;else We==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,me=me?me.__html:void 0,_e!=null&&me!==_e&&(N=N||[]).push(We,_e)):We==="children"?typeof _e!="string"&&typeof _e!="number"||(N=N||[]).push(We,""+_e):We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&(i.hasOwnProperty(We)?(_e!=null&&We==="onScroll"&&ur("scroll",c),N||me===_e||(N=[])):(N=N||[]).push(We,_e))}A&&(N=N||[]).push("style",A);var We=N;(h.updateQueue=We)&&(h.flags|=4)}},XP=function(c,h,A,R){A!==R&&(h.flags|=4)};function Bg(c,h){if(!hr)switch(c.tailMode){case"hidden":h=c.tail;for(var A=null;h!==null;)h.alternate!==null&&(A=h),h=h.sibling;A===null?c.tail=null:A.sibling=null;break;case"collapsed":A=c.tail;for(var R=null;A!==null;)A.alternate!==null&&(R=A),A=A.sibling;R===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:R.sibling=null}}function ms(c){var h=c.alternate!==null&&c.alternate.child===c.child,A=0,R=0;if(h)for(var F=c.child;F!==null;)A|=F.lanes|F.childLanes,R|=F.subtreeFlags&14680064,R|=F.flags&14680064,F.return=c,F=F.sibling;else for(F=c.child;F!==null;)A|=F.lanes|F.childLanes,R|=F.subtreeFlags,R|=F.flags,F.return=c,F=F.sibling;return c.subtreeFlags|=R,c.childLanes=A,h}function XV(c,h,A){var R=h.pendingProps;switch(Ia(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(h),null;case 1:return Ui(h.type)&&Of(),ms(h),null;case 3:return R=h.stateNode,Cl(),cr($i),cr(Ei),Ko(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(c===null||c.child===null)&&(bc(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,eo!==null&&(cw(eo),eo=null))),ZA(c,h),ms(h),null;case 5:Tc(h);var F=Vr(La.current);if(A=h.type,c!==null&&h.stateNode!=null)WP(c,h,A,R,F),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!R){if(h.stateNode===null)throw Error(n(166));return ms(h),null}if(c=Vr(Ls.current),bc(h)){R=h.stateNode,A=h.type;var N=h.memoizedProps;switch(R[ni]=h,R[wc]=N,c=(h.mode&1)!==0,A){case"dialog":ur("cancel",R),ur("close",R);break;case"iframe":case"object":case"embed":ur("load",R);break;case"video":case"audio":for(F=0;F<wl.length;F++)ur(wl[F],R);break;case"source":ur("error",R);break;case"img":case"image":case"link":ur("error",R),ur("load",R);break;case"details":ur("toggle",R);break;case"input":nt(R,N),ur("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!N.multiple},ur("invalid",R);break;case"textarea":he(R,N),ur("invalid",R)}pe(A,N),F=null;for(var ee in N)if(N.hasOwnProperty(ee)){var me=N[ee];ee==="children"?typeof me=="string"?R.textContent!==me&&(N.suppressHydrationWarning!==!0&&Lf(R.textContent,me,c),F=["children",me]):typeof me=="number"&&R.textContent!==""+me&&(N.suppressHydrationWarning!==!0&&Lf(R.textContent,me,c),F=["children",""+me]):i.hasOwnProperty(ee)&&me!=null&&ee==="onScroll"&&ur("scroll",R)}switch(A){case"input":Ve(R),Ae(R,N,!0);break;case"textarea":Ve(R),Me(R);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(R.onclick=Ff)}R=F,h.updateQueue=R,R!==null&&(h.flags|=4)}else{ee=F.nodeType===9?F:F.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=De(A)),c==="http://www.w3.org/1999/xhtml"?A==="script"?(c=ee.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof R.is=="string"?c=ee.createElement(A,{is:R.is}):(c=ee.createElement(A),A==="select"&&(ee=c,R.multiple?ee.multiple=!0:R.size&&(ee.size=R.size))):c=ee.createElementNS(c,A),c[ni]=h,c[wc]=R,jP(c,h,!1,!1),h.stateNode=c;e:{switch(ee=ze(A,R),A){case"dialog":ur("cancel",c),ur("close",c),F=R;break;case"iframe":case"object":case"embed":ur("load",c),F=R;break;case"video":case"audio":for(F=0;F<wl.length;F++)ur(wl[F],c);F=R;break;case"source":ur("error",c),F=R;break;case"img":case"image":case"link":ur("error",c),ur("load",c),F=R;break;case"details":ur("toggle",c),F=R;break;case"input":nt(c,R),F=re(c,R),ur("invalid",c);break;case"option":F=R;break;case"select":c._wrapperState={wasMultiple:!!R.multiple},F=Q({},R,{value:void 0}),ur("invalid",c);break;case"textarea":he(c,R),F=X(c,R),ur("invalid",c);break;default:F=R}pe(A,F),me=F;for(N in me)if(me.hasOwnProperty(N)){var _e=me[N];N==="style"?mt(c,_e):N==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&Ke(c,_e)):N==="children"?typeof _e=="string"?(A!=="textarea"||_e!=="")&&ft(c,_e):typeof _e=="number"&&ft(c,""+_e):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?_e!=null&&N==="onScroll"&&ur("scroll",c):_e!=null&&w(c,N,_e,ee))}switch(A){case"input":Ve(c),Ae(c,R,!1);break;case"textarea":Ve(c),Me(c);break;case"option":R.value!=null&&c.setAttribute("value",""+ve(R.value));break;case"select":c.multiple=!!R.multiple,N=R.value,N!=null?J(c,!!R.multiple,N,!1):R.defaultValue!=null&&J(c,!!R.multiple,R.defaultValue,!0);break;default:typeof F.onClick=="function"&&(c.onclick=Ff)}switch(A){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return ms(h),null;case 6:if(c&&h.stateNode!=null)XP(c,h,c.memoizedProps,R);else{if(typeof R!="string"&&h.stateNode===null)throw Error(n(166));if(A=Vr(La.current),Vr(Ls.current),bc(h)){if(R=h.stateNode,A=h.memoizedProps,R[ni]=h,(N=R.nodeValue!==A)&&(c=Ci,c!==null))switch(c.tag){case 3:Lf(R.nodeValue,A,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Lf(R.nodeValue,A,(c.mode&1)!==0)}N&&(h.flags|=4)}else R=(A.nodeType===9?A:A.ownerDocument).createTextNode(R),R[ni]=h,h.stateNode=R}return ms(h),null;case 13:if(cr(pr),R=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(hr&&Zi!==null&&(h.mode&1)!==0&&(h.flags&128)===0)xg(),Ml(),h.flags|=98560,N=!1;else if(N=bc(h),R!==null&&R.dehydrated!==null){if(c===null){if(!N)throw Error(n(318));if(N=h.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[ni]=h}else Ml(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ms(h),N=!1}else eo!==null&&(cw(eo),eo=null),N=!0;if(!N)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=A,h):(R=R!==null,R!==(c!==null&&c.memoizedState!==null)&&R&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(pr.current&1)!==0?Ii===0&&(Ii=3):hw())),h.updateQueue!==null&&(h.flags|=4),ms(h),null);case 4:return Cl(),ZA(c,h),c===null&&_c(h.stateNode.containerInfo),ms(h),null;case 10:return Vf(h.type._context),ms(h),null;case 17:return Ui(h.type)&&Of(),ms(h),null;case 19:if(cr(pr),N=h.memoizedState,N===null)return ms(h),null;if(R=(h.flags&128)!==0,ee=N.rendering,ee===null)if(R)Bg(N,!1);else{if(Ii!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(ee=wo(c),ee!==null){for(h.flags|=128,Bg(N,!1),R=ee.updateQueue,R!==null&&(h.updateQueue=R,h.flags|=4),h.subtreeFlags=0,R=A,A=h.child;A!==null;)N=A,c=R,N.flags&=14680066,ee=N.alternate,ee===null?(N.childLanes=0,N.lanes=c,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=ee.childLanes,N.lanes=ee.lanes,N.child=ee.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=ee.memoizedProps,N.memoizedState=ee.memoizedState,N.updateQueue=ee.updateQueue,N.type=ee.type,c=ee.dependencies,N.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A=A.sibling;return ir(pr,pr.current&1|2),h.child}c=c.sibling}N.tail!==null&&ye()>hp&&(h.flags|=128,R=!0,Bg(N,!1),h.lanes=4194304)}else{if(!R)if(c=wo(ee),c!==null){if(h.flags|=128,R=!0,A=c.updateQueue,A!==null&&(h.updateQueue=A,h.flags|=4),Bg(N,!0),N.tail===null&&N.tailMode==="hidden"&&!ee.alternate&&!hr)return ms(h),null}else 2*ye()-N.renderingStartTime>hp&&A!==1073741824&&(h.flags|=128,R=!0,Bg(N,!1),h.lanes=4194304);N.isBackwards?(ee.sibling=h.child,h.child=ee):(A=N.last,A!==null?A.sibling=ee:h.child=ee,N.last=ee)}return N.tail!==null?(h=N.tail,N.rendering=h,N.tail=h.sibling,N.renderingStartTime=ye(),h.sibling=null,A=pr.current,ir(pr,R?A&1|2:A&1),h):(ms(h),null);case 22:case 23:return dw(),R=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==R&&(h.flags|=8192),R&&(h.mode&1)!==0?(Eo&1073741824)!==0&&(ms(h),h.subtreeFlags&6&&(h.flags|=8192)):ms(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function qV(c,h){switch(Ia(h),h.tag){case 1:return Ui(h.type)&&Of(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Cl(),cr($i),cr(Ei),Ko(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return Tc(h),null;case 13:if(cr(pr),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Ml()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return cr(pr),null;case 4:return Cl(),null;case 10:return Vf(h.type._context),null;case 22:case 23:return dw(),null;case 24:return null;default:return null}}var nx=!1,gs=!1,KV=typeof WeakSet=="function"?WeakSet:Set,jt=null;function fp(c,h){var A=c.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(R){Wr(c,h,R)}else A.current=null}function ew(c,h,A){try{A()}catch(R){Wr(c,h,R)}}var qP=!1;function JV(c,h){if(Ac=ci,c=Tr(),hi(c)){if("selectionStart"in c)var A={start:c.selectionStart,end:c.selectionEnd};else e:{A=(A=c.ownerDocument)&&A.defaultView||window;var R=A.getSelection&&A.getSelection();if(R&&R.rangeCount!==0){A=R.anchorNode;var F=R.anchorOffset,N=R.focusNode;R=R.focusOffset;try{A.nodeType,N.nodeType}catch{A=null;break e}var ee=0,me=-1,_e=-1,We=0,gt=0,xt=c,pt=null;t:for(;;){for(var zt;xt!==A||F!==0&&xt.nodeType!==3||(me=ee+F),xt!==N||R!==0&&xt.nodeType!==3||(_e=ee+R),xt.nodeType===3&&(ee+=xt.nodeValue.length),(zt=xt.firstChild)!==null;)pt=xt,xt=zt;for(;;){if(xt===c)break t;if(pt===A&&++We===F&&(me=ee),pt===N&&++gt===R&&(_e=ee),(zt=xt.nextSibling)!==null)break;xt=pt,pt=xt.parentNode}xt=zt}A=me===-1||_e===-1?null:{start:me,end:_e}}else A=null}A=A||{start:0,end:0}}else A=null;for(ag={focusedElem:c,selectionRange:A},ci=!1,jt=h;jt!==null;)if(h=jt,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,jt=c;else for(;jt!==null;){h=jt;try{var Xt=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Xt!==null){var Kt=Xt.memoizedProps,ri=Xt.memoizedState,Oe=h.stateNode,be=Oe.getSnapshotBeforeUpdate(h.elementType===h.type?Kt:to(h.type,Kt),ri);Oe.__reactInternalSnapshotBeforeUpdate=be}break;case 3:var Ge=h.stateNode.containerInfo;Ge.nodeType===1?Ge.textContent="":Ge.nodeType===9&&Ge.documentElement&&Ge.removeChild(Ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(At){Wr(h,h.return,At)}if(c=h.sibling,c!==null){c.return=h.return,jt=c;break}jt=h.return}return Xt=qP,qP=!1,Xt}function Dg(c,h,A){var R=h.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var F=R=R.next;do{if((F.tag&c)===c){var N=F.destroy;F.destroy=void 0,N!==void 0&&ew(h,A,N)}F=F.next}while(F!==R)}}function rx(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var A=h=h.next;do{if((A.tag&c)===c){var R=A.create;A.destroy=R()}A=A.next}while(A!==h)}}function tw(c){var h=c.ref;if(h!==null){var A=c.stateNode;switch(c.tag){case 5:c=A;break;default:c=A}typeof h=="function"?h(c):h.current=c}}function KP(c){var h=c.alternate;h!==null&&(c.alternate=null,KP(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[ni],delete h[wc],delete h[lu],delete h[Kh],delete h[Jh])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function JP(c){return c.tag===5||c.tag===3||c.tag===4}function YP(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||JP(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function nw(c,h,A){var R=c.tag;if(R===5||R===6)c=c.stateNode,h?A.nodeType===8?A.parentNode.insertBefore(c,h):A.insertBefore(c,h):(A.nodeType===8?(h=A.parentNode,h.insertBefore(c,A)):(h=A,h.appendChild(c)),A=A._reactRootContainer,A!=null||h.onclick!==null||(h.onclick=Ff));else if(R!==4&&(c=c.child,c!==null))for(nw(c,h,A),c=c.sibling;c!==null;)nw(c,h,A),c=c.sibling}function rw(c,h,A){var R=c.tag;if(R===5||R===6)c=c.stateNode,h?A.insertBefore(c,h):A.appendChild(c);else if(R!==4&&(c=c.child,c!==null))for(rw(c,h,A),c=c.sibling;c!==null;)rw(c,h,A),c=c.sibling}var ts=null,Na=!1;function Ic(c,h,A){for(A=A.child;A!==null;)$P(c,h,A),A=A.sibling}function $P(c,h,A){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(wt,A)}catch{}switch(A.tag){case 5:gs||fp(A,h);case 6:var R=ts,F=Na;ts=null,Ic(c,h,A),ts=R,Na=F,ts!==null&&(Na?(c=ts,A=A.stateNode,c.nodeType===8?c.parentNode.removeChild(A):c.removeChild(A)):ts.removeChild(A.stateNode));break;case 18:ts!==null&&(Na?(c=ts,A=A.stateNode,c.nodeType===8?qh(c.parentNode,A):c.nodeType===1&&qh(c,A),ml(c)):qh(ts,A.stateNode));break;case 4:R=ts,F=Na,ts=A.stateNode.containerInfo,Na=!0,Ic(c,h,A),ts=R,Na=F;break;case 0:case 11:case 14:case 15:if(!gs&&(R=A.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){F=R=R.next;do{var N=F,ee=N.destroy;N=N.tag,ee!==void 0&&((N&2)!==0||(N&4)!==0)&&ew(A,h,ee),F=F.next}while(F!==R)}Ic(c,h,A);break;case 1:if(!gs&&(fp(A,h),R=A.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=A.memoizedProps,R.state=A.memoizedState,R.componentWillUnmount()}catch(me){Wr(A,h,me)}Ic(c,h,A);break;case 21:Ic(c,h,A);break;case 22:A.mode&1?(gs=(R=gs)||A.memoizedState!==null,Ic(c,h,A),gs=R):Ic(c,h,A);break;default:Ic(c,h,A)}}function QP(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var A=c.stateNode;A===null&&(A=c.stateNode=new KV),h.forEach(function(R){var F=i6.bind(null,c,R);A.has(R)||(A.add(R),R.then(F,F))})}}function za(c,h){var A=h.deletions;if(A!==null)for(var R=0;R<A.length;R++){var F=A[R];try{var N=c,ee=h,me=ee;e:for(;me!==null;){switch(me.tag){case 5:ts=me.stateNode,Na=!1;break e;case 3:ts=me.stateNode.containerInfo,Na=!0;break e;case 4:ts=me.stateNode.containerInfo,Na=!0;break e}me=me.return}if(ts===null)throw Error(n(160));$P(N,ee,F),ts=null,Na=!1;var _e=F.alternate;_e!==null&&(_e.return=null),F.return=null}catch(We){Wr(F,h,We)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)ZP(h,c),h=h.sibling}function ZP(c,h){var A=c.alternate,R=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(za(h,c),Rl(c),R&4){try{Dg(3,c,c.return),rx(3,c)}catch(Kt){Wr(c,c.return,Kt)}try{Dg(5,c,c.return)}catch(Kt){Wr(c,c.return,Kt)}}break;case 1:za(h,c),Rl(c),R&512&&A!==null&&fp(A,A.return);break;case 5:if(za(h,c),Rl(c),R&512&&A!==null&&fp(A,A.return),c.flags&32){var F=c.stateNode;try{ft(F,"")}catch(Kt){Wr(c,c.return,Kt)}}if(R&4&&(F=c.stateNode,F!=null)){var N=c.memoizedProps,ee=A!==null?A.memoizedProps:N,me=c.type,_e=c.updateQueue;if(c.updateQueue=null,_e!==null)try{me==="input"&&N.type==="radio"&&N.name!=null&&ke(F,N),ze(me,ee);var We=ze(me,N);for(ee=0;ee<_e.length;ee+=2){var gt=_e[ee],xt=_e[ee+1];gt==="style"?mt(F,xt):gt==="dangerouslySetInnerHTML"?Ke(F,xt):gt==="children"?ft(F,xt):w(F,gt,xt,We)}switch(me){case"input":Ze(F,N);break;case"textarea":Se(F,N);break;case"select":var pt=F._wrapperState.wasMultiple;F._wrapperState.wasMultiple=!!N.multiple;var zt=N.value;zt!=null?J(F,!!N.multiple,zt,!1):pt!==!!N.multiple&&(N.defaultValue!=null?J(F,!!N.multiple,N.defaultValue,!0):J(F,!!N.multiple,N.multiple?[]:"",!1))}F[wc]=N}catch(Kt){Wr(c,c.return,Kt)}}break;case 6:if(za(h,c),Rl(c),R&4){if(c.stateNode===null)throw Error(n(162));F=c.stateNode,N=c.memoizedProps;try{F.nodeValue=N}catch(Kt){Wr(c,c.return,Kt)}}break;case 3:if(za(h,c),Rl(c),R&4&&A!==null&&A.memoizedState.isDehydrated)try{ml(h.containerInfo)}catch(Kt){Wr(c,c.return,Kt)}break;case 4:za(h,c),Rl(c);break;case 13:za(h,c),Rl(c),F=c.child,F.flags&8192&&(N=F.memoizedState!==null,F.stateNode.isHidden=N,!N||F.alternate!==null&&F.alternate.memoizedState!==null||(ow=ye())),R&4&&QP(c);break;case 22:if(gt=A!==null&&A.memoizedState!==null,c.mode&1?(gs=(We=gs)||gt,za(h,c),gs=We):za(h,c),Rl(c),R&8192){if(We=c.memoizedState!==null,(c.stateNode.isHidden=We)&&!gt&&(c.mode&1)!==0)for(jt=c,gt=c.child;gt!==null;){for(xt=jt=gt;jt!==null;){switch(pt=jt,zt=pt.child,pt.tag){case 0:case 11:case 14:case 15:Dg(4,pt,pt.return);break;case 1:fp(pt,pt.return);var Xt=pt.stateNode;if(typeof Xt.componentWillUnmount=="function"){R=pt,A=pt.return;try{h=R,Xt.props=h.memoizedProps,Xt.state=h.memoizedState,Xt.componentWillUnmount()}catch(Kt){Wr(R,A,Kt)}}break;case 5:fp(pt,pt.return);break;case 22:if(pt.memoizedState!==null){nI(xt);continue}}zt!==null?(zt.return=pt,jt=zt):nI(xt)}gt=gt.sibling}e:for(gt=null,xt=c;;){if(xt.tag===5){if(gt===null){gt=xt;try{F=xt.stateNode,We?(N=F.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(me=xt.stateNode,_e=xt.memoizedProps.style,ee=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,me.style.display=at("display",ee))}catch(Kt){Wr(c,c.return,Kt)}}}else if(xt.tag===6){if(gt===null)try{xt.stateNode.nodeValue=We?"":xt.memoizedProps}catch(Kt){Wr(c,c.return,Kt)}}else if((xt.tag!==22&&xt.tag!==23||xt.memoizedState===null||xt===c)&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===c)break e;for(;xt.sibling===null;){if(xt.return===null||xt.return===c)break e;gt===xt&&(gt=null),xt=xt.return}gt===xt&&(gt=null),xt.sibling.return=xt.return,xt=xt.sibling}}break;case 19:za(h,c),Rl(c),R&4&&QP(c);break;case 21:break;default:za(h,c),Rl(c)}}function Rl(c){var h=c.flags;if(h&2){try{e:{for(var A=c.return;A!==null;){if(JP(A)){var R=A;break e}A=A.return}throw Error(n(160))}switch(R.tag){case 5:var F=R.stateNode;R.flags&32&&(ft(F,""),R.flags&=-33);var N=YP(c);rw(c,N,F);break;case 3:case 4:var ee=R.stateNode.containerInfo,me=YP(c);nw(c,me,ee);break;default:throw Error(n(161))}}catch(_e){Wr(c,c.return,_e)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function YV(c,h,A){jt=c,eI(c)}function eI(c,h,A){for(var R=(c.mode&1)!==0;jt!==null;){var F=jt,N=F.child;if(F.tag===22&&R){var ee=F.memoizedState!==null||nx;if(!ee){var me=F.alternate,_e=me!==null&&me.memoizedState!==null||gs;me=nx;var We=gs;if(nx=ee,(gs=_e)&&!We)for(jt=F;jt!==null;)ee=jt,_e=ee.child,ee.tag===22&&ee.memoizedState!==null?rI(F):_e!==null?(_e.return=ee,jt=_e):rI(F);for(;N!==null;)jt=N,eI(N),N=N.sibling;jt=F,nx=me,gs=We}tI(c)}else(F.subtreeFlags&8772)!==0&&N!==null?(N.return=F,jt=N):tI(c)}}function tI(c){for(;jt!==null;){var h=jt;if((h.flags&8772)!==0){var A=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:gs||rx(5,h);break;case 1:var R=h.stateNode;if(h.flags&4&&!gs)if(A===null)R.componentDidMount();else{var F=h.elementType===h.type?A.memoizedProps:to(h.type,A.memoizedProps);R.componentDidUpdate(F,A.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var N=h.updateQueue;N!==null&&Cc(h,N,R);break;case 3:var ee=h.updateQueue;if(ee!==null){if(A=null,h.child!==null)switch(h.child.tag){case 5:A=h.child.stateNode;break;case 1:A=h.child.stateNode}Cc(h,ee,A)}break;case 5:var me=h.stateNode;if(A===null&&h.flags&4){A=me;var _e=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&A.focus();break;case"img":_e.src&&(A.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var We=h.alternate;if(We!==null){var gt=We.memoizedState;if(gt!==null){var xt=gt.dehydrated;xt!==null&&ml(xt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}gs||h.flags&512&&tw(h)}catch(pt){Wr(h,h.return,pt)}}if(h===c){jt=null;break}if(A=h.sibling,A!==null){A.return=h.return,jt=A;break}jt=h.return}}function nI(c){for(;jt!==null;){var h=jt;if(h===c){jt=null;break}var A=h.sibling;if(A!==null){A.return=h.return,jt=A;break}jt=h.return}}function rI(c){for(;jt!==null;){var h=jt;try{switch(h.tag){case 0:case 11:case 15:var A=h.return;try{rx(4,h)}catch(_e){Wr(h,A,_e)}break;case 1:var R=h.stateNode;if(typeof R.componentDidMount=="function"){var F=h.return;try{R.componentDidMount()}catch(_e){Wr(h,F,_e)}}var N=h.return;try{tw(h)}catch(_e){Wr(h,N,_e)}break;case 5:var ee=h.return;try{tw(h)}catch(_e){Wr(h,ee,_e)}}}catch(_e){Wr(h,h.return,_e)}if(h===c){jt=null;break}var me=h.sibling;if(me!==null){me.return=h.return,jt=me;break}jt=h.return}}var $V=Math.ceil,ix=M.ReactCurrentDispatcher,iw=M.ReactCurrentOwner,Yo=M.ReactCurrentBatchConfig,qn=0,Gi=null,yi=null,ns=0,Eo=0,dp=Pr(0),Ii=0,Lg=null,ed=0,sx=0,sw=0,Fg=null,no=null,ow=0,hp=1/0,bu=null,ox=!1,aw=null,Bc=null,ax=!1,Dc=null,lx=0,Og=0,lw=null,ux=-1,cx=0;function Us(){return(qn&6)!==0?ye():ux!==-1?ux:ux=ye()}function Lc(c){return(c.mode&1)===0?1:(qn&2)!==0&&ns!==0?ns&-ns:YA.transition!==null?(cx===0&&(cx=yn()),cx):(c=wn,c!==0||(c=window.event,c=c===void 0?16:vl(c.type)),c)}function Ga(c,h,A,R){if(50<Og)throw Og=0,lw=null,Error(n(185));_r(c,A,R),((qn&2)===0||c!==Gi)&&(c===Gi&&((qn&2)===0&&(sx|=A),Ii===4&&Fc(c,ns)),ro(c,R),A===1&&qn===0&&(h.mode&1)===0&&(hp=ye()+500,Uf&&Xo()))}function ro(c,h){var A=c.callbackNode;rr(c,h);var R=Wt(c,c===Gi?ns:0);if(R===0)A!==null&&ne(A),c.callbackNode=null,c.callbackPriority=0;else if(h=R&-R,c.callbackPriority!==h){if(A!=null&&ne(A),h===1)c.tag===0?V0(sI.bind(null,c)):Nf(sI.bind(null,c)),JA(function(){(qn&6)===0&&Xo()}),A=null;else{switch(li(R)){case 1:A=ct;break;case 4:A=lt;break;case 16:A=yt;break;case 536870912:A=Ht;break;default:A=yt}A=hI(A,iI.bind(null,c))}c.callbackPriority=h,c.callbackNode=A}}function iI(c,h){if(ux=-1,cx=0,(qn&6)!==0)throw Error(n(327));var A=c.callbackNode;if(pp()&&c.callbackNode!==A)return null;var R=Wt(c,c===Gi?ns:0);if(R===0)return null;if((R&30)!==0||(R&c.expiredLanes)!==0||h)h=fx(c,R);else{h=R;var F=qn;qn|=2;var N=aI();(Gi!==c||ns!==h)&&(bu=null,hp=ye()+500,nd(c,h));do try{e6();break}catch(me){oI(c,me)}while(!0);gu(),ix.current=N,qn=F,yi!==null?h=0:(Gi=null,ns=0,h=Ii)}if(h!==0){if(h===2&&(F=yr(c),F!==0&&(R=F,h=uw(c,F))),h===1)throw A=Lg,nd(c,0),Fc(c,R),ro(c,ye()),A;if(h===6)Fc(c,R);else{if(F=c.current.alternate,(R&30)===0&&!QV(F)&&(h=fx(c,R),h===2&&(N=yr(c),N!==0&&(R=N,h=uw(c,N))),h===1))throw A=Lg,nd(c,0),Fc(c,R),ro(c,ye()),A;switch(c.finishedWork=F,c.finishedLanes=R,h){case 0:case 1:throw Error(n(345));case 2:rd(c,no,bu);break;case 3:if(Fc(c,R),(R&130023424)===R&&(h=ow+500-ye(),10<h)){if(Wt(c,0)!==0)break;if(F=c.suspendedLanes,(F&R)!==R){Us(),c.pingedLanes|=c.suspendedLanes&F;break}c.timeoutHandle=ug(rd.bind(null,c,no,bu),h);break}rd(c,no,bu);break;case 4:if(Fc(c,R),(R&4194240)===R)break;for(h=c.eventTimes,F=-1;0<R;){var ee=31-$t(R);N=1<<ee,ee=h[ee],ee>F&&(F=ee),R&=~N}if(R=F,R=ye()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*$V(R/1960))-R,10<R){c.timeoutHandle=ug(rd.bind(null,c,no,bu),R);break}rd(c,no,bu);break;case 5:rd(c,no,bu);break;default:throw Error(n(329))}}}return ro(c,ye()),c.callbackNode===A?iI.bind(null,c):null}function uw(c,h){var A=Fg;return c.current.memoizedState.isDehydrated&&(nd(c,h).flags|=256),c=fx(c,h),c!==2&&(h=no,no=A,h!==null&&cw(h)),c}function cw(c){no===null?no=c:no.push.apply(no,c)}function QV(c){for(var h=c;;){if(h.flags&16384){var A=h.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var R=0;R<A.length;R++){var F=A[R],N=F.getSnapshot;F=F.value;try{if(!Ps(N(),F))return!1}catch{return!1}}}if(A=h.child,h.subtreeFlags&16384&&A!==null)A.return=h,h=A;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Fc(c,h){for(h&=~sw,h&=~sx,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var A=31-$t(h),R=1<<A;c[A]=-1,h&=~R}}function sI(c){if((qn&6)!==0)throw Error(n(327));pp();var h=Wt(c,0);if((h&1)===0)return ro(c,ye()),null;var A=fx(c,h);if(c.tag!==0&&A===2){var R=yr(c);R!==0&&(h=R,A=uw(c,R))}if(A===1)throw A=Lg,nd(c,0),Fc(c,h),ro(c,ye()),A;if(A===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,rd(c,no,bu),ro(c,ye()),null}function fw(c,h){var A=qn;qn|=1;try{return c(h)}finally{qn=A,qn===0&&(hp=ye()+500,Uf&&Xo())}}function td(c){Dc!==null&&Dc.tag===0&&(qn&6)===0&&pp();var h=qn;qn|=1;var A=Yo.transition,R=wn;try{if(Yo.transition=null,wn=1,c)return c()}finally{wn=R,Yo.transition=A,qn=h,(qn&6)===0&&Xo()}}function dw(){Eo=dp.current,cr(dp)}function nd(c,h){c.finishedWork=null,c.finishedLanes=0;var A=c.timeoutHandle;if(A!==-1&&(c.timeoutHandle=-1,cg(A)),yi!==null)for(A=yi.return;A!==null;){var R=A;switch(Ia(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Of();break;case 3:Cl(),cr($i),cr(Ei),Ko();break;case 5:Tc(R);break;case 4:Cl();break;case 13:cr(pr);break;case 19:cr(pr);break;case 10:Vf(R.type._context);break;case 22:case 23:dw()}A=A.return}if(Gi=c,yi=c=Oc(c.current,null),ns=Eo=h,Ii=0,Lg=null,sw=sx=ed=0,no=Fg=null,Da!==null){for(h=0;h<Da.length;h++)if(A=Da[h],R=A.interleaved,R!==null){A.interleaved=null;var F=R.next,N=A.pending;if(N!==null){var ee=N.next;N.next=F,R.next=ee}A.pending=R}Da=null}return c}function oI(c,h){do{var A=yi;try{if(gu(),_u.current=up,bo){for(var R=fr.memoizedState;R!==null;){var F=R.queue;F!==null&&(F.pending=null),R=R.next}bo=!1}if(Fa=0,Vn=Br=fr=null,zi=!1,Tl=0,iw.current=null,A===null||A.return===null){Ii=1,Lg=h,yi=null;break}e:{var N=c,ee=A.return,me=A,_e=h;if(h=ns,me.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var We=_e,gt=me,xt=gt.tag;if((gt.mode&1)===0&&(xt===0||xt===11||xt===15)){var pt=gt.alternate;pt?(gt.updateQueue=pt.updateQueue,gt.memoizedState=pt.memoizedState,gt.lanes=pt.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var zt=Gt(ee);if(zt!==null){zt.flags&=-257,pn(zt,ee,me,N,h),zt.mode&1&&_t(N,We,h),h=zt,_e=We;var Xt=h.updateQueue;if(Xt===null){var Kt=new Set;Kt.add(_e),h.updateQueue=Kt}else Xt.add(_e);break e}else{if((h&1)===0){_t(N,We,h),hw();break e}_e=Error(n(426))}}else if(hr&&me.mode&1){var ri=Gt(ee);if(ri!==null){(ri.flags&65536)===0&&(ri.flags|=256),pn(ri,ee,me,N,h),Mc(D(_e,me));break e}}N=_e=D(_e,me),Ii!==4&&(Ii=2),Fg===null?Fg=[N]:Fg.push(N),N=ee;do{switch(N.tag){case 3:N.flags|=65536,h&=-h,N.lanes|=h;var Oe=Ce(N,_e,h);vu(N,Oe);break e;case 1:me=_e;var be=N.type,Ge=N.stateNode;if((N.flags&128)===0&&(typeof be.getDerivedStateFromError=="function"||Ge!==null&&typeof Ge.componentDidCatch=="function"&&(Bc===null||!Bc.has(Ge)))){N.flags|=65536,h&=-h,N.lanes|=h;var At=et(N,me,h);vu(N,At);break e}}N=N.return}while(N!==null)}uI(A)}catch(Qt){h=Qt,yi===A&&A!==null&&(yi=A=A.return);continue}break}while(!0)}function aI(){var c=ix.current;return ix.current=up,c===null?up:c}function hw(){(Ii===0||Ii===3||Ii===2)&&(Ii=4),Gi===null||(ed&268435455)===0&&(sx&268435455)===0||Fc(Gi,ns)}function fx(c,h){var A=qn;qn|=2;var R=aI();(Gi!==c||ns!==h)&&(bu=null,nd(c,h));do try{ZV();break}catch(F){oI(c,F)}while(!0);if(gu(),qn=A,ix.current=R,yi!==null)throw Error(n(261));return Gi=null,ns=0,Ii}function ZV(){for(;yi!==null;)lI(yi)}function e6(){for(;yi!==null&&!Ee();)lI(yi)}function lI(c){var h=dI(c.alternate,c,Eo);c.memoizedProps=c.pendingProps,h===null?uI(c):yi=h,iw.current=null}function uI(c){var h=c;do{var A=h.alternate;if(c=h.return,(h.flags&32768)===0){if(A=XV(A,h,Eo),A!==null){yi=A;return}}else{if(A=qV(A,h),A!==null){A.flags&=32767,yi=A;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Ii=6,yi=null;return}}if(h=h.sibling,h!==null){yi=h;return}yi=h=c}while(h!==null);Ii===0&&(Ii=5)}function rd(c,h,A){var R=wn,F=Yo.transition;try{Yo.transition=null,wn=1,t6(c,h,A,R)}finally{Yo.transition=F,wn=R}return null}function t6(c,h,A,R){do pp();while(Dc!==null);if((qn&6)!==0)throw Error(n(327));A=c.finishedWork;var F=c.finishedLanes;if(A===null)return null;if(c.finishedWork=null,c.finishedLanes=0,A===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var N=A.lanes|A.childLanes;if(Gr(c,N),c===Gi&&(yi=Gi=null,ns=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||ax||(ax=!0,hI(yt,function(){return pp(),null})),N=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||N){N=Yo.transition,Yo.transition=null;var ee=wn;wn=1;var me=qn;qn|=4,iw.current=null,JV(c,A),ZP(A,c),pi(ag),ci=!!Ac,ag=Ac=null,c.current=A,YV(A),Ue(),qn=me,wn=ee,Yo.transition=N}else c.current=A;if(ax&&(ax=!1,Dc=c,lx=F),N=c.pendingLanes,N===0&&(Bc=null),Nt(A.stateNode),ro(c,ye()),h!==null)for(R=c.onRecoverableError,A=0;A<h.length;A++)F=h[A],R(F.value,{componentStack:F.stack,digest:F.digest});if(ox)throw ox=!1,c=aw,aw=null,c;return(lx&1)!==0&&c.tag!==0&&pp(),N=c.pendingLanes,(N&1)!==0?c===lw?Og++:(Og=0,lw=c):Og=0,Xo(),null}function pp(){if(Dc!==null){var c=li(lx),h=Yo.transition,A=wn;try{if(Yo.transition=null,wn=16>c?16:c,Dc===null)var R=!1;else{if(c=Dc,Dc=null,lx=0,(qn&6)!==0)throw Error(n(331));var F=qn;for(qn|=4,jt=c.current;jt!==null;){var N=jt,ee=N.child;if((jt.flags&16)!==0){var me=N.deletions;if(me!==null){for(var _e=0;_e<me.length;_e++){var We=me[_e];for(jt=We;jt!==null;){var gt=jt;switch(gt.tag){case 0:case 11:case 15:Dg(8,gt,N)}var xt=gt.child;if(xt!==null)xt.return=gt,jt=xt;else for(;jt!==null;){gt=jt;var pt=gt.sibling,zt=gt.return;if(KP(gt),gt===We){jt=null;break}if(pt!==null){pt.return=zt,jt=pt;break}jt=zt}}}var Xt=N.alternate;if(Xt!==null){var Kt=Xt.child;if(Kt!==null){Xt.child=null;do{var ri=Kt.sibling;Kt.sibling=null,Kt=ri}while(Kt!==null)}}jt=N}}if((N.subtreeFlags&2064)!==0&&ee!==null)ee.return=N,jt=ee;else e:for(;jt!==null;){if(N=jt,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Dg(9,N,N.return)}var Oe=N.sibling;if(Oe!==null){Oe.return=N.return,jt=Oe;break e}jt=N.return}}var be=c.current;for(jt=be;jt!==null;){ee=jt;var Ge=ee.child;if((ee.subtreeFlags&2064)!==0&&Ge!==null)Ge.return=ee,jt=Ge;else e:for(ee=be;jt!==null;){if(me=jt,(me.flags&2048)!==0)try{switch(me.tag){case 0:case 11:case 15:rx(9,me)}}catch(Qt){Wr(me,me.return,Qt)}if(me===ee){jt=null;break e}var At=me.sibling;if(At!==null){At.return=me.return,jt=At;break e}jt=me.return}}if(qn=F,Xo(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(wt,c)}catch{}R=!0}return R}finally{wn=A,Yo.transition=h}}return!1}function cI(c,h,A){h=D(A,h),h=Ce(c,h,1),c=wr(c,h,1),h=Us(),c!==null&&(_r(c,1,h),ro(c,h))}function Wr(c,h,A){if(c.tag===3)cI(c,c,A);else for(;h!==null;){if(h.tag===3){cI(h,c,A);break}else if(h.tag===1){var R=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Bc===null||!Bc.has(R))){c=D(A,c),c=et(h,c,1),h=wr(h,c,1),c=Us(),h!==null&&(_r(h,1,c),ro(h,c));break}}h=h.return}}function n6(c,h,A){var R=c.pingCache;R!==null&&R.delete(h),h=Us(),c.pingedLanes|=c.suspendedLanes&A,Gi===c&&(ns&A)===A&&(Ii===4||Ii===3&&(ns&130023424)===ns&&500>ye()-ow?nd(c,0):sw|=A),ro(c,h)}function fI(c,h){h===0&&((c.mode&1)===0?h=1:(h=ln,ln<<=1,(ln&130023424)===0&&(ln=4194304)));var A=Us();c=Ao(c,h),c!==null&&(_r(c,h,A),ro(c,A))}function r6(c){var h=c.memoizedState,A=0;h!==null&&(A=h.retryLane),fI(c,A)}function i6(c,h){var A=0;switch(c.tag){case 13:var R=c.stateNode,F=c.memoizedState;F!==null&&(A=F.retryLane);break;case 19:R=c.stateNode;break;default:throw Error(n(314))}R!==null&&R.delete(h),fI(c,A)}var dI;dI=function(c,h,A){if(c!==null)if(c.memoizedProps!==h.pendingProps||$i.current)En=!0;else{if((c.lanes&A)===0&&(h.flags&128)===0)return En=!1,WV(c,h,A);En=(c.flags&131072)!==0}else En=!1,hr&&(h.flags&1048576)!==0&&mg(h,Zh,h.index);switch(h.lanes=0,h.tag){case 2:var R=h.type;tx(c,h),c=h.pendingProps;var F=uu(h,Ei.current);El(h,A),F=Kf(null,h,R,c,F,A);var N=wg();return h.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Ui(R)?(N=!0,cu(h)):N=!1,h.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,bn(h),F.updater=cp,h.stateNode=F,F._reactInternals=h,T(h,R,c,A),h=xn(null,h,R,!0,N,A)):(h.tag=0,hr&&N&&gg(h),Ft(null,h,F,A),h=h.child),h;case 16:R=h.elementType;e:{switch(tx(c,h),c=h.pendingProps,F=R._init,R=F(R._payload),h.type=R,F=h.tag=o6(R),c=to(R,c),F){case 0:h=It(null,h,R,c,A);break e;case 1:h=Jt(null,h,R,c,A);break e;case 11:h=Pi(null,h,R,c,A);break e;case 14:h=ks(null,h,R,to(R.type,c),A);break e}throw Error(n(306,R,""))}return h;case 0:return R=h.type,F=h.pendingProps,F=h.elementType===R?F:to(R,F),It(c,h,R,F,A);case 1:return R=h.type,F=h.pendingProps,F=h.elementType===R?F:to(R,F),Jt(c,h,R,F,A);case 3:e:{if(mn(h),c===null)throw Error(n(387));R=h.pendingProps,N=h.memoizedState,F=N.element,kr(c,h),Ir(h,R,null,A);var ee=h.memoizedState;if(R=ee.element,N.isDehydrated)if(N={element:R,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},h.updateQueue.baseState=N,h.memoizedState=N,h.flags&256){F=D(Error(n(423)),h),h=kn(c,h,R,A,F);break e}else if(R!==F){F=D(Error(n(424)),h),h=kn(c,h,R,A,F);break e}else for(Zi=Ea(h.stateNode.containerInfo.firstChild),Ci=h,hr=!0,eo=null,A=Hf(h,null,R,A),h.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Ml(),R===F){h=wu(c,h,A);break e}Ft(c,h,R,A)}h=h.child}return h;case 5:return xu(h),c===null&&tp(h),R=h.type,F=h.pendingProps,N=c!==null?c.memoizedProps:null,ee=F.children,lg(R,F)?ee=null:N!==null&&lg(R,N)&&(h.flags|=32),Je(c,h),Ft(c,h,ee,A),h.child;case 6:return c===null&&tp(h),null;case 13:return Ua(c,h,A);case 4:return Xf(h,h.stateNode.containerInfo),R=h.pendingProps,c===null?h.child=hu(h,null,R,A):Ft(c,h,R,A),h.child;case 11:return R=h.type,F=h.pendingProps,F=h.elementType===R?F:to(R,F),Pi(c,h,R,F,A);case 7:return Ft(c,h,h.pendingProps,A),h.child;case 8:return Ft(c,h,h.pendingProps.children,A),h.child;case 12:return Ft(c,h,h.pendingProps.children,A),h.child;case 10:e:{if(R=h.type._context,F=h.pendingProps,N=h.memoizedProps,ee=F.value,ir(pu,R._currentValue),R._currentValue=ee,N!==null)if(Ps(N.value,ee)){if(N.children===F.children&&!$i.current){h=wu(c,h,A);break e}}else for(N=h.child,N!==null&&(N.return=h);N!==null;){var me=N.dependencies;if(me!==null){ee=N.child;for(var _e=me.firstContext;_e!==null;){if(_e.context===R){if(N.tag===1){_e=er(-1,A&-A),_e.tag=2;var We=N.updateQueue;if(We!==null){We=We.shared;var gt=We.pending;gt===null?_e.next=_e:(_e.next=gt.next,gt.next=_e),We.pending=_e}}N.lanes|=A,_e=N.alternate,_e!==null&&(_e.lanes|=A),jf(N.return,A,h),me.lanes|=A;break}_e=_e.next}}else if(N.tag===10)ee=N.type===h.type?null:N.child;else if(N.tag===18){if(ee=N.return,ee===null)throw Error(n(341));ee.lanes|=A,me=ee.alternate,me!==null&&(me.lanes|=A),jf(ee,A,h),ee=N.sibling}else ee=N.child;if(ee!==null)ee.return=N;else for(ee=N;ee!==null;){if(ee===h){ee=null;break}if(N=ee.sibling,N!==null){N.return=ee.return,ee=N;break}ee=ee.return}N=ee}Ft(c,h,F.children,A),h=h.child}return h;case 9:return F=h.type,R=h.pendingProps.children,El(h,A),F=Ds(F),R=R(F),h.flags|=1,Ft(c,h,R,A),h.child;case 14:return R=h.type,F=to(R,h.pendingProps),F=to(R.type,F),ks(c,h,R,F,A);case 15:return He(c,h,h.type,h.pendingProps,A);case 17:return R=h.type,F=h.pendingProps,F=h.elementType===R?F:to(R,F),tx(c,h),h.tag=1,Ui(R)?(c=!0,cu(h)):c=!1,El(h,A),m(h,R,F),T(h,R,F,A),xn(null,h,R,!0,c,A);case 19:return VP(c,h,A);case 22:return Re(c,h,A)}throw Error(n(156,h.tag))};function hI(c,h){return Zr(c,h)}function s6(c,h,A,R){this.tag=c,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(c,h,A,R){return new s6(c,h,A,R)}function pw(c){return c=c.prototype,!(!c||!c.isReactComponent)}function o6(c){if(typeof c=="function")return pw(c)?1:0;if(c!=null){if(c=c.$$typeof,c===U)return 11;if(c===te)return 14}return 2}function Oc(c,h){var A=c.alternate;return A===null?(A=$o(c.tag,h,c.key,c.mode),A.elementType=c.elementType,A.type=c.type,A.stateNode=c.stateNode,A.alternate=c,c.alternate=A):(A.pendingProps=h,A.type=c.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=c.flags&14680064,A.childLanes=c.childLanes,A.lanes=c.lanes,A.child=c.child,A.memoizedProps=c.memoizedProps,A.memoizedState=c.memoizedState,A.updateQueue=c.updateQueue,h=c.dependencies,A.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},A.sibling=c.sibling,A.index=c.index,A.ref=c.ref,A}function dx(c,h,A,R,F,N){var ee=2;if(R=c,typeof c=="function")pw(c)&&(ee=1);else if(typeof c=="string")ee=5;else e:switch(c){case B:return id(A.children,F,N,h);case P:ee=8,F|=8;break;case L:return c=$o(12,A,h,F|2),c.elementType=L,c.lanes=N,c;case H:return c=$o(13,A,h,F),c.elementType=H,c.lanes=N,c;case q:return c=$o(19,A,h,F),c.elementType=q,c.lanes=N,c;case ie:return hx(A,F,N,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case E:ee=10;break e;case O:ee=9;break e;case U:ee=11;break e;case te:ee=14;break e;case $:ee=16,R=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return h=$o(ee,A,h,F),h.elementType=c,h.type=R,h.lanes=N,h}function id(c,h,A,R){return c=$o(7,c,R,h),c.lanes=A,c}function hx(c,h,A,R){return c=$o(22,c,R,h),c.elementType=ie,c.lanes=A,c.stateNode={isHidden:!1},c}function mw(c,h,A){return c=$o(6,c,null,h),c.lanes=A,c}function gw(c,h,A){return h=$o(4,c.children!==null?c.children:[],c.key,h),h.lanes=A,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function a6(c,h,A,R,F){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xr(0),this.expirationTimes=xr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.identifierPrefix=R,this.onRecoverableError=F,this.mutableSourceEagerHydrationData=null}function vw(c,h,A,R,F,N,ee,me,_e){return c=new a6(c,h,A,me,_e),h===1?(h=1,N===!0&&(h|=8)):h=0,N=$o(3,null,null,h),c.current=N,N.stateNode=c,N.memoizedState={element:R,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},bn(N),c}function l6(c,h,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:R==null?null:""+R,children:c,containerInfo:h,implementation:A}}function pI(c){if(!c)return Ta;c=c._reactInternals;e:{if(On(c)!==c||c.tag!==1)throw Error(n(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Ui(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(c.tag===1){var A=c.type;if(Ui(A))return kf(c,A,h)}return h}function mI(c,h,A,R,F,N,ee,me,_e){return c=vw(A,R,!0,c,F,N,ee,me,_e),c.context=pI(null),A=c.current,R=Us(),F=Lc(A),N=er(R,F),N.callback=h??null,wr(A,N,F),c.current.lanes=F,_r(c,F,R),ro(c,R),c}function px(c,h,A,R){var F=h.current,N=Us(),ee=Lc(F);return A=pI(A),h.context===null?h.context=A:h.pendingContext=A,h=er(N,ee),h.payload={element:c},R=R===void 0?null:R,R!==null&&(h.callback=R),c=wr(F,h,ee),c!==null&&(Ga(c,F,ee,N),Ni(c,F,ee)),ee}function mx(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function gI(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var A=c.retryLane;c.retryLane=A!==0&&A<h?A:h}}function yw(c,h){gI(c,h),(c=c.alternate)&&gI(c,h)}function u6(){return null}var vI=typeof reportError=="function"?reportError:function(c){console.error(c)};function xw(c){this._internalRoot=c}gx.prototype.render=xw.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));px(c,h,null,null)},gx.prototype.unmount=xw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;td(function(){px(null,c,null,null)}),h[Bs]=null}};function gx(c){this._internalRoot=c}gx.prototype.unstable_scheduleHydration=function(c){if(c){var h=Go();c={blockedOn:null,target:c,priority:h};for(var A=0;A<Ks.length&&h!==0&&h<Ks[A].priority;A++);Ks.splice(A,0,c),A===0&&Oi(c)}};function _w(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function vx(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function yI(){}function c6(c,h,A,R,F){if(F){if(typeof R=="function"){var N=R;R=function(){var We=mx(ee);N.call(We)}}var ee=mI(h,R,c,0,null,!1,!1,"",yI);return c._reactRootContainer=ee,c[Bs]=ee.current,_c(c.nodeType===8?c.parentNode:c),td(),ee}for(;F=c.lastChild;)c.removeChild(F);if(typeof R=="function"){var me=R;R=function(){var We=mx(_e);me.call(We)}}var _e=vw(c,0,!1,null,null,!1,!1,"",yI);return c._reactRootContainer=_e,c[Bs]=_e.current,_c(c.nodeType===8?c.parentNode:c),td(function(){px(h,_e,A,R)}),_e}function yx(c,h,A,R,F){var N=A._reactRootContainer;if(N){var ee=N;if(typeof F=="function"){var me=F;F=function(){var _e=mx(ee);me.call(_e)}}px(h,ee,c,F)}else ee=c6(A,h,c,F,R);return mx(ee)}dl=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var A=un(h.pendingLanes);A!==0&&(lr(h,A|1),ro(h,ye()),(qn&6)===0&&(hp=ye()+500,Xo()))}break;case 13:td(function(){var R=Ao(c,1);if(R!==null){var F=Us();Ga(R,c,1,F)}}),yw(c,1)}},lc=function(c){if(c.tag===13){var h=Ao(c,134217728);if(h!==null){var A=Us();Ga(h,c,134217728,A)}yw(c,134217728)}},uc=function(c){if(c.tag===13){var h=Lc(c),A=Ao(c,h);if(A!==null){var R=Us();Ga(A,c,h,R)}yw(c,h)}},Go=function(){return wn},$l=function(c,h){var A=wn;try{return wn=c,h()}finally{wn=A}},je=function(c,h,A){switch(h){case"input":if(Ze(c,A),h=A.name,A.type==="radio"&&h!=null){for(A=c;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<A.length;h++){var R=A[h];if(R!==c&&R.form===c.form){var F=Yh(R);if(!F)throw Error(n(90));xe(R),Ze(R,F)}}}break;case"textarea":Se(c,A);break;case"select":h=A.value,h!=null&&J(c,!!A.multiple,h,!1)}},Vt=fw,ce=td;var f6={usingClientEntryPoint:!1,Events:[Ca,Or,Yh,st,Mt,fw]},kg={findFiberByHostInstance:bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d6={bundleType:kg.bundleType,version:kg.version,rendererPackageName:kg.rendererPackageName,rendererConfig:kg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=wi(c),c===null?null:c.stateNode},findFiberByHostInstance:kg.findFiberByHostInstance||u6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xx.isDisabled&&xx.supportsFiber)try{wt=xx.inject(d6),ht=xx}catch{}}return io.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f6,io.createPortal=function(c,h){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_w(h))throw Error(n(200));return l6(c,h,null,A)},io.createRoot=function(c,h){if(!_w(c))throw Error(n(299));var A=!1,R="",F=vI;return h!=null&&(h.unstable_strictMode===!0&&(A=!0),h.identifierPrefix!==void 0&&(R=h.identifierPrefix),h.onRecoverableError!==void 0&&(F=h.onRecoverableError)),h=vw(c,1,!1,null,null,A,!1,R,F),c[Bs]=h.current,_c(c.nodeType===8?c.parentNode:c),new xw(h)},io.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=wi(h),c=c===null?null:c.stateNode,c},io.flushSync=function(c){return td(c)},io.hydrate=function(c,h,A){if(!vx(h))throw Error(n(200));return yx(null,c,h,!0,A)},io.hydrateRoot=function(c,h,A){if(!_w(c))throw Error(n(405));var R=A!=null&&A.hydratedSources||null,F=!1,N="",ee=vI;if(A!=null&&(A.unstable_strictMode===!0&&(F=!0),A.identifierPrefix!==void 0&&(N=A.identifierPrefix),A.onRecoverableError!==void 0&&(ee=A.onRecoverableError)),h=mI(h,null,c,1,A??null,F,!1,N,ee),c[Bs]=h.current,_c(c),R)for(c=0;c<R.length;c++)A=R[c],F=A._getVersion,F=F(A._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[A,F]:h.mutableSourceEagerHydrationData.push(A,F);return new gx(h)},io.render=function(c,h,A){if(!vx(h))throw Error(n(200));return yx(null,c,h,!1,A)},io.unmountComponentAtNode=function(c){if(!vx(c))throw Error(n(40));return c._reactRootContainer?(td(function(){yx(null,null,c,!1,function(){c._reactRootContainer=null,c[Bs]=null})}),!0):!1},io.unstable_batchedUpdates=fw,io.unstable_renderSubtreeIntoContainer=function(c,h,A,R){if(!vx(A))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return yx(c,h,A,!1,R)},io.version="18.3.1-next-f1338f8080-20240426",io}var EI;function PU(){if(EI)return ww.exports;EI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ww.exports=A6(),ww.exports}var CI;function w6(){if(CI)return Sx;CI=1;var t=PU();return Sx.createRoot=t.createRoot,Sx.hydrateRoot=t.hydrateRoot,Sx}var b6=w6();const M6=jy(b6),ty={black:"#000",white:"#fff"},mp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},gp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},vp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},yp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},xp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ng={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},E6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function nh(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const kl="$$material";function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(null,arguments)}function C6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function T6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var R6=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(T6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=C6(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),_s="-ms-",a1="-moz-",$n="-webkit-",IU="comm",jT="rule",WT="decl",P6="@import",BU="@keyframes",I6="@layer",B6=Math.abs,AS=String.fromCharCode,D6=Object.assign;function L6(t,e){return as(t,0)^45?(((e<<2^as(t,0))<<2^as(t,1))<<2^as(t,2))<<2^as(t,3):0}function DU(t){return t.trim()}function F6(t,e){return(t=e.exec(t))?t[0]:t}function Qn(t,e,n){return t.replace(e,n)}function fC(t,e){return t.indexOf(e)}function as(t,e){return t.charCodeAt(e)|0}function ny(t,e,n){return t.slice(e,n)}function Bl(t){return t.length}function XT(t){return t.length}function Ax(t,e){return e.push(t),t}function O6(t,e){return t.map(e).join("")}var wS=1,pm=1,LU=0,po=0,_i=0,Lm="";function bS(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:wS,column:pm,length:o,return:""}}function zg(t,e){return D6(bS("",null,null,"",null,null,0),t,{length:-t.length},e)}function k6(){return _i}function U6(){return _i=po>0?as(Lm,--po):0,pm--,_i===10&&(pm=1,wS--),_i}function Do(){return _i=po<LU?as(Lm,po++):0,pm++,_i===10&&(pm=1,wS++),_i}function Ul(){return as(Lm,po)}function G_(){return po}function Xy(t,e){return ny(Lm,t,e)}function ry(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function FU(t){return wS=pm=1,LU=Bl(Lm=t),po=0,[]}function OU(t){return Lm="",t}function H_(t){return DU(Xy(po-1,dC(t===91?t+2:t===40?t+1:t)))}function N6(t){for(;(_i=Ul())&&_i<33;)Do();return ry(t)>2||ry(_i)>3?"":" "}function z6(t,e){for(;--e&&Do()&&!(_i<48||_i>102||_i>57&&_i<65||_i>70&&_i<97););return Xy(t,G_()+(e<6&&Ul()==32&&Do()==32))}function dC(t){for(;Do();)switch(_i){case t:return po;case 34:case 39:t!==34&&t!==39&&dC(_i);break;case 40:t===41&&dC(t);break;case 92:Do();break}return po}function G6(t,e){for(;Do()&&t+_i!==57;)if(t+_i===84&&Ul()===47)break;return"/*"+Xy(e,po-1)+"*"+AS(t===47?t:Do())}function H6(t){for(;!ry(Ul());)Do();return Xy(t,po)}function V6(t){return OU(V_("",null,null,null,[""],t=FU(t),0,[0],t))}function V_(t,e,n,r,i,s,o,a,l){for(var u=0,f=0,d=o,p=0,g=0,y=0,S=1,_=1,x=1,b=0,w="",M=i,C=s,I=r,B=w;_;)switch(y=b,b=Do()){case 40:if(y!=108&&as(B,d-1)==58){fC(B+=Qn(H_(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:B+=H_(b);break;case 9:case 10:case 13:case 32:B+=N6(y);break;case 92:B+=z6(G_()-1,7);continue;case 47:switch(Ul()){case 42:case 47:Ax(j6(G6(Do(),G_()),e,n),l);break;default:B+="/"}break;case 123*S:a[u++]=Bl(B)*x;case 125*S:case 59:case 0:switch(b){case 0:case 125:_=0;case 59+f:x==-1&&(B=Qn(B,/\f/g,"")),g>0&&Bl(B)-d&&Ax(g>32?RI(B+";",r,n,d-1):RI(Qn(B," ","")+";",r,n,d-2),l);break;case 59:B+=";";default:if(Ax(I=TI(B,e,n,u,f,i,a,w,M=[],C=[],d),s),b===123)if(f===0)V_(B,e,I,I,M,s,d,a,C);else switch(p===99&&as(B,3)===110?100:p){case 100:case 108:case 109:case 115:V_(t,I,I,r&&Ax(TI(t,I,I,0,0,i,a,w,i,M=[],d),C),i,C,d,a,r?M:C);break;default:V_(B,I,I,I,[""],C,0,a,C)}}u=f=g=0,S=x=1,w=B="",d=o;break;case 58:d=1+Bl(B),g=y;default:if(S<1){if(b==123)--S;else if(b==125&&S++==0&&U6()==125)continue}switch(B+=AS(b),b*S){case 38:x=f>0?1:(B+="\f",-1);break;case 44:a[u++]=(Bl(B)-1)*x,x=1;break;case 64:Ul()===45&&(B+=H_(Do())),p=Ul(),f=d=Bl(w=B+=H6(G_())),b++;break;case 45:y===45&&Bl(B)==2&&(S=0)}}return s}function TI(t,e,n,r,i,s,o,a,l,u,f){for(var d=i-1,p=i===0?s:[""],g=XT(p),y=0,S=0,_=0;y<r;++y)for(var x=0,b=ny(t,d+1,d=B6(S=o[y])),w=t;x<g;++x)(w=DU(S>0?p[x]+" "+b:Qn(b,/&\f/g,p[x])))&&(l[_++]=w);return bS(t,e,n,i===0?jT:a,l,u,f)}function j6(t,e,n){return bS(t,e,n,IU,AS(k6()),ny(t,2,-2),0)}function RI(t,e,n,r){return bS(t,e,n,WT,ny(t,0,r),ny(t,r+1,-1),r)}function sm(t,e){for(var n="",r=XT(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function W6(t,e,n,r){switch(t.type){case I6:if(t.children.length)break;case P6:case WT:return t.return=t.return||t.value;case IU:return"";case BU:return t.return=t.value+"{"+sm(t.children,r)+"}";case jT:t.value=t.props.join(",")}return Bl(n=sm(t.children,r))?t.return=t.value+"{"+n+"}":""}function X6(t){var e=XT(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function q6(t){return function(e){e.root||(e=e.return)&&t(e)}}function kU(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var K6=function(e,n,r){for(var i=0,s=0;i=s,s=Ul(),i===38&&s===12&&(n[r]=1),!ry(s);)Do();return Xy(e,po)},J6=function(e,n){var r=-1,i=44;do switch(ry(i)){case 0:i===38&&Ul()===12&&(n[r]=1),e[r]+=K6(po-1,n,r);break;case 2:e[r]+=H_(i);break;case 4:if(i===44){e[++r]=Ul()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=AS(i)}while(i=Do());return e},Y6=function(e,n){return OU(J6(FU(e),n))},PI=new WeakMap,$6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!PI.get(r))&&!i){PI.set(e,!0);for(var s=[],o=Y6(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var f=0;f<a.length;f++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[f]):a[f]+" "+o[l]}}},Q6=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function UU(t,e){switch(L6(t,e)){case 5103:return $n+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $n+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return $n+t+a1+t+_s+t+t;case 6828:case 4268:return $n+t+_s+t+t;case 6165:return $n+t+_s+"flex-"+t+t;case 5187:return $n+t+Qn(t,/(\w+).+(:[^]+)/,$n+"box-$1$2"+_s+"flex-$1$2")+t;case 5443:return $n+t+_s+"flex-item-"+Qn(t,/flex-|-self/,"")+t;case 4675:return $n+t+_s+"flex-line-pack"+Qn(t,/align-content|flex-|-self/,"")+t;case 5548:return $n+t+_s+Qn(t,"shrink","negative")+t;case 5292:return $n+t+_s+Qn(t,"basis","preferred-size")+t;case 6060:return $n+"box-"+Qn(t,"-grow","")+$n+t+_s+Qn(t,"grow","positive")+t;case 4554:return $n+Qn(t,/([^-])(transform)/g,"$1"+$n+"$2")+t;case 6187:return Qn(Qn(Qn(t,/(zoom-|grab)/,$n+"$1"),/(image-set)/,$n+"$1"),t,"")+t;case 5495:case 3959:return Qn(t,/(image-set\([^]*)/,$n+"$1$`$1");case 4968:return Qn(Qn(t,/(.+:)(flex-)?(.*)/,$n+"box-pack:$3"+_s+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$n+t+t;case 4095:case 3583:case 4068:case 2532:return Qn(t,/(.+)-inline(.+)/,$n+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bl(t)-1-e>6)switch(as(t,e+1)){case 109:if(as(t,e+4)!==45)break;case 102:return Qn(t,/(.+:)(.+)-([^]+)/,"$1"+$n+"$2-$3$1"+a1+(as(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~fC(t,"stretch")?UU(Qn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(as(t,e+1)!==115)break;case 6444:switch(as(t,Bl(t)-3-(~fC(t,"!important")&&10))){case 107:return Qn(t,":",":"+$n)+t;case 101:return Qn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$n+(as(t,14)===45?"inline-":"")+"box$3$1"+$n+"$2$3$1"+_s+"$2box$3")+t}break;case 5936:switch(as(t,e+11)){case 114:return $n+t+_s+Qn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return $n+t+_s+Qn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return $n+t+_s+Qn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return $n+t+_s+t+t}return t}var Z6=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case WT:e.return=UU(e.value,e.length);break;case BU:return sm([zg(e,{value:Qn(e.value,"@","@"+$n)})],i);case jT:if(e.length)return O6(e.props,function(s){switch(F6(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sm([zg(e,{props:[Qn(s,/:(read-\w+)/,":"+a1+"$1")]})],i);case"::placeholder":return sm([zg(e,{props:[Qn(s,/:(plac\w+)/,":"+$n+"input-$1")]}),zg(e,{props:[Qn(s,/:(plac\w+)/,":"+a1+"$1")]}),zg(e,{props:[Qn(s,/:(plac\w+)/,_s+"input-$1")]})],i)}return""})}},e9=[Z6],t9=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var _=S.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||e9,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var _=S.getAttribute("data-emotion").split(" "),x=1;x<_.length;x++)s[_[x]]=!0;a.push(S)});var l,u=[$6,Q6];{var f,d=[W6,q6(function(S){f.insert(S)})],p=X6(u.concat(i,d)),g=function(_){return sm(V6(_),p)};l=function(_,x,b,w){f=b,g(_?_+"{"+x.styles+"}":x.styles),w&&(y.inserted[x.name]=!0)}}var y={key:n,sheet:new R6({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},Ew={exports:{}},tr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II;function n9(){if(II)return tr;II=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,_=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(C){if(typeof C=="object"&&C!==null){var I=C.$$typeof;switch(I){case e:switch(C=C.type,C){case l:case u:case r:case s:case i:case d:return C;default:switch(C=C&&C.$$typeof,C){case a:case f:case y:case g:case o:return C;default:return I}}case n:return I}}}function M(C){return w(C)===u}return tr.AsyncMode=l,tr.ConcurrentMode=u,tr.ContextConsumer=a,tr.ContextProvider=o,tr.Element=e,tr.ForwardRef=f,tr.Fragment=r,tr.Lazy=y,tr.Memo=g,tr.Portal=n,tr.Profiler=s,tr.StrictMode=i,tr.Suspense=d,tr.isAsyncMode=function(C){return M(C)||w(C)===l},tr.isConcurrentMode=M,tr.isContextConsumer=function(C){return w(C)===a},tr.isContextProvider=function(C){return w(C)===o},tr.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},tr.isForwardRef=function(C){return w(C)===f},tr.isFragment=function(C){return w(C)===r},tr.isLazy=function(C){return w(C)===y},tr.isMemo=function(C){return w(C)===g},tr.isPortal=function(C){return w(C)===n},tr.isProfiler=function(C){return w(C)===s},tr.isStrictMode=function(C){return w(C)===i},tr.isSuspense=function(C){return w(C)===d},tr.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===u||C===s||C===i||C===d||C===p||typeof C=="object"&&C!==null&&(C.$$typeof===y||C.$$typeof===g||C.$$typeof===o||C.$$typeof===a||C.$$typeof===f||C.$$typeof===_||C.$$typeof===x||C.$$typeof===b||C.$$typeof===S)},tr.typeOf=w,tr}var BI;function r9(){return BI||(BI=1,Ew.exports=n9()),Ew.exports}var Cw,DI;function i9(){if(DI)return Cw;DI=1;var t=r9(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(y){return t.isMemo(y)?i:s[y.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;function g(y,S,_){if(typeof S!="string"){if(p){var x=d(S);x&&x!==p&&g(y,x,_)}var b=l(S);u&&(b=b.concat(u(S)));for(var w=o(y),M=o(S),C=0;C<b.length;++C){var I=b[C];if(!n[I]&&!(_&&_[I])&&!(M&&M[I])&&!(w&&w[I])){var B=f(S,I);try{a(y,I,B)}catch{}}}}return y}return Cw=g,Cw}i9();var s9=!0;function NU(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var qT=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||s9===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},KT=function(e,n,r){qT(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function o9(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var a9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l9=/[A-Z]|^ms/g,u9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zU=function(e){return e.charCodeAt(1)===45},LI=function(e){return e!=null&&typeof e!="boolean"},Tw=kU(function(t){return zU(t)?t:t.replace(l9,"-$&").toLowerCase()}),FI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(u9,function(r,i,s){return Dl={name:i,styles:s,next:Dl},i})}return a9[e]!==1&&!zU(e)&&typeof n=="number"&&n!==0?n+"px":n};function iy(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Dl={name:i.name,styles:i.styles,next:Dl},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Dl={name:o.name,styles:o.styles,next:Dl},o=o.next;var a=s.styles+";";return a}return c9(t,e,n)}case"function":{if(t!==void 0){var l=Dl,u=n(t);return Dl=l,iy(t,e,u)}break}}var f=n;if(e==null)return f;var d=e[f];return d!==void 0?d:f}function c9(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=iy(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":LI(a)&&(r+=Tw(s)+":"+FI(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)LI(o[l])&&(r+=Tw(s)+":"+FI(s,o[l])+";");else{var u=iy(t,e,o);switch(s){case"animation":case"animationName":{r+=Tw(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var OI=/label:\s*([^\s;{]+)\s*(;|$)/g,Dl;function qy(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Dl=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=iy(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=iy(n,e,t[a]),r){var l=s;i+=l[a]}OI.lastIndex=0;for(var u="",f;(f=OI.exec(i))!==null;)u+="-"+f[1];var d=o9(i)+u;return{name:d,styles:i,next:Dl}}var f9=function(e){return e()},GU=cC.useInsertionEffect?cC.useInsertionEffect:!1,HU=GU||f9,kI=GU||G.useLayoutEffect,VU=G.createContext(typeof HTMLElement<"u"?t9({key:"css"}):null);VU.Provider;var JT=function(e){return G.forwardRef(function(n,r){var i=G.useContext(VU);return e(n,i,r)})},Ky=G.createContext({}),YT={}.hasOwnProperty,hC="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",d9=function(e,n){var r={};for(var i in n)YT.call(n,i)&&(r[i]=n[i]);return r[hC]=e,r},h9=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return qT(n,r,i),HU(function(){return KT(n,r,i)}),null},p9=JT(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[hC],s=[r],o="";typeof t.className=="string"?o=NU(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=qy(s,void 0,G.useContext(Ky));o+=e.key+"-"+a.name;var l={};for(var u in t)YT.call(t,u)&&u!=="css"&&u!==hC&&(l[u]=t[u]);return l.className=o,n&&(l.ref=n),G.createElement(G.Fragment,null,G.createElement(h9,{cache:e,serialized:a,isStringTag:typeof i=="string"}),G.createElement(i,l))}),m9=p9,UI=function(e,n){var r=arguments;if(n==null||!YT.call(n,"css"))return G.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=m9,s[1]=d9(e,n);for(var o=2;o<i;o++)s[o]=r[o];return G.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(UI||(UI={}));var g9=JT(function(t,e){var n=t.styles,r=qy([n],void 0,G.useContext(Ky)),i=G.useRef();return kI(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),kI(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&KT(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function $T(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return qy(e)}function Fm(){var t=$T.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var v9=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,y9=kU(function(t){return v9.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),x9=y9,_9=function(e){return e!=="theme"},NI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?x9:_9},zI=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},S9=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return qT(n,r,i),HU(function(){return KT(n,r,i)}),null},A9=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=zI(e,n,r),l=a||NI(i),u=!l("as");return function(){var f=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)d.push.apply(d,f);else{var p=f[0];d.push(p[0]);for(var g=f.length,y=1;y<g;y++)d.push(f[y],p[y])}var S=JT(function(_,x,b){var w=u&&_.as||i,M="",C=[],I=_;if(_.theme==null){I={};for(var B in _)I[B]=_[B];I.theme=G.useContext(Ky)}typeof _.className=="string"?M=NU(x.registered,C,_.className):_.className!=null&&(M=_.className+" ");var P=qy(d.concat(C),x.registered,I);M+=x.key+"-"+P.name,o!==void 0&&(M+=" "+o);var L=u&&a===void 0?NI(w):l,E={};for(var O in _)u&&O==="as"||L(O)&&(E[O]=_[O]);return E.className=M,b&&(E.ref=b),G.createElement(G.Fragment,null,G.createElement(S9,{cache:x,serialized:P,isStringTag:typeof w=="string"}),G.createElement(w,E))});return S.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=d,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(_,x){var b=t(_,hm({},n,x,{shouldForwardProp:zI(S,x,!0)}));return b.apply(void 0,d)},S}},w9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],pC=A9.bind(null);w9.forEach(function(t){pC[t]=pC(t)});function b9(t){return t==null||Object.keys(t).length===0}function jU(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(b9(i)?n:i):e;return V.jsx(g9,{styles:r})}/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function WU(t,e){return pC(t,e)}function M9(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const GI=[];function HI(t){return GI[0]=t,qy(GI)}var Rw={exports:{}},dr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI;function E9(){if(VI)return dr;VI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),g=Symbol.for("react.client.reference");function y(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case t:switch(S=S.type,S){case n:case i:case r:case l:case u:return S;default:switch(S=S&&S.$$typeof,S){case o:case a:case d:case f:return S;case s:return S;default:return _}}case e:return _}}}return dr.ContextConsumer=s,dr.ContextProvider=o,dr.Element=t,dr.ForwardRef=a,dr.Fragment=n,dr.Lazy=d,dr.Memo=f,dr.Portal=e,dr.Profiler=i,dr.StrictMode=r,dr.Suspense=l,dr.SuspenseList=u,dr.isContextConsumer=function(S){return y(S)===s},dr.isContextProvider=function(S){return y(S)===o},dr.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},dr.isForwardRef=function(S){return y(S)===a},dr.isFragment=function(S){return y(S)===n},dr.isLazy=function(S){return y(S)===d},dr.isMemo=function(S){return y(S)===f},dr.isPortal=function(S){return y(S)===e},dr.isProfiler=function(S){return y(S)===i},dr.isStrictMode=function(S){return y(S)===r},dr.isSuspense=function(S){return y(S)===l},dr.isSuspenseList=function(S){return y(S)===u},dr.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===l||S===u||S===p||typeof S=="object"&&S!==null&&(S.$$typeof===d||S.$$typeof===f||S.$$typeof===o||S.$$typeof===s||S.$$typeof===a||S.$$typeof===g||S.getModuleId!==void 0)},dr.typeOf=y,dr}var jI;function C9(){return jI||(jI=1,Rw.exports=E9()),Rw.exports}var XU=C9();function Fl(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function qU(t){if(G.isValidElement(t)||XU.isValidElementType(t)||!Fl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=qU(t[n])}),e}function js(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Fl(t)&&Fl(e)&&Object.keys(e).forEach(i=>{G.isValidElement(e[i])||XU.isValidElementType(e[i])?r[i]=e[i]:Fl(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Fl(t[i])?r[i]=js(t[i],e[i],n):n.clone?r[i]=Fl(e[i])?qU(e[i]):e[i]:r[i]=e[i]}),r}const T9=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function R9(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=T9(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function u(p,g){const y=o.indexOf(g);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:g)-r/100}${n})`}function f(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):a(p)}function d(p){const g=o.indexOf(p);return g===0?a(o[1]):g===o.length-1?l(o[g]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:f,not:d,unit:n,...i}}function P9(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function I9(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function B9(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function D9(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const L9={borderRadius:4};function Iv(t,e){return e?js(t,e,{clone:!1}):t}const MS={xs:0,sm:600,md:900,lg:1200,xl:1536},WI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${MS[t]}px)`},F9={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:MS[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function tl(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||WI;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||WI;return Object.keys(e).reduce((o,a)=>{if(I9(s.keys,a)){const l=B9(r.containerQueries?r:F9,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||MS).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function KU(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function JU(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function O9(t,...e){const n=KU(t),r=[n,...e].reduce((i,s)=>js(i,s),{});return JU(Object.keys(n),r)}function k9(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Pw({values:t,breakpoints:e,base:n}){const r=n||k9(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function qt(t){if(typeof t!="string")throw new Error(nh(7));return t.charAt(0).toUpperCase()+t.slice(1)}function ef(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function l1(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=ef(t,n)||r,e&&(i=e(i,r,t)),i}function oi(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=ef(l,r)||{};return tl(o,a,d=>{let p=l1(u,i,d);return d===p&&typeof d=="string"&&(p=l1(u,i,`${e}${d==="default"?"":qt(d)}`,d)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function U9(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const N9={m:"margin",p:"padding"},z9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},XI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},G9=U9(t=>{if(t.length>2)if(XI[t])t=XI[t];else return[t];const[e,n]=t.split(""),r=N9[e],i=z9[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),QT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ZT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...QT,...ZT];function Jy(t,e,n,r){const i=ef(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function ES(t){return Jy(t,"spacing",8)}function rh(t,e){return typeof e=="string"||e==null?e:t(e)}function H9(t,e){return n=>t.reduce((r,i)=>(r[i]=rh(e,n),r),{})}function V9(t,e,n,r){if(!e.includes(n))return null;const i=G9(n),s=H9(i,r),o=t[n];return tl(t,o,s)}function YU(t,e){const n=ES(t.theme);return Object.keys(t).map(r=>V9(t,e,r,n)).reduce(Iv,{})}function Kr(t){return YU(t,QT)}Kr.propTypes={};Kr.filterProps=QT;function Jr(t){return YU(t,ZT)}Jr.propTypes={};Jr.filterProps=ZT;function $U(t=8,e=ES({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function CS(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Iv(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function sa(t){return typeof t!="number"?t:`${t}px solid`}function pa(t,e){return oi({prop:t,themeKey:"borders",transform:e})}const j9=pa("border",sa),W9=pa("borderTop",sa),X9=pa("borderRight",sa),q9=pa("borderBottom",sa),K9=pa("borderLeft",sa),J9=pa("borderColor"),Y9=pa("borderTopColor"),$9=pa("borderRightColor"),Q9=pa("borderBottomColor"),Z9=pa("borderLeftColor"),e8=pa("outline",sa),t8=pa("outlineColor"),TS=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Jy(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:rh(e,r)});return tl(t,t.borderRadius,n)}return null};TS.propTypes={};TS.filterProps=["borderRadius"];CS(j9,W9,X9,q9,K9,J9,Y9,$9,Q9,Z9,TS,e8,t8);const RS=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Jy(t.theme,"spacing",8),n=r=>({gap:rh(e,r)});return tl(t,t.gap,n)}return null};RS.propTypes={};RS.filterProps=["gap"];const PS=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Jy(t.theme,"spacing",8),n=r=>({columnGap:rh(e,r)});return tl(t,t.columnGap,n)}return null};PS.propTypes={};PS.filterProps=["columnGap"];const IS=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Jy(t.theme,"spacing",8),n=r=>({rowGap:rh(e,r)});return tl(t,t.rowGap,n)}return null};IS.propTypes={};IS.filterProps=["rowGap"];const n8=oi({prop:"gridColumn"}),r8=oi({prop:"gridRow"}),i8=oi({prop:"gridAutoFlow"}),s8=oi({prop:"gridAutoColumns"}),o8=oi({prop:"gridAutoRows"}),a8=oi({prop:"gridTemplateColumns"}),l8=oi({prop:"gridTemplateRows"}),u8=oi({prop:"gridTemplateAreas"}),c8=oi({prop:"gridArea"});CS(RS,PS,IS,n8,r8,i8,s8,o8,a8,l8,u8,c8);function om(t,e){return e==="grey"?e:t}const f8=oi({prop:"color",themeKey:"palette",transform:om}),d8=oi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:om}),h8=oi({prop:"backgroundColor",themeKey:"palette",transform:om});CS(f8,d8,h8);function Po(t){return t<=1&&t!==0?`${t*100}%`:t}const p8=oi({prop:"width",transform:Po}),eR=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||MS[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Po(n)}};return tl(t,t.maxWidth,e)}return null};eR.filterProps=["maxWidth"];const m8=oi({prop:"minWidth",transform:Po}),g8=oi({prop:"height",transform:Po}),v8=oi({prop:"maxHeight",transform:Po}),y8=oi({prop:"minHeight",transform:Po});oi({prop:"size",cssProperty:"width",transform:Po});oi({prop:"size",cssProperty:"height",transform:Po});const x8=oi({prop:"boxSizing"});CS(p8,eR,m8,g8,v8,y8,x8);const Yy={border:{themeKey:"borders",transform:sa},borderTop:{themeKey:"borders",transform:sa},borderRight:{themeKey:"borders",transform:sa},borderBottom:{themeKey:"borders",transform:sa},borderLeft:{themeKey:"borders",transform:sa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:sa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:TS},color:{themeKey:"palette",transform:om},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:om},backgroundColor:{themeKey:"palette",transform:om},p:{style:Jr},pt:{style:Jr},pr:{style:Jr},pb:{style:Jr},pl:{style:Jr},px:{style:Jr},py:{style:Jr},padding:{style:Jr},paddingTop:{style:Jr},paddingRight:{style:Jr},paddingBottom:{style:Jr},paddingLeft:{style:Jr},paddingX:{style:Jr},paddingY:{style:Jr},paddingInline:{style:Jr},paddingInlineStart:{style:Jr},paddingInlineEnd:{style:Jr},paddingBlock:{style:Jr},paddingBlockStart:{style:Jr},paddingBlockEnd:{style:Jr},m:{style:Kr},mt:{style:Kr},mr:{style:Kr},mb:{style:Kr},ml:{style:Kr},mx:{style:Kr},my:{style:Kr},margin:{style:Kr},marginTop:{style:Kr},marginRight:{style:Kr},marginBottom:{style:Kr},marginLeft:{style:Kr},marginX:{style:Kr},marginY:{style:Kr},marginInline:{style:Kr},marginInlineStart:{style:Kr},marginInlineEnd:{style:Kr},marginBlock:{style:Kr},marginBlockStart:{style:Kr},marginBlockEnd:{style:Kr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:RS},rowGap:{style:IS},columnGap:{style:PS},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Po},maxWidth:{style:eR},minWidth:{transform:Po},height:{transform:Po},maxHeight:{transform:Po},minHeight:{transform:Po},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function _8(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function S8(t,e){return typeof t=="function"?t(e):t}function A8(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:f,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const p=ef(i,u)||{};return d?d(o):tl(o,r,y=>{let S=l1(p,f,y);return y===S&&typeof y=="string"&&(S=l1(p,f,`${n}${y==="default"?"":qt(y)}`,y)),l===!1?S:{[l]:S}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Yy;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=KU(i.breakpoints),f=Object.keys(u);let d=u;return Object.keys(l).forEach(p=>{const g=S8(l[p],i);if(g!=null)if(typeof g=="object")if(s[p])d=Iv(d,t(p,g,i,s));else{const y=tl({theme:i},g,S=>({[p]:S}));_8(y,g)?d[p]=e({sx:g,theme:i}):d=Iv(d,y)}else d=Iv(d,t(p,g,i,s))}),P9(i,JU(f,d))}return Array.isArray(r)?r.map(o):o(r)}return e}const cf=A8();cf.filterProps=["sx"];function w8(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function BS(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=R9(n),l=$U(i);let u=js({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...L9,...s}},o);return u=D9(u),u.applyStyles=w8,u=e.reduce((f,d)=>js(f,d),u),u.unstable_sxConfig={...Yy,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(d){return cf({sx:d,theme:this})},u}function b8(t){return Object.keys(t).length===0}function QU(t=null){const e=G.useContext(Ky);return!e||b8(e)?t:e}const M8=BS();function DS(t=M8){return QU(t)}function E8({styles:t,themeId:e,defaultTheme:n={}}){const r=DS(n),i=typeof t=="function"?t(e&&r[e]||r):t;return V.jsx(jU,{styles:i})}const C8=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Yy;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function tR(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=C8(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Fl(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}const qI=t=>t,T8=()=>{let t=qI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=qI}}},ZU=T8();function eN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eN(t))&&(r&&(r+=" "),r+=e);return r}function R8(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=WU("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(cf);return G.forwardRef(function(l,u){const f=DS(n),{className:d,component:p="div",...g}=tR(l);return V.jsx(s,{as:p,ref:u,className:Pn(d,i?i(r):r),theme:e&&f[e]||f,...g})})}const P8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Si(t,e,n="Mui"){const r=P8[e];return r?`${n}-${r}`:`${ZU.generate(t)}-${e}`}function Ai(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Si(t,i,n)}),r}function tN(t){const{variants:e,...n}=t,r={variants:e,style:HI(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=HI(i.style))}),r}const I8=BS();function Iw(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function B8(t){return t?(e,n)=>n[t]:null}function D8(t,e,n){t.theme=F8(t.theme)?n:t.theme[e]||t.theme}function j_(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>j_(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return nN(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function nN(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function rN(t={}){const{themeId:e,defaultTheme:n=I8,rootShouldForwardProp:r=Iw,slotShouldForwardProp:i=Iw}=t;function s(a){D8(a,e,n)}return(a,l={})=>{M9(a,C=>C.filter(I=>I!==cf));const{name:u,slot:f,skipVariantsResolver:d,skipSx:p,overridesResolver:g=B8(k8(f)),...y}=l,S=d!==void 0?d:f&&f!=="Root"&&f!=="root"||!1,_=p||!1;let x=Iw;f==="Root"||f==="root"?x=r:f?x=i:O8(a)&&(x=void 0);const b=WU(a,{shouldForwardProp:x,label:L8(),...y}),w=C=>{if(typeof C=="function"&&C.__emotion_real!==C)return function(B){return j_(B,C)};if(Fl(C)){const I=tN(C);return I.variants?function(P){return j_(P,I)}:I.style}return C},M=(...C)=>{const I=[],B=C.map(w),P=[];if(I.push(s),u&&g&&P.push(function(U){var $,ie;const q=(ie=($=U.theme.components)==null?void 0:$[u])==null?void 0:ie.styleOverrides;if(!q)return null;const te={};for(const W in q)te[W]=j_(U,q[W]);return g(U,te)}),u&&!S&&P.push(function(U){var te,$;const H=U.theme,q=($=(te=H==null?void 0:H.components)==null?void 0:te[u])==null?void 0:$.variants;return q?nN(U,q):null}),_||P.push(cf),Array.isArray(B[0])){const O=B.shift(),U=new Array(I.length).fill(""),H=new Array(P.length).fill("");let q;q=[...U,...O,...H],q.raw=[...U,...O.raw,...H],I.unshift(q)}const L=[...I,...B,...P],E=b(...L);return a.muiName&&(E.muiName=a.muiName),E};return b.withConfig&&(M.withConfig=b.withConfig),M}}function L8(t,e){return void 0}function F8(t){for(const e in t)return!1;return!0}function O8(t){return typeof t=="string"&&t.charCodeAt(0)>96}function k8(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const U8=rN();function sy(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=sy(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function N8(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:sy(e.components[n].defaultProps,r)}function z8({props:t,name:e,defaultTheme:n,themeId:r}){let i=DS(n);return r&&(i=i[r]||i),N8({theme:i,name:e,props:t})}const ih=typeof window<"u"?G.useLayoutEffect:G.useEffect;function G8(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function nR(t,e=0,n=1){return G8(t,e,n)}function H8(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ff(t){if(t.type)return t;if(t.charAt(0)==="#")return ff(H8(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(nh(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(nh(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const V8=t=>{const e=ff(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},gv=(t,e)=>{try{return V8(t)}catch{return t}};function LS(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function iN(t){t=ff(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,f=(u+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),LS({type:a,values:l})}function mC(t){t=ff(t);let e=t.type==="hsl"||t.type==="hsla"?ff(iN(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function j8(t,e){const n=mC(t),r=mC(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ar(t,e){return t=ff(t),e=nR(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,LS(t)}function wx(t,e,n){try{return ar(t,e)}catch{return t}}function Gu(t,e){if(t=ff(t),e=nR(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return LS(t)}function mr(t,e,n){try{return Gu(t,e)}catch{return t}}function oy(t,e){if(t=ff(t),e=nR(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return LS(t)}function gr(t,e,n){try{return oy(t,e)}catch{return t}}function W8(t,e=.15){return mC(t)>.5?Gu(t,e):oy(t,e)}function bx(t,e,n){try{return W8(t,e)}catch{return t}}function X8(t,e){var n,r,i;return G.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function KI(t){return t&&t.ownerDocument||document}function gC(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let JI=0;function q8(t){const[e,n]=G.useState(t),r=t||e;return G.useEffect(()=>{e==null&&(JI+=1,n(`mui-${JI}`))},[e]),r}const K8={...cC},YI=K8.useId;function sN(t){if(YI!==void 0){const e=YI();return t??e}return q8(t)}function W_(t){const e=G.useRef(t);return ih(()=>{e.current=t}),G.useRef((...n)=>(0,e.current)(...n)).current}function nl(...t){return G.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{gC(n,e)})},t)}const $I={};function oN(t,e){const n=G.useRef($I);return n.current===$I&&(n.current=t(e)),n}const J8=[];function Y8(t){G.useEffect(t,J8)}class rR{constructor(){sd(this,"currentId",null);sd(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});sd(this,"disposeEffect",()=>this.clear)}static create(){return new rR}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function aN(){const t=oN(rR.create).current;return Y8(t.disposeEffect),t}function u1(t){try{return t.matches(":focus-visible")}catch{}return!1}function Fi(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(o+=" "+n[u]))}r[i]=o}return r}function $8(t){return typeof t=="string"}function lN(t,e,n){return t===void 0||$8(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function Q8(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function QI(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function uN(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const g=Pn(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),y={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},S={...n,...i,...r};return g.length>0&&(S.className=g),Object.keys(y).length>0&&(S.style=y),{props:S,internalRef:void 0}}const o=Q8({...i,...r}),a=QI(r),l=QI(i),u=e(o),f=Pn(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},p={...u,...n,...l,...a};return f.length>0&&(p.className=f),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:u.ref}}function cN(t,e,n){return typeof t=="function"?t(e,n):t}function Z8(t){var d;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,o=i?{}:cN(n,r),{props:a,internalRef:l}=uN({...s,externalSlotProps:o}),u=nl(l,o==null?void 0:o.ref,(d=t.additionalProps)==null?void 0:d.ref);return lN(e,{...a,ref:u},r)}function ej(t){var e;return parseInt(G.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const fN=G.createContext(null);function iR(){return G.useContext(fN)}const tj=typeof Symbol=="function"&&Symbol.for,nj=tj?Symbol.for("mui.nested"):"__THEME_NESTED__";function rj(t,e){return typeof e=="function"?e(t):{...t,...e}}function ij(t){const{children:e,theme:n}=t,r=iR(),i=G.useMemo(()=>{const s=r===null?{...n}:rj(r,n);return s!=null&&(s[nj]=r!==null),s},[n,r]);return V.jsx(fN.Provider,{value:i,children:e})}const dN=G.createContext();function sj({value:t,...e}){return V.jsx(dN.Provider,{value:t??!0,...e})}const oj=()=>G.useContext(dN)??!1,hN=G.createContext(void 0);function aj({value:t,children:e}){return V.jsx(hN.Provider,{value:t,children:e})}function lj(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?sy(i.defaultProps,r):!i.styleOverrides&&!i.variants?sy(i,r):r}function uj({props:t,name:e}){const n=G.useContext(hN);return lj({props:t,name:e,theme:{components:n}})}const ZI={};function eB(t,e,n,r=!1){return G.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?{...e,[t]:s}:s;return r?()=>o:o}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function pN(t){const{children:e,theme:n,themeId:r}=t,i=QU(ZI),s=iR()||ZI,o=eB(r,i,n),a=eB(r,s,n,!0),l=(r?o[r]:o).direction==="rtl";return V.jsx(ij,{theme:a,children:V.jsx(Ky.Provider,{value:o,children:V.jsx(sj,{value:l,children:V.jsx(aj,{value:r?o[r].components:o.components,children:e})})})})}const tB={theme:void 0};function cj(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(tB.theme=i.theme,s=tN(t(tB)),e=s,n=i.theme),s}}const sR="mode",oR="color-scheme",fj="data-color-scheme";function dj(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=sR,colorSchemeStorageKey:s=oR,attribute:o=fj,colorSchemeNode:a="document.documentElement",nonce:l}=t||{};let u="",f=o;if(o==="class"&&(f=".%s"),o==="data"&&(f="[data-%s]"),f.startsWith(".")){const p=f.substring(1);u+=`${a}.classList.remove('${p}'.replace('%s', light), '${p}'.replace('%s', dark));
      ${a}.classList.add('${p}'.replace('%s', colorScheme));`}const d=f.match(/\[([^\]]+)\]/);if(d){const[p,g]=d[1].split("=");g||(u+=`${a}.removeAttribute('${p}'.replace('%s', light));
      ${a}.removeAttribute('${p}'.replace('%s', dark));`),u+=`
      ${a}.setAttribute('${p}'.replace('%s', colorScheme), ${g?`${g}.replace('%s', colorScheme)`:'""'});`}else u+=`${a}.setAttribute('${f}', colorScheme);`;return V.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function hj(){}const pj=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return hj;const r=i=>{const s=i.newValue;i.key===t&&n(s)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function Bw(){}function nB(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function mN(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function mj(t){return mN(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function gj(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=sR,colorSchemeStorageKey:o=oR,storageWindow:a=typeof window>"u"?void 0:window,storageManager:l=pj,noSsr:u=!1}=t,f=i.join(","),d=i.length>1,p=G.useMemo(()=>l==null?void 0:l({key:s,storageWindow:a}),[l,s,a]),g=G.useMemo(()=>l==null?void 0:l({key:`${o}-light`,storageWindow:a}),[l,o,a]),y=G.useMemo(()=>l==null?void 0:l({key:`${o}-dark`,storageWindow:a}),[l,o,a]),[S,_]=G.useState(()=>{const P=(p==null?void 0:p.get(e))||e,L=(g==null?void 0:g.get(n))||n,E=(y==null?void 0:y.get(r))||r;return{mode:P,systemMode:nB(P),lightColorScheme:L,darkColorScheme:E}}),[x,b]=G.useState(u||!d);G.useEffect(()=>{b(!0)},[]);const w=mj(S),M=G.useCallback(P=>{_(L=>{if(P===L.mode)return L;const E=P??e;return p==null||p.set(E),{...L,mode:E,systemMode:nB(E)}})},[p,e]),C=G.useCallback(P=>{P?typeof P=="string"?P&&!f.includes(P)?console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`):_(L=>{const E={...L};return mN(L,O=>{O==="light"&&(g==null||g.set(P),E.lightColorScheme=P),O==="dark"&&(y==null||y.set(P),E.darkColorScheme=P)}),E}):_(L=>{const E={...L},O=P.light===null?n:P.light,U=P.dark===null?r:P.dark;return O&&(f.includes(O)?(E.lightColorScheme=O,g==null||g.set(O)):console.error(`\`${O}\` does not exist in \`theme.colorSchemes\`.`)),U&&(f.includes(U)?(E.darkColorScheme=U,y==null||y.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),E}):_(L=>(g==null||g.set(n),y==null||y.set(r),{...L,lightColorScheme:n,darkColorScheme:r}))},[f,g,y,n,r]),I=G.useCallback(P=>{S.mode==="system"&&_(L=>{const E=P!=null&&P.matches?"dark":"light";return L.systemMode===E?L:{...L,systemMode:E}})},[S.mode]),B=G.useRef(I);return B.current=I,G.useEffect(()=>{if(typeof window.matchMedia!="function"||!d)return;const P=(...E)=>B.current(...E),L=window.matchMedia("(prefers-color-scheme: dark)");return L.addListener(P),P(L),()=>{L.removeListener(P)}},[d]),G.useEffect(()=>{if(d){const P=(p==null?void 0:p.subscribe(O=>{(!O||["light","dark","system"].includes(O))&&M(O||e)}))||Bw,L=(g==null?void 0:g.subscribe(O=>{(!O||f.match(O))&&C({light:O})}))||Bw,E=(y==null?void 0:y.subscribe(O=>{(!O||f.match(O))&&C({dark:O})}))||Bw;return()=>{P(),L(),E()}}},[C,M,f,e,a,d,p,g,y]),{...S,mode:x?S.mode:void 0,systemMode:x?S.systemMode:void 0,colorScheme:x?w:void 0,setMode:M,setColorScheme:C}}const vj="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function yj(t){const{themeId:e,theme:n={},modeStorageKey:r=sR,colorSchemeStorageKey:i=oR,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:a}=t,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=G.createContext(void 0),f=()=>G.useContext(u)||l,d={},p={};function g(x){var Se,Me,De,qe;const{children:b,theme:w,modeStorageKey:M=r,colorSchemeStorageKey:C=i,disableTransitionOnChange:I=s,storageManager:B,storageWindow:P=typeof window>"u"?void 0:window,documentNode:L=typeof document>"u"?void 0:document,colorSchemeNode:E=typeof document>"u"?void 0:document.documentElement,disableNestedContext:O=!1,disableStyleSheetGeneration:U=!1,defaultMode:H="system",noSsr:q}=x,te=G.useRef(!1),$=iR(),ie=G.useContext(u),W=!!ie&&!O,Y=G.useMemo(()=>w||(typeof n=="function"?n():n),[w]),Q=Y[e],z=Q||Y,{colorSchemes:K=d,components:ae=p,cssVarPrefix:Z}=z,se=Object.keys(K).filter(Ne=>!!K[Ne]).join(","),oe=G.useMemo(()=>se.split(","),[se]),ue=typeof o=="string"?o:o.light,ve=typeof o=="string"?o:o.dark,Be=K[ue]&&K[ve]?H:((Me=(Se=K[z.defaultColorScheme])==null?void 0:Se.palette)==null?void 0:Me.mode)||((De=z.palette)==null?void 0:De.mode),{mode:Le,setMode:Ve,systemMode:xe,lightColorScheme:Te,darkColorScheme:re,colorScheme:nt,setColorScheme:ke}=gj({supportedColorSchemes:oe,defaultLightColorScheme:ue,defaultDarkColorScheme:ve,modeStorageKey:M,colorSchemeStorageKey:C,defaultMode:Be,storageManager:B,storageWindow:P,noSsr:q});let Ze=Le,Ae=nt;W&&(Ze=ie.mode,Ae=ie.colorScheme);const tt=G.useMemo(()=>{var Xe;const Ne=Ae||z.defaultColorScheme,Ke=((Xe=z.generateThemeVars)==null?void 0:Xe.call(z))||z.vars,ft={...z,components:ae,colorSchemes:K,cssVarPrefix:Z,vars:Ke};if(typeof ft.generateSpacing=="function"&&(ft.spacing=ft.generateSpacing()),Ne){const ot=K[Ne];ot&&typeof ot=="object"&&Object.keys(ot).forEach(at=>{ot[at]&&typeof ot[at]=="object"?ft[at]={...ft[at],...ot[at]}:ft[at]=ot[at]})}return a?a(ft):ft},[z,Ae,ae,K,Z]),Fe=z.colorSchemeSelector;ih(()=>{if(Ae&&E&&Fe&&Fe!=="media"){const Ne=Fe;let Ke=Fe;if(Ne==="class"&&(Ke=".%s"),Ne==="data"&&(Ke="[data-%s]"),Ne!=null&&Ne.startsWith("data-")&&!Ne.includes("%s")&&(Ke=`[${Ne}="%s"]`),Ke.startsWith("."))E.classList.remove(...oe.map(ft=>Ke.substring(1).replace("%s",ft))),E.classList.add(Ke.substring(1).replace("%s",Ae));else{const ft=Ke.replace("%s",Ae).match(/\[([^\]]+)\]/);if(ft){const[Xe,ot]=ft[1].split("=");ot||oe.forEach(at=>{E.removeAttribute(Xe.replace(Ae,at))}),E.setAttribute(Xe,ot?ot.replace(/"|'/g,""):"")}else E.setAttribute(Ke,Ae)}}},[Ae,Fe,E,oe]),G.useEffect(()=>{let Ne;if(I&&te.current&&L){const Ke=L.createElement("style");Ke.appendChild(L.createTextNode(vj)),L.head.appendChild(Ke),window.getComputedStyle(L.body),Ne=setTimeout(()=>{L.head.removeChild(Ke)},1)}return()=>{clearTimeout(Ne)}},[Ae,I,L]),G.useEffect(()=>(te.current=!0,()=>{te.current=!1}),[]);const J=G.useMemo(()=>({allColorSchemes:oe,colorScheme:Ae,darkColorScheme:re,lightColorScheme:Te,mode:Ze,setColorScheme:ke,setMode:Ve,systemMode:xe}),[oe,Ae,re,Te,Ze,ke,Ve,xe,tt.colorSchemeSelector]);let X=!0;(U||z.cssVariables===!1||W&&($==null?void 0:$.cssVarPrefix)===Z)&&(X=!1);const he=V.jsxs(G.Fragment,{children:[V.jsx(pN,{themeId:Q?e:void 0,theme:tt,children:b}),X&&V.jsx(jU,{styles:((qe=tt.generateStyleSheets)==null?void 0:qe.call(tt))||[]})]});return W?he:V.jsx(u.Provider,{value:J,children:he})}const y=typeof o=="string"?o:o.light,S=typeof o=="string"?o:o.dark;return{CssVarsProvider:g,useColorScheme:f,getInitColorSchemeScript:x=>dj({colorSchemeStorageKey:i,defaultLightColorScheme:y,defaultDarkColorScheme:S,modeStorageKey:r,...x})}}function xj(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const rB=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},_j=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},Sj=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Dw(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return _j(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const f=`--${n?`${n}-`:""}${a.join("-")}`,d=Sj(a,l);Object.assign(i,{[f]:d}),rB(s,a,`var(${f})`,u),rB(o,a,`var(${f}, ${d})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function Aj(t,e={}){const{getSelector:n=_,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:u,css:f,varsWithDefaults:d}=Dw(l,e);let p=d;const g={},{[a]:y,...S}=s;if(Object.entries(S||{}).forEach(([w,M])=>{const{vars:C,css:I,varsWithDefaults:B}=Dw(M,e);p=js(p,B),g[w]={css:I,vars:C}}),y){const{css:w,vars:M,varsWithDefaults:C}=Dw(y,e);p=js(p,C),g[a]={css:w,vars:M}}function _(w,M){var I,B;let C=i;if(i==="class"&&(C=".%s"),i==="data"&&(C="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(C=`[${i}="%s"]`),w){if(C==="media")return t.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${((B=(I=s[w])==null?void 0:I.palette)==null?void 0:B.mode)||w})`]:{":root":M}};if(C)return t.defaultColorScheme===w?`:root, ${C.replace("%s",String(w))}`:C.replace("%s",String(w))}return":root"}return{vars:p,generateThemeVars:()=>{let w={...u};return Object.entries(g).forEach(([,{vars:M}])=>{w=js(w,M)}),w},generateStyleSheets:()=>{var P,L;const w=[],M=t.defaultColorScheme||"light";function C(E,O){Object.keys(O).length&&w.push(typeof E=="string"?{[E]:{...O}}:E)}C(n(void 0,{...f}),f);const{[M]:I,...B}=g;if(I){const{css:E}=I,O=(L=(P=s[M])==null?void 0:P.palette)==null?void 0:L.mode,U=!r&&O?{colorScheme:O,...E}:{...E};C(n(M,{...U}),U)}return Object.entries(B).forEach(([E,{css:O}])=>{var q,te;const U=(te=(q=s[E])==null?void 0:q.palette)==null?void 0:te.mode,H=!r&&U?{colorScheme:U,...O}:{...O};C(n(E,{...H}),H)}),w}}}function wj(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const bj=BS(),Mj=U8("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Ej(t){return z8({props:t,name:"MuiStack",defaultTheme:bj})}function Cj(t,e){const n=G.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(G.cloneElement(e,{key:`separator-${s}`})),r),[])}const Tj=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Rj=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...tl({theme:e},Pw({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=ES(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),s=Pw({values:t.direction,base:i}),o=Pw({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,u,f)=>{if(!s[l]){const p=u>0?s[f[u-1]]:"column";s[l]=p}}),n=js(n,tl({theme:e},o,(l,u)=>t.useFlexGap?{gap:rh(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Tj(u?s[u]:t.direction)}`]:rh(r,l)}}))}return n=O9(e.breakpoints,n),n};function Pj(t={}){const{createStyledComponent:e=Mj,useThemeProps:n=Ej,componentName:r="MuiStack"}=t,i=()=>Fi({root:["root"]},l=>Si(r,l),{}),s=e(Rj);return G.forwardRef(function(l,u){const f=n(l),d=tR(f),{component:p="div",direction:g="column",spacing:y=0,divider:S,children:_,className:x,useFlexGap:b=!1,...w}=d,M={direction:g,spacing:y,useFlexGap:b},C=i();return V.jsx(s,{as:p,ownerState:M,ref:u,className:Pn(C.root,x),...w,children:S?Cj(_,S):_})})}function gN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ty.white,default:ty.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Ij=gN();function vN(){return{text:{primary:ty.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ty.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const iB=vN();function sB(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=oy(t.main,i):e==="dark"&&(t.dark=Gu(t.main,s)))}function Bj(t="light"){return t==="dark"?{main:vp[200],light:vp[50],dark:vp[400]}:{main:vp[700],light:vp[400],dark:vp[800]}}function Dj(t="light"){return t==="dark"?{main:gp[200],light:gp[50],dark:gp[400]}:{main:gp[500],light:gp[300],dark:gp[700]}}function Lj(t="light"){return t==="dark"?{main:mp[500],light:mp[300],dark:mp[700]}:{main:mp[700],light:mp[400],dark:mp[800]}}function Fj(t="light"){return t==="dark"?{main:yp[400],light:yp[300],dark:yp[700]}:{main:yp[700],light:yp[500],dark:yp[900]}}function Oj(t="light"){return t==="dark"?{main:xp[400],light:xp[300],dark:xp[700]}:{main:xp[800],light:xp[500],dark:xp[900]}}function kj(t="light"){return t==="dark"?{main:Ng[400],light:Ng[300],dark:Ng[700]}:{main:"#ed6c02",light:Ng[500],dark:Ng[900]}}function aR(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||Bj(e),o=t.secondary||Dj(e),a=t.error||Lj(e),l=t.info||Fj(e),u=t.success||Oj(e),f=t.warning||kj(e);function d(S){return j8(S,iB.text.primary)>=n?iB.text.primary:Ij.text.primary}const p=({color:S,name:_,mainShade:x=500,lightShade:b=300,darkShade:w=700})=>{if(S={...S},!S.main&&S[x]&&(S.main=S[x]),!S.hasOwnProperty("main"))throw new Error(nh(11,_?` (${_})`:"",x));if(typeof S.main!="string")throw new Error(nh(12,_?` (${_})`:"",JSON.stringify(S.main)));return sB(S,"light",b,r),sB(S,"dark",w,r),S.contrastText||(S.contrastText=d(S.main)),S};let g;return e==="light"?g=gN():e==="dark"&&(g=vN()),js({common:{...ty},mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:f,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:E6,contrastThreshold:n,getContrastText:d,augmentColor:p,tonalOffset:r,...g},i)}function Uj(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Nj(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function zj(t){return Math.round(t*1e5)/1e5}const oB={textTransform:"uppercase"},aB='"Roboto", "Helvetica", "Arial", sans-serif';function yN(t,e){const{fontFamily:n=aB,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:f,...d}=typeof e=="function"?e(t):e,p=r/14,g=f||(_=>`${_/l*p}rem`),y=(_,x,b,w,M)=>({fontFamily:n,fontWeight:_,fontSize:g(x),lineHeight:b,...n===aB?{letterSpacing:`${zj(w/x)}em`}:{},...M,...u}),S={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(o,14,1.75,.4,oB),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,oB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return js({htmlFontSize:l,pxToRem:g,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...S},d,{clone:!1})}const Gj=.2,Hj=.14,Vj=.12;function Dr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Gj})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Hj})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Vj})`].join(",")}const jj=["none",Dr(0,2,1,-1,0,1,1,0,0,1,3,0),Dr(0,3,1,-2,0,2,2,0,0,1,5,0),Dr(0,3,3,-2,0,3,4,0,0,1,8,0),Dr(0,2,4,-1,0,4,5,0,0,1,10,0),Dr(0,3,5,-1,0,5,8,0,0,1,14,0),Dr(0,3,5,-1,0,6,10,0,0,1,18,0),Dr(0,4,5,-2,0,7,10,1,0,2,16,1),Dr(0,5,5,-3,0,8,10,1,0,3,14,2),Dr(0,5,6,-3,0,9,12,1,0,3,16,2),Dr(0,6,6,-3,0,10,14,1,0,4,18,3),Dr(0,6,7,-4,0,11,15,1,0,4,20,3),Dr(0,7,8,-4,0,12,17,2,0,5,22,4),Dr(0,7,8,-4,0,13,19,2,0,5,24,4),Dr(0,7,9,-4,0,14,21,2,0,5,26,4),Dr(0,8,9,-5,0,15,22,2,0,6,28,5),Dr(0,8,10,-5,0,16,24,2,0,6,30,5),Dr(0,8,11,-5,0,17,26,2,0,6,32,5),Dr(0,9,11,-5,0,18,28,2,0,7,34,6),Dr(0,9,12,-6,0,19,29,2,0,7,36,6),Dr(0,10,13,-6,0,20,31,3,0,8,38,7),Dr(0,10,13,-6,0,21,33,3,0,8,40,7),Dr(0,10,14,-6,0,22,35,3,0,8,42,7),Dr(0,11,14,-7,0,23,36,3,0,9,44,8),Dr(0,11,15,-7,0,24,38,3,0,9,46,8)],Wj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xN={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lB(t){return`${Math.round(t)}ms`}function Xj(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function qj(t){const e={...Wj,...t.easing},n={...xN,...t.duration};return{getAutoHeightDuration:Xj,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(f=>`${f} ${typeof o=="string"?o:lB(o)} ${a} ${typeof l=="string"?l:lB(l)}`).join(",")},...t,easing:e,duration:n}}const Kj={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Jj(t){return Fl(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function _N(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!Jj(a)||o.startsWith("unstable_")?delete r[o]:Fl(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function vC(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(nh(20));const f=aR(s),d=BS(t);let p=js(d,{mixins:Nj(d.breakpoints,r),palette:f,shadows:jj.slice(),typography:yN(f,a),transitions:qj(o),zIndex:{...Kj}});return p=js(p,u),p=e.reduce((g,y)=>js(g,y),p),p.unstable_sxConfig={...Yy,...u==null?void 0:u.unstable_sxConfig},p.unstable_sx=function(y){return cf({sx:y,theme:this})},p.toRuntimeSource=_N,p}function yC(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Yj=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=yC(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function SN(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function AN(t){return t==="dark"?Yj:[]}function $j(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=aR(e);return{palette:s,opacity:{...SN(s.mode),...n},overlays:r||AN(s.mode),...i}}function Qj(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Zj=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],eW=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return Zj(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function tW(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function rt(t,e,n){!t[e]&&n&&(t[e]=n)}function vv(t){return typeof t!="string"||!t.startsWith("hsl")?t:iN(t)}function Mu(t,e){`${e}Channel`in t||(t[`${e}Channel`]=gv(vv(t[e])))}function nW(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Pl=t=>{try{return t()}catch{}},rW=(t="mui")=>xj(t);function Lw(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=$j({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=vC({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...SN(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||AN(i)},o}function iW(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=Qj,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,f=Object.keys(n)[0],d=r||(n.light&&f!=="light"?"light":f),p=rW(s),{[d]:g,light:y,dark:S,..._}=n,x={..._};let b=g;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(b=!0),!b)throw new Error(nh(21,d));const w=Lw(x,b,u,d);y&&!x.light&&Lw(x,y,void 0,"light"),S&&!x.dark&&Lw(x,S,void 0,"dark");let M={defaultColorScheme:d,...w,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:p,colorSchemes:x,font:{...Uj(w.typography),...w.font},spacing:nW(u.spacing)};Object.keys(M.colorSchemes).forEach(L=>{const E=M.colorSchemes[L].palette,O=U=>{const H=U.split("-"),q=H[1],te=H[2];return p(U,E[q][te])};if(E.mode==="light"&&(rt(E.common,"background","#fff"),rt(E.common,"onBackground","#000")),E.mode==="dark"&&(rt(E.common,"background","#000"),rt(E.common,"onBackground","#fff")),tW(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){rt(E.Alert,"errorColor",mr(E.error.light,.6)),rt(E.Alert,"infoColor",mr(E.info.light,.6)),rt(E.Alert,"successColor",mr(E.success.light,.6)),rt(E.Alert,"warningColor",mr(E.warning.light,.6)),rt(E.Alert,"errorFilledBg",O("palette-error-main")),rt(E.Alert,"infoFilledBg",O("palette-info-main")),rt(E.Alert,"successFilledBg",O("palette-success-main")),rt(E.Alert,"warningFilledBg",O("palette-warning-main")),rt(E.Alert,"errorFilledColor",Pl(()=>E.getContrastText(E.error.main))),rt(E.Alert,"infoFilledColor",Pl(()=>E.getContrastText(E.info.main))),rt(E.Alert,"successFilledColor",Pl(()=>E.getContrastText(E.success.main))),rt(E.Alert,"warningFilledColor",Pl(()=>E.getContrastText(E.warning.main))),rt(E.Alert,"errorStandardBg",gr(E.error.light,.9)),rt(E.Alert,"infoStandardBg",gr(E.info.light,.9)),rt(E.Alert,"successStandardBg",gr(E.success.light,.9)),rt(E.Alert,"warningStandardBg",gr(E.warning.light,.9)),rt(E.Alert,"errorIconColor",O("palette-error-main")),rt(E.Alert,"infoIconColor",O("palette-info-main")),rt(E.Alert,"successIconColor",O("palette-success-main")),rt(E.Alert,"warningIconColor",O("palette-warning-main")),rt(E.AppBar,"defaultBg",O("palette-grey-100")),rt(E.Avatar,"defaultBg",O("palette-grey-400")),rt(E.Button,"inheritContainedBg",O("palette-grey-300")),rt(E.Button,"inheritContainedHoverBg",O("palette-grey-A100")),rt(E.Chip,"defaultBorder",O("palette-grey-400")),rt(E.Chip,"defaultAvatarColor",O("palette-grey-700")),rt(E.Chip,"defaultIconColor",O("palette-grey-700")),rt(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),rt(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),rt(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),rt(E.LinearProgress,"primaryBg",gr(E.primary.main,.62)),rt(E.LinearProgress,"secondaryBg",gr(E.secondary.main,.62)),rt(E.LinearProgress,"errorBg",gr(E.error.main,.62)),rt(E.LinearProgress,"infoBg",gr(E.info.main,.62)),rt(E.LinearProgress,"successBg",gr(E.success.main,.62)),rt(E.LinearProgress,"warningBg",gr(E.warning.main,.62)),rt(E.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),rt(E.Slider,"primaryTrack",gr(E.primary.main,.62)),rt(E.Slider,"secondaryTrack",gr(E.secondary.main,.62)),rt(E.Slider,"errorTrack",gr(E.error.main,.62)),rt(E.Slider,"infoTrack",gr(E.info.main,.62)),rt(E.Slider,"successTrack",gr(E.success.main,.62)),rt(E.Slider,"warningTrack",gr(E.warning.main,.62));const U=bx(E.background.default,.8);rt(E.SnackbarContent,"bg",U),rt(E.SnackbarContent,"color",Pl(()=>E.getContrastText(U))),rt(E.SpeedDialAction,"fabHoverBg",bx(E.background.paper,.15)),rt(E.StepConnector,"border",O("palette-grey-400")),rt(E.StepContent,"border",O("palette-grey-400")),rt(E.Switch,"defaultColor",O("palette-common-white")),rt(E.Switch,"defaultDisabledColor",O("palette-grey-100")),rt(E.Switch,"primaryDisabledColor",gr(E.primary.main,.62)),rt(E.Switch,"secondaryDisabledColor",gr(E.secondary.main,.62)),rt(E.Switch,"errorDisabledColor",gr(E.error.main,.62)),rt(E.Switch,"infoDisabledColor",gr(E.info.main,.62)),rt(E.Switch,"successDisabledColor",gr(E.success.main,.62)),rt(E.Switch,"warningDisabledColor",gr(E.warning.main,.62)),rt(E.TableCell,"border",gr(wx(E.divider,1),.88)),rt(E.Tooltip,"bg",wx(E.grey[700],.92))}if(E.mode==="dark"){rt(E.Alert,"errorColor",gr(E.error.light,.6)),rt(E.Alert,"infoColor",gr(E.info.light,.6)),rt(E.Alert,"successColor",gr(E.success.light,.6)),rt(E.Alert,"warningColor",gr(E.warning.light,.6)),rt(E.Alert,"errorFilledBg",O("palette-error-dark")),rt(E.Alert,"infoFilledBg",O("palette-info-dark")),rt(E.Alert,"successFilledBg",O("palette-success-dark")),rt(E.Alert,"warningFilledBg",O("palette-warning-dark")),rt(E.Alert,"errorFilledColor",Pl(()=>E.getContrastText(E.error.dark))),rt(E.Alert,"infoFilledColor",Pl(()=>E.getContrastText(E.info.dark))),rt(E.Alert,"successFilledColor",Pl(()=>E.getContrastText(E.success.dark))),rt(E.Alert,"warningFilledColor",Pl(()=>E.getContrastText(E.warning.dark))),rt(E.Alert,"errorStandardBg",mr(E.error.light,.9)),rt(E.Alert,"infoStandardBg",mr(E.info.light,.9)),rt(E.Alert,"successStandardBg",mr(E.success.light,.9)),rt(E.Alert,"warningStandardBg",mr(E.warning.light,.9)),rt(E.Alert,"errorIconColor",O("palette-error-main")),rt(E.Alert,"infoIconColor",O("palette-info-main")),rt(E.Alert,"successIconColor",O("palette-success-main")),rt(E.Alert,"warningIconColor",O("palette-warning-main")),rt(E.AppBar,"defaultBg",O("palette-grey-900")),rt(E.AppBar,"darkBg",O("palette-background-paper")),rt(E.AppBar,"darkColor",O("palette-text-primary")),rt(E.Avatar,"defaultBg",O("palette-grey-600")),rt(E.Button,"inheritContainedBg",O("palette-grey-800")),rt(E.Button,"inheritContainedHoverBg",O("palette-grey-700")),rt(E.Chip,"defaultBorder",O("palette-grey-700")),rt(E.Chip,"defaultAvatarColor",O("palette-grey-300")),rt(E.Chip,"defaultIconColor",O("palette-grey-300")),rt(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),rt(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),rt(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),rt(E.LinearProgress,"primaryBg",mr(E.primary.main,.5)),rt(E.LinearProgress,"secondaryBg",mr(E.secondary.main,.5)),rt(E.LinearProgress,"errorBg",mr(E.error.main,.5)),rt(E.LinearProgress,"infoBg",mr(E.info.main,.5)),rt(E.LinearProgress,"successBg",mr(E.success.main,.5)),rt(E.LinearProgress,"warningBg",mr(E.warning.main,.5)),rt(E.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),rt(E.Slider,"primaryTrack",mr(E.primary.main,.5)),rt(E.Slider,"secondaryTrack",mr(E.secondary.main,.5)),rt(E.Slider,"errorTrack",mr(E.error.main,.5)),rt(E.Slider,"infoTrack",mr(E.info.main,.5)),rt(E.Slider,"successTrack",mr(E.success.main,.5)),rt(E.Slider,"warningTrack",mr(E.warning.main,.5));const U=bx(E.background.default,.98);rt(E.SnackbarContent,"bg",U),rt(E.SnackbarContent,"color",Pl(()=>E.getContrastText(U))),rt(E.SpeedDialAction,"fabHoverBg",bx(E.background.paper,.15)),rt(E.StepConnector,"border",O("palette-grey-600")),rt(E.StepContent,"border",O("palette-grey-600")),rt(E.Switch,"defaultColor",O("palette-grey-300")),rt(E.Switch,"defaultDisabledColor",O("palette-grey-600")),rt(E.Switch,"primaryDisabledColor",mr(E.primary.main,.55)),rt(E.Switch,"secondaryDisabledColor",mr(E.secondary.main,.55)),rt(E.Switch,"errorDisabledColor",mr(E.error.main,.55)),rt(E.Switch,"infoDisabledColor",mr(E.info.main,.55)),rt(E.Switch,"successDisabledColor",mr(E.success.main,.55)),rt(E.Switch,"warningDisabledColor",mr(E.warning.main,.55)),rt(E.TableCell,"border",mr(wx(E.divider,1),.68)),rt(E.Tooltip,"bg",wx(E.grey[700],.92))}Mu(E.background,"default"),Mu(E.background,"paper"),Mu(E.common,"background"),Mu(E.common,"onBackground"),Mu(E,"divider"),Object.keys(E).forEach(U=>{const H=E[U];U!=="tonalOffset"&&H&&typeof H=="object"&&(H.main&&rt(E[U],"mainChannel",gv(vv(H.main))),H.light&&rt(E[U],"lightChannel",gv(vv(H.light))),H.dark&&rt(E[U],"darkChannel",gv(vv(H.dark))),H.contrastText&&rt(E[U],"contrastTextChannel",gv(vv(H.contrastText))),U==="text"&&(Mu(E[U],"primary"),Mu(E[U],"secondary")),U==="action"&&(H.active&&Mu(E[U],"active"),H.selected&&Mu(E[U],"selected")))})}),M=e.reduce((L,E)=>js(L,E),M);const C={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:eW(M)},{vars:I,generateThemeVars:B,generateStyleSheets:P}=Aj(M,C);return M.vars=I,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([L,E])=>{M[L]=E}),M.generateThemeVars=B,M.generateStyleSheets=P,M.generateSpacing=function(){return $U(u.spacing,ES(this))},M.getColorSchemeSelector=wj(a),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=o,M.unstable_sxConfig={...Yy,...u==null?void 0:u.unstable_sxConfig},M.unstable_sx=function(E){return cf({sx:E,theme:this})},M.toRuntimeSource=_N,M}function uB(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:aR({...n===!0?{}:n.palette,mode:e})})}function FS(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return vC(t,...e);let f=n;"palette"in t||u[a]&&(u[a]!==!0?f=u[a].palette:a==="dark"&&(f={mode:"dark"}));const d=vC({...t,palette:f},...e);return d.defaultColorScheme=a,d.colorSchemes=u,d.palette.mode==="light"&&(d.colorSchemes.light={...u.light!==!0&&u.light,palette:d.palette},uB(d,"dark",u.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:d.palette},uB(d,"light",u.light)),d}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),iW({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const lR=FS();function OS(){const t=DS(lR);return t[kl]||t}function sW(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const uR=t=>sW(t)&&t!=="classes",Fn=rN({themeId:kl,defaultTheme:lR,rootShouldForwardProp:uR});function cB({theme:t,...e}){const n=kl in t?t[kl]:void 0;return V.jsx(pN,{...e,themeId:n?kl:void 0,theme:n||t})}const Mx={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:oW}=yj({themeId:kl,theme:()=>FS({cssVariables:!0}),colorSchemeStorageKey:Mx.colorSchemeStorageKey,modeStorageKey:Mx.modeStorageKey,defaultColorScheme:{light:Mx.defaultLightColorScheme,dark:Mx.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:yN(t.palette,t.typography)};return e.unstable_sx=function(r){return cf({sx:r,theme:this})},e}}),aW=oW;function lW({theme:t,...e}){return typeof t=="function"?V.jsx(cB,{theme:t,...e}):"colorSchemes"in(kl in t?t[kl]:t)?V.jsx(aW,{theme:t,...e}):V.jsx(cB,{theme:t,...e})}function uW(t){return V.jsx(E8,{...t,defaultTheme:lR,themeId:kl})}function wN(t){return function(n){return V.jsx(uW,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function cW(){return tR}const bs=cj;function ai(t){return uj(t)}function fW(t){return Si("MuiSvgIcon",t)}Ai("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const dW=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${qt(e)}`,`fontSize${qt(n)}`]};return Fi(i,fW,r)},hW=Fn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${qt(n.color)}`],e[`fontSize${qt(n.fontSize)}`]]}})(bs(({theme:t})=>{var e,n,r,i,s,o,a,l,u,f,d,p,g,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:S=>!S.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((f=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:f.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,S])=>S&&S.main).map(([S])=>{var _,x;return{props:{color:S},style:{color:(x=(_=(t.vars??t).palette)==null?void 0:_[S])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(p=(d=(t.vars??t).palette)==null?void 0:d.action)==null?void 0:p.active}},{props:{color:"disabled"},style:{color:(y=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:y.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),xC=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:f=!1,titleAccess:d,viewBox:p="0 0 24 24",...g}=r,y=G.isValidElement(i)&&i.type==="svg",S={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:p,hasSvgAsChild:y},_={};f||(_.viewBox=p);const x=dW(S);return V.jsxs(hW,{as:a,className:Pn(x.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,..._,...g,...y&&i.props,ownerState:S,children:[y?i.props.children:i,d?V.jsx("title",{children:d}):null]})});xC.muiName="SvgIcon";function zo(t,e){function n(r,i){return V.jsx(xC,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=xC.muiName,G.memo(G.forwardRef(n))}function bN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _C(t,e){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_C(t,e)}function MN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_C(t,e)}var cR=PU();const Ex=jy(cR),fB={disabled:!1},c1=Ya.createContext(null);var pW=function(e){return e.scrollTop},yv="unmounted",bd="exited",Md="entering",jp="entered",SC="exiting",sc=function(t){MN(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=bd,s.appearStatus=Md):l=jp:r.unmountOnExit||r.mountOnEnter?l=yv:l=bd,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===yv?{status:bd}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Md&&o!==jp&&(s=Md):(o===Md||o===jp)&&(s=SC)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Md){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ex.findDOMNode(this);o&&pW(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bd&&this.setState({status:yv})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ex.findDOMNode(this),a],u=l[0],f=l[1],d=this.getTimeouts(),p=a?d.appear:d.enter;if(!i&&!o||fB.disabled){this.safeSetState({status:jp},function(){s.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:Md},function(){s.props.onEntering(u,f),s.onTransitionEnd(p,function(){s.safeSetState({status:jp},function(){s.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ex.findDOMNode(this);if(!s||fB.disabled){this.safeSetState({status:bd},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:SC},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:bd},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ex.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],f=l[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===yv)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=bN(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ya.createElement(c1.Provider,{value:null},typeof o=="function"?o(i,a):Ya.cloneElement(Ya.Children.only(o),a))},e}(Ya.Component);sc.contextType=c1;sc.propTypes={};function _p(){}sc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_p,onEntering:_p,onEntered:_p,onExit:_p,onExiting:_p,onExited:_p};sc.UNMOUNTED=yv;sc.EXITED=bd;sc.ENTERING=Md;sc.ENTERED=jp;sc.EXITING=SC;function mW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fR(t,e){var n=function(s){return e&&G.isValidElement(s)?e(s):s},r=Object.create(null);return t&&G.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function gW(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Nd(t,e,n){return n[e]!=null?n[e]:t.props[e]}function vW(t,e){return fR(t.children,function(n){return G.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Nd(n,"appear",t),enter:Nd(n,"enter",t),exit:Nd(n,"exit",t)})})}function yW(t,e,n){var r=fR(t.children),i=gW(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(G.isValidElement(o)){var a=s in e,l=s in r,u=e[s],f=G.isValidElement(u)&&!u.props.in;l&&(!a||f)?i[s]=G.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Nd(o,"exit",t),enter:Nd(o,"enter",t)}):!l&&a&&!f?i[s]=G.cloneElement(o,{in:!1}):l&&a&&G.isValidElement(u)&&(i[s]=G.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Nd(o,"exit",t),enter:Nd(o,"enter",t)}))}}),i}var xW=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},_W={component:"div",childFactory:function(e){return e}},dR=function(t){MN(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(mW(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?vW(i,a):yW(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=fR(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=hm({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=bN(i,["component","childFactory"]),l=this.state.contextValue,u=xW(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Ya.createElement(c1.Provider,{value:l},u):Ya.createElement(c1.Provider,{value:l},Ya.createElement(s,a,u))},e}(Ya.Component);dR.propTypes={};dR.defaultProps=_W;function dB(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function SW(t){return Si("MuiCollapse",t)}Ai("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const AW=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Fi(r,SW,n)},wW=Fn("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(bs(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),bW=Fn("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),MW=Fn("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),AC=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:o,collapsedSize:a="0px",component:l,easing:u,in:f,onEnter:d,onEntered:p,onEntering:g,onExit:y,onExited:S,onExiting:_,orientation:x="vertical",style:b,timeout:w=xN.standard,TransitionComponent:M=sc,...C}=r,I={...r,orientation:x,collapsedSize:a},B=AW(I),P=OS(),L=aN(),E=G.useRef(null),O=G.useRef(),U=typeof a=="number"?`${a}px`:a,H=x==="horizontal",q=H?"width":"height",te=G.useRef(null),$=nl(n,te),ie=oe=>ue=>{if(oe){const ve=te.current;ue===void 0?oe(ve):oe(ve,ue)}},W=()=>E.current?E.current[H?"clientWidth":"clientHeight"]:0,Y=ie((oe,ue)=>{E.current&&H&&(E.current.style.position="absolute"),oe.style[q]=U,d&&d(oe,ue)}),Q=ie((oe,ue)=>{const ve=W();E.current&&H&&(E.current.style.position="");const{duration:Be,easing:Le}=dB({style:b,timeout:w,easing:u},{mode:"enter"});if(w==="auto"){const Ve=P.transitions.getAutoHeightDuration(ve);oe.style.transitionDuration=`${Ve}ms`,O.current=Ve}else oe.style.transitionDuration=typeof Be=="string"?Be:`${Be}ms`;oe.style[q]=`${ve}px`,oe.style.transitionTimingFunction=Le,g&&g(oe,ue)}),z=ie((oe,ue)=>{oe.style[q]="auto",p&&p(oe,ue)}),K=ie(oe=>{oe.style[q]=`${W()}px`,y&&y(oe)}),ae=ie(S),Z=ie(oe=>{const ue=W(),{duration:ve,easing:Be}=dB({style:b,timeout:w,easing:u},{mode:"exit"});if(w==="auto"){const Le=P.transitions.getAutoHeightDuration(ue);oe.style.transitionDuration=`${Le}ms`,O.current=Le}else oe.style.transitionDuration=typeof ve=="string"?ve:`${ve}ms`;oe.style[q]=U,oe.style.transitionTimingFunction=Be,_&&_(oe)}),se=oe=>{w==="auto"&&L.start(O.current||0,oe),i&&i(te.current,oe)};return V.jsx(M,{in:f,onEnter:Y,onEntered:z,onEntering:Q,onExit:K,onExited:ae,onExiting:Z,addEndListener:se,nodeRef:te,timeout:w==="auto"?null:w,...C,children:(oe,{ownerState:ue,...ve})=>V.jsx(wW,{as:l,className:Pn(B.root,o,{entered:B.entered,exited:!f&&U==="0px"&&B.hidden}[oe]),style:{[H?"minWidth":"minHeight"]:U,...b},ref:$,ownerState:{...I,state:oe},...ve,children:V.jsx(bW,{ownerState:{...I,state:oe},className:B.wrapper,ref:E,children:V.jsx(MW,{ownerState:{...I,state:oe},className:B.wrapperInner,children:s})})})})});AC&&(AC.muiSupportAuto=!0);function EW(t){return Si("MuiPaper",t)}Ai("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const CW=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Fi(s,EW,i)},TW=Fn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(bs(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ed=G.forwardRef(function(e,n){var g;const r=ai({props:e,name:"MuiPaper"}),i=OS(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:u="elevation",...f}=r,d={...r,component:o,elevation:a,square:l,variant:u},p=CW(d);return V.jsx(TW,{as:o,ownerState:d,className:Pn(p.root,s),ref:n,...f,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(g=i.vars.overlays)==null?void 0:g[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${ar("#fff",yC(a))}, ${ar("#fff",yC(a))})`}},...f.style}})});function $c(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:u,slots:f={[t]:void 0},slotProps:d={[t]:void 0},...p}=s,g=f[t]||r,y=cN(d[t],i),{props:{component:S,..._},internalRef:x}=uN({className:n,...l,externalForwardedProps:t==="root"?p:void 0,externalSlotProps:y}),b=nl(x,y==null?void 0:y.ref,e.ref),w=t==="root"?S||u:S,M=lN(g,{...t==="root"&&!u&&!f[t]&&o,...t!=="root"&&!f[t]&&o,..._,...w&&!a&&{as:w},...w&&a&&{component:w},ref:b},i);return[g,M]}class f1{constructor(){sd(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new f1}static use(){const e=oN(f1.create).current,[n,r]=G.useState(!1);return e.shouldMount=n,e.setShouldMount=r,G.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=PW(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function RW(){return f1.use()}function PW(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function IW(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[f,d]=G.useState(!1),p=Pn(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},y=Pn(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&d(!0),G.useEffect(()=>{if(!a&&l!=null){const S=setTimeout(l,u);return()=>{clearTimeout(S)}}},[l,a,u]),V.jsx("span",{className:p,style:g,children:V.jsx("span",{className:y})})}const ra=Ai("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),wC=550,BW=80,DW=Fm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,LW=Fm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,FW=Fm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,OW=Fn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),kW=Fn(IW,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ra.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${DW};
    animation-duration: ${wC}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${ra.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${ra.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ra.childLeaving} {
    opacity: 0;
    animation-name: ${LW};
    animation-duration: ${wC}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${ra.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${FW};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,UW=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[l,u]=G.useState([]),f=G.useRef(0),d=G.useRef(null);G.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const p=G.useRef(!1),g=aN(),y=G.useRef(null),S=G.useRef(null),_=G.useCallback(M=>{const{pulsate:C,rippleX:I,rippleY:B,rippleSize:P,cb:L}=M;u(E=>[...E,V.jsx(kW,{classes:{ripple:Pn(s.ripple,ra.ripple),rippleVisible:Pn(s.rippleVisible,ra.rippleVisible),ripplePulsate:Pn(s.ripplePulsate,ra.ripplePulsate),child:Pn(s.child,ra.child),childLeaving:Pn(s.childLeaving,ra.childLeaving),childPulsate:Pn(s.childPulsate,ra.childPulsate)},timeout:wC,pulsate:C,rippleX:I,rippleY:B,rippleSize:P},f.current)]),f.current+=1,d.current=L},[s]),x=G.useCallback((M={},C={},I=()=>{})=>{const{pulsate:B=!1,center:P=i||C.pulsate,fakeElement:L=!1}=C;if((M==null?void 0:M.type)==="mousedown"&&p.current){p.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(p.current=!0);const E=L?null:S.current,O=E?E.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,H,q;if(P||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)U=Math.round(O.width/2),H=Math.round(O.height/2);else{const{clientX:te,clientY:$}=M.touches&&M.touches.length>0?M.touches[0]:M;U=Math.round(te-O.left),H=Math.round($-O.top)}if(P)q=Math.sqrt((2*O.width**2+O.height**2)/3),q%2===0&&(q+=1);else{const te=Math.max(Math.abs((E?E.clientWidth:0)-U),U)*2+2,$=Math.max(Math.abs((E?E.clientHeight:0)-H),H)*2+2;q=Math.sqrt(te**2+$**2)}M!=null&&M.touches?y.current===null&&(y.current=()=>{_({pulsate:B,rippleX:U,rippleY:H,rippleSize:q,cb:I})},g.start(BW,()=>{y.current&&(y.current(),y.current=null)})):_({pulsate:B,rippleX:U,rippleY:H,rippleSize:q,cb:I})},[i,_,g]),b=G.useCallback(()=>{x({},{pulsate:!0})},[x]),w=G.useCallback((M,C)=>{if(g.clear(),(M==null?void 0:M.type)==="touchend"&&y.current){y.current(),y.current=null,g.start(0,()=>{w(M,C)});return}y.current=null,u(I=>I.length>0?I.slice(1):I),d.current=C},[g]);return G.useImperativeHandle(n,()=>({pulsate:b,start:x,stop:w}),[b,x,w]),V.jsx(OW,{className:Pn(ra.root,s.root,o),ref:S,...a,children:V.jsx(dR,{component:null,exit:!0,children:l})})});function NW(t){return Si("MuiButtonBase",t)}const zW=Ai("MuiButtonBase",["root","disabled","focusVisible"]),GW=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Fi({root:["root",e&&"disabled",n&&"focusVisible"]},NW,i);return n&&r&&(o.root+=` ${r}`),o},HW=Fn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${zW.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ay=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:f=!1,disableTouchRipple:d=!1,focusRipple:p=!1,focusVisibleClassName:g,LinkComponent:y="a",onBlur:S,onClick:_,onContextMenu:x,onDragLeave:b,onFocus:w,onFocusVisible:M,onKeyDown:C,onKeyUp:I,onMouseDown:B,onMouseLeave:P,onMouseUp:L,onTouchEnd:E,onTouchMove:O,onTouchStart:U,tabIndex:H=0,TouchRippleProps:q,touchRippleRef:te,type:$,...ie}=r,W=G.useRef(null),Y=RW(),Q=nl(Y.ref,te),[z,K]=G.useState(!1);u&&z&&K(!1),G.useImperativeHandle(i,()=>({focusVisible:()=>{K(!0),W.current.focus()}}),[]);const ae=Y.shouldMount&&!f&&!u;G.useEffect(()=>{z&&p&&!f&&Y.pulsate()},[f,p,z,Y]);const Z=Eu(Y,"start",B,d),se=Eu(Y,"stop",x,d),oe=Eu(Y,"stop",b,d),ue=Eu(Y,"stop",L,d),ve=Eu(Y,"stop",X=>{z&&X.preventDefault(),P&&P(X)},d),Be=Eu(Y,"start",U,d),Le=Eu(Y,"stop",E,d),Ve=Eu(Y,"stop",O,d),xe=Eu(Y,"stop",X=>{u1(X.target)||K(!1),S&&S(X)},!1),Te=W_(X=>{W.current||(W.current=X.currentTarget),u1(X.target)&&(K(!0),M&&M(X)),w&&w(X)}),re=()=>{const X=W.current;return l&&l!=="button"&&!(X.tagName==="A"&&X.href)},nt=W_(X=>{p&&!X.repeat&&z&&X.key===" "&&Y.stop(X,()=>{Y.start(X)}),X.target===X.currentTarget&&re()&&X.key===" "&&X.preventDefault(),C&&C(X),X.target===X.currentTarget&&re()&&X.key==="Enter"&&!u&&(X.preventDefault(),_&&_(X))}),ke=W_(X=>{p&&X.key===" "&&z&&!X.defaultPrevented&&Y.stop(X,()=>{Y.pulsate(X)}),I&&I(X),_&&X.target===X.currentTarget&&re()&&X.key===" "&&!X.defaultPrevented&&_(X)});let Ze=l;Ze==="button"&&(ie.href||ie.to)&&(Ze=y);const Ae={};Ze==="button"?(Ae.type=$===void 0?"button":$,Ae.disabled=u):(!ie.href&&!ie.to&&(Ae.role="button"),u&&(Ae["aria-disabled"]=u));const tt=nl(n,W),Fe={...r,centerRipple:s,component:l,disabled:u,disableRipple:f,disableTouchRipple:d,focusRipple:p,tabIndex:H,focusVisible:z},J=GW(Fe);return V.jsxs(HW,{as:Ze,className:Pn(J.root,a),ownerState:Fe,onBlur:xe,onClick:_,onContextMenu:se,onFocus:Te,onKeyDown:nt,onKeyUp:ke,onMouseDown:Z,onMouseLeave:ve,onMouseUp:ue,onDragLeave:oe,onTouchEnd:Le,onTouchMove:Ve,onTouchStart:Be,ref:tt,tabIndex:u?-1:H,type:$,...Ae,...ie,children:[o,ae?V.jsx(UW,{ref:Q,center:s,...q}):null]})});function Eu(t,e,n,r=!1){return W_(i=>(n&&n(i),r||t[e](i),!0))}function VW(t){return typeof t.main=="string"}function jW(t,e=[]){if(!VW(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Io(t=[]){return([,e])=>e&&jW(e,t)}function WW(t){return Si("MuiAlert",t)}const hB=Ai("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function XW(t){return Si("MuiCircularProgress",t)}Ai("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Uc=44,bC=Fm`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,MC=Fm`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,qW=typeof bC!="string"?$T`
        animation: ${bC} 1.4s linear infinite;
      `:null,KW=typeof MC!="string"?$T`
        animation: ${MC} 1.4s ease-in-out infinite;
      `:null,JW=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${qt(r)}`],svg:["svg"],circle:["circle",`circle${qt(n)}`,i&&"circleDisableShrink"]};return Fi(s,XW,e)},YW=Fn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${qt(n.color)}`]]}})(bs(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:qW||{animation:`${bC} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Io()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),$W=Fn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),QW=Fn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${qt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(bs(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:KW||{animation:`${MC} 1.4s ease-in-out infinite`}}]}))),EN=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:f=0,variant:d="indeterminate",...p}=r,g={...r,color:s,disableShrink:o,size:a,thickness:u,value:f,variant:d},y=JW(g),S={},_={},x={};if(d==="determinate"){const b=2*Math.PI*((Uc-u)/2);S.strokeDasharray=b.toFixed(3),x["aria-valuenow"]=Math.round(f),S.strokeDashoffset=`${((100-f)/100*b).toFixed(3)}px`,_.transform="rotate(-90deg)"}return V.jsx(YW,{className:Pn(y.root,i),style:{width:a,height:a,..._,...l},ownerState:g,ref:n,role:"progressbar",...x,...p,children:V.jsx($W,{className:y.svg,ownerState:g,viewBox:`${Uc/2} ${Uc/2} ${Uc} ${Uc}`,children:V.jsx(QW,{className:y.circle,style:S,ownerState:g,cx:Uc,cy:Uc,r:(Uc-u)/2,fill:"none",strokeWidth:u})})})});function ZW(t){return Si("MuiIconButton",t)}const pB=Ai("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),e7=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:o}=t,a={root:["root",o&&"loading",n&&"disabled",r!=="default"&&`color${qt(r)}`,i&&`edge${qt(i)}`,`size${qt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Fi(a,ZW,e)},t7=Fn(ay,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${qt(n.color)}`],n.edge&&e[`edge${qt(n.edge)}`],e[`size${qt(n.size)}`]]}})(bs(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ar(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),bs(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Io()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Io()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ar((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${pB.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${pB.loading}`]:{color:"transparent"}}))),n7=Fn("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Kp=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:f="medium",id:d,loading:p=null,loadingIndicator:g,...y}=r,S=sN(d),_=g??V.jsx(EN,{"aria-labelledby":S,color:"inherit",size:16}),x={...r,edge:i,color:a,disabled:l,disableFocusRipple:u,loading:p,loadingIndicator:_,size:f},b=e7(x);return V.jsxs(t7,{id:p?S:d,className:Pn(b.root,o),centerRipple:!0,focusRipple:!u,disabled:l||p,ref:n,...y,ownerState:x,children:[typeof p=="boolean"&&V.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:V.jsx(n7,{className:b.loadingIndicator,ownerState:x,children:p&&_})}),s]})}),r7=zo(V.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),i7=zo(V.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),s7=zo(V.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),o7=zo(V.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),a7=zo(V.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),l7=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`color${qt(n||r)}`,`${e}${qt(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Fi(s,WW,i)},u7=Fn(Ed,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${qt(n.color||n.severity)}`]]}})(bs(({theme:t})=>{const e=t.palette.mode==="light"?Gu:oy,n=t.palette.mode==="light"?oy:Gu;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Io(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${hB.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Io(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${hB.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Io(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),c7=Fn("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),f7=Fn("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),d7=Fn("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),mB={success:V.jsx(r7,{fontSize:"inherit"}),warning:V.jsx(i7,{fontSize:"inherit"}),error:V.jsx(s7,{fontSize:"inherit"}),info:V.jsx(o7,{fontSize:"inherit"})},hR=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:l,components:u={},componentsProps:f={},icon:d,iconMapping:p=mB,onClose:g,role:y="alert",severity:S="success",slotProps:_={},slots:x={},variant:b="standard",...w}=r,M={...r,color:l,severity:S,variant:b,colorSeverity:l||S},C=l7(M),I={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...x},slotProps:{...f,..._}},[B,P]=$c("root",{ref:n,shouldForwardComponentProp:!0,className:Pn(C.root,o),elementType:u7,externalForwardedProps:{...I,...w},ownerState:M,additionalProps:{role:y,elevation:0}}),[L,E]=$c("icon",{className:C.icon,elementType:c7,externalForwardedProps:I,ownerState:M}),[O,U]=$c("message",{className:C.message,elementType:f7,externalForwardedProps:I,ownerState:M}),[H,q]=$c("action",{className:C.action,elementType:d7,externalForwardedProps:I,ownerState:M}),[te,$]=$c("closeButton",{elementType:Kp,externalForwardedProps:I,ownerState:M}),[ie,W]=$c("closeIcon",{elementType:a7,externalForwardedProps:I,ownerState:M});return V.jsxs(B,{...P,children:[d!==!1?V.jsx(L,{...E,children:d||p[S]||mB[S]}):null,V.jsx(O,{...U,children:s}),i!=null?V.jsx(H,{...q,children:i}):null,i==null&&g?V.jsx(H,{...q,children:V.jsx(te,{size:"small","aria-label":a,title:a,color:"inherit",onClick:g,...$,children:V.jsx(ie,{fontSize:"small",...W})})}):null]})});function h7(t){return Si("MuiTypography",t)}const gB=Ai("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),p7={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},m7=cW(),g7=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${qt(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Fi(a,h7,o)},v7=Fn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${qt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(bs(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(Io()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qt(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),vB={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},an=G.forwardRef(function(e,n){const{color:r,...i}=ai({props:e,name:"MuiTypography"}),s=!p7[r],o=m7({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:f=!1,noWrap:d=!1,paragraph:p=!1,variant:g="body1",variantMapping:y=vB,...S}=o,_={...o,align:a,color:r,className:l,component:u,gutterBottom:f,noWrap:d,paragraph:p,variant:g,variantMapping:y},x=u||(p?"p":y[g]||vB[g])||"span",b=g7(_);return V.jsx(v7,{as:x,ref:n,className:Pn(b.root,l),...S,ownerState:_,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...S.style}})});var fo="top",fa="bottom",da="right",ho="left",pR="auto",$y=[fo,fa,da,ho],mm="start",ly="end",y7="clippingParents",CN="viewport",Gg="popper",x7="reference",yB=$y.reduce(function(t,e){return t.concat([e+"-"+mm,e+"-"+ly])},[]),TN=[].concat($y,[pR]).reduce(function(t,e){return t.concat([e,e+"-"+mm,e+"-"+ly])},[]),_7="beforeRead",S7="read",A7="afterRead",w7="beforeMain",b7="main",M7="afterMain",E7="beforeWrite",C7="write",T7="afterWrite",R7=[_7,S7,A7,w7,b7,M7,E7,C7,T7];function Xl(t){return t?(t.nodeName||"").toLowerCase():null}function Oo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function sh(t){var e=Oo(t).Element;return t instanceof e||t instanceof Element}function ca(t){var e=Oo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function mR(t){if(typeof ShadowRoot>"u")return!1;var e=Oo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function P7(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ca(s)||!Xl(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function I7(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!ca(i)||!Xl(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const B7={name:"applyStyles",enabled:!0,phase:"write",fn:P7,effect:I7,requires:["computeStyles"]};function Nl(t){return t.split("-")[0]}var Kd=Math.max,d1=Math.min,gm=Math.round;function EC(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function RN(){return!/^((?!chrome|android).)*safari/i.test(EC())}function vm(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ca(t)&&(i=t.offsetWidth>0&&gm(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&gm(r.height)/t.offsetHeight||1);var o=sh(t)?Oo(t):window,a=o.visualViewport,l=!RN()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,f=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,p=r.height/s;return{width:d,height:p,top:f,right:u+d,bottom:f+p,left:u,x:u,y:f}}function gR(t){var e=vm(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function PN(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&mR(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Yu(t){return Oo(t).getComputedStyle(t)}function D7(t){return["table","td","th"].indexOf(Xl(t))>=0}function _f(t){return((sh(t)?t.ownerDocument:t.document)||window.document).documentElement}function kS(t){return Xl(t)==="html"?t:t.assignedSlot||t.parentNode||(mR(t)?t.host:null)||_f(t)}function xB(t){return!ca(t)||Yu(t).position==="fixed"?null:t.offsetParent}function L7(t){var e=/firefox/i.test(EC()),n=/Trident/i.test(EC());if(n&&ca(t)){var r=Yu(t);if(r.position==="fixed")return null}var i=kS(t);for(mR(i)&&(i=i.host);ca(i)&&["html","body"].indexOf(Xl(i))<0;){var s=Yu(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Qy(t){for(var e=Oo(t),n=xB(t);n&&D7(n)&&Yu(n).position==="static";)n=xB(n);return n&&(Xl(n)==="html"||Xl(n)==="body"&&Yu(n).position==="static")?e:n||L7(t)||e}function vR(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Bv(t,e,n){return Kd(t,d1(e,n))}function F7(t,e,n){var r=Bv(t,e,n);return r>n?n:r}function IN(){return{top:0,right:0,bottom:0,left:0}}function BN(t){return Object.assign({},IN(),t)}function DN(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var O7=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,BN(typeof e!="number"?e:DN(e,$y))};function k7(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Nl(n.placement),l=vR(a),u=[ho,da].indexOf(a)>=0,f=u?"height":"width";if(!(!s||!o)){var d=O7(i.padding,n),p=gR(s),g=l==="y"?fo:ho,y=l==="y"?fa:da,S=n.rects.reference[f]+n.rects.reference[l]-o[l]-n.rects.popper[f],_=o[l]-n.rects.reference[l],x=Qy(s),b=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=S/2-_/2,M=d[g],C=b-p[f]-d[y],I=b/2-p[f]/2+w,B=Bv(M,I,C),P=l;n.modifiersData[r]=(e={},e[P]=B,e.centerOffset=B-I,e)}}function U7(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||PN(e.elements.popper,i)&&(e.elements.arrow=i))}const N7={name:"arrow",enabled:!0,phase:"main",fn:k7,effect:U7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ym(t){return t.split("-")[1]}var z7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function G7(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:gm(n*i)/i||0,y:gm(r*i)/i||0}}function _B(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,f=t.roundOffsets,d=t.isFixed,p=o.x,g=p===void 0?0:p,y=o.y,S=y===void 0?0:y,_=typeof f=="function"?f({x:g,y:S}):{x:g,y:S};g=_.x,S=_.y;var x=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=ho,M=fo,C=window;if(u){var I=Qy(n),B="clientHeight",P="clientWidth";if(I===Oo(n)&&(I=_f(n),Yu(I).position!=="static"&&a==="absolute"&&(B="scrollHeight",P="scrollWidth")),I=I,i===fo||(i===ho||i===da)&&s===ly){M=fa;var L=d&&I===C&&C.visualViewport?C.visualViewport.height:I[B];S-=L-r.height,S*=l?1:-1}if(i===ho||(i===fo||i===fa)&&s===ly){w=da;var E=d&&I===C&&C.visualViewport?C.visualViewport.width:I[P];g-=E-r.width,g*=l?1:-1}}var O=Object.assign({position:a},u&&z7),U=f===!0?G7({x:g,y:S},Oo(n)):{x:g,y:S};if(g=U.x,S=U.y,l){var H;return Object.assign({},O,(H={},H[M]=b?"0":"",H[w]=x?"0":"",H.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+S+"px)":"translate3d("+g+"px, "+S+"px, 0)",H))}return Object.assign({},O,(e={},e[M]=b?S+"px":"",e[w]=x?g+"px":"",e.transform="",e))}function H7(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Nl(e.placement),variation:ym(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_B(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_B(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const V7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:H7,data:{}};var Cx={passive:!0};function j7(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Oo(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(f){f.addEventListener("scroll",n.update,Cx)}),a&&l.addEventListener("resize",n.update,Cx),function(){s&&u.forEach(function(f){f.removeEventListener("scroll",n.update,Cx)}),a&&l.removeEventListener("resize",n.update,Cx)}}const W7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:j7,data:{}};var X7={left:"right",right:"left",bottom:"top",top:"bottom"};function X_(t){return t.replace(/left|right|bottom|top/g,function(e){return X7[e]})}var q7={start:"end",end:"start"};function SB(t){return t.replace(/start|end/g,function(e){return q7[e]})}function yR(t){var e=Oo(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function xR(t){return vm(_f(t)).left+yR(t).scrollLeft}function K7(t,e){var n=Oo(t),r=_f(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=RN();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+xR(t),y:l}}function J7(t){var e,n=_f(t),r=yR(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Kd(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Kd(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+xR(t),l=-r.scrollTop;return Yu(i||n).direction==="rtl"&&(a+=Kd(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function _R(t){var e=Yu(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function LN(t){return["html","body","#document"].indexOf(Xl(t))>=0?t.ownerDocument.body:ca(t)&&_R(t)?t:LN(kS(t))}function Dv(t,e){var n;e===void 0&&(e=[]);var r=LN(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Oo(r),o=i?[s].concat(s.visualViewport||[],_R(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Dv(kS(o)))}function CC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Y7(t,e){var n=vm(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function AB(t,e,n){return e===CN?CC(K7(t,n)):sh(e)?Y7(e,n):CC(J7(_f(t)))}function $7(t){var e=Dv(kS(t)),n=["absolute","fixed"].indexOf(Yu(t).position)>=0,r=n&&ca(t)?Qy(t):t;return sh(r)?e.filter(function(i){return sh(i)&&PN(i,r)&&Xl(i)!=="body"}):[]}function Q7(t,e,n,r){var i=e==="clippingParents"?$7(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var f=AB(t,u,r);return l.top=Kd(f.top,l.top),l.right=d1(f.right,l.right),l.bottom=d1(f.bottom,l.bottom),l.left=Kd(f.left,l.left),l},AB(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function FN(t){var e=t.reference,n=t.element,r=t.placement,i=r?Nl(r):null,s=r?ym(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case fo:l={x:o,y:e.y-n.height};break;case fa:l={x:o,y:e.y+e.height};break;case da:l={x:e.x+e.width,y:a};break;case ho:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?vR(i):null;if(u!=null){var f=u==="y"?"height":"width";switch(s){case mm:l[u]=l[u]-(e[f]/2-n[f]/2);break;case ly:l[u]=l[u]+(e[f]/2-n[f]/2);break}}return l}function uy(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?y7:a,u=n.rootBoundary,f=u===void 0?CN:u,d=n.elementContext,p=d===void 0?Gg:d,g=n.altBoundary,y=g===void 0?!1:g,S=n.padding,_=S===void 0?0:S,x=BN(typeof _!="number"?_:DN(_,$y)),b=p===Gg?x7:Gg,w=t.rects.popper,M=t.elements[y?b:p],C=Q7(sh(M)?M:M.contextElement||_f(t.elements.popper),l,f,o),I=vm(t.elements.reference),B=FN({reference:I,element:w,placement:i}),P=CC(Object.assign({},w,B)),L=p===Gg?P:I,E={top:C.top-L.top+x.top,bottom:L.bottom-C.bottom+x.bottom,left:C.left-L.left+x.left,right:L.right-C.right+x.right},O=t.modifiersData.offset;if(p===Gg&&O){var U=O[i];Object.keys(E).forEach(function(H){var q=[da,fa].indexOf(H)>=0?1:-1,te=[fo,fa].indexOf(H)>=0?"y":"x";E[H]+=U[te]*q})}return E}function Z7(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?TN:l,f=ym(r),d=f?a?yB:yB.filter(function(y){return ym(y)===f}):$y,p=d.filter(function(y){return u.indexOf(y)>=0});p.length===0&&(p=d);var g=p.reduce(function(y,S){return y[S]=uy(t,{placement:S,boundary:i,rootBoundary:s,padding:o})[Nl(S)],y},{});return Object.keys(g).sort(function(y,S){return g[y]-g[S]})}function eX(t){if(Nl(t)===pR)return[];var e=X_(t);return[SB(t),e,SB(e)]}function tX(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,f=n.boundary,d=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,y=g===void 0?!0:g,S=n.allowedAutoPlacements,_=e.options.placement,x=Nl(_),b=x===_,w=l||(b||!y?[X_(_)]:eX(_)),M=[_].concat(w).reduce(function(Z,se){return Z.concat(Nl(se)===pR?Z7(e,{placement:se,boundary:f,rootBoundary:d,padding:u,flipVariations:y,allowedAutoPlacements:S}):se)},[]),C=e.rects.reference,I=e.rects.popper,B=new Map,P=!0,L=M[0],E=0;E<M.length;E++){var O=M[E],U=Nl(O),H=ym(O)===mm,q=[fo,fa].indexOf(U)>=0,te=q?"width":"height",$=uy(e,{placement:O,boundary:f,rootBoundary:d,altBoundary:p,padding:u}),ie=q?H?da:ho:H?fa:fo;C[te]>I[te]&&(ie=X_(ie));var W=X_(ie),Y=[];if(s&&Y.push($[U]<=0),a&&Y.push($[ie]<=0,$[W]<=0),Y.every(function(Z){return Z})){L=O,P=!1;break}B.set(O,Y)}if(P)for(var Q=y?3:1,z=function(se){var oe=M.find(function(ue){var ve=B.get(ue);if(ve)return ve.slice(0,se).every(function(Be){return Be})});if(oe)return L=oe,"break"},K=Q;K>0;K--){var ae=z(K);if(ae==="break")break}e.placement!==L&&(e.modifiersData[r]._skip=!0,e.placement=L,e.reset=!0)}}const nX={name:"flip",enabled:!0,phase:"main",fn:tX,requiresIfExists:["offset"],data:{_skip:!1}};function wB(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function bB(t){return[fo,da,fa,ho].some(function(e){return t[e]>=0})}function rX(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=uy(e,{elementContext:"reference"}),a=uy(e,{altBoundary:!0}),l=wB(o,r),u=wB(a,i,s),f=bB(l),d=bB(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const iX={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rX};function sX(t,e,n){var r=Nl(t),i=[ho,fo].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ho,da].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function oX(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=TN.reduce(function(f,d){return f[d]=sX(d,e.rects,s),f},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const aX={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:oX};function lX(t){var e=t.state,n=t.name;e.modifiersData[n]=FN({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const uX={name:"popperOffsets",enabled:!0,phase:"read",fn:lX,data:{}};function cX(t){return t==="x"?"y":"x"}function fX(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,f=n.altBoundary,d=n.padding,p=n.tether,g=p===void 0?!0:p,y=n.tetherOffset,S=y===void 0?0:y,_=uy(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:f}),x=Nl(e.placement),b=ym(e.placement),w=!b,M=vR(x),C=cX(M),I=e.modifiersData.popperOffsets,B=e.rects.reference,P=e.rects.popper,L=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,E=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(I){if(s){var H,q=M==="y"?fo:ho,te=M==="y"?fa:da,$=M==="y"?"height":"width",ie=I[M],W=ie+_[q],Y=ie-_[te],Q=g?-P[$]/2:0,z=b===mm?B[$]:P[$],K=b===mm?-P[$]:-B[$],ae=e.elements.arrow,Z=g&&ae?gR(ae):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:IN(),oe=se[q],ue=se[te],ve=Bv(0,B[$],Z[$]),Be=w?B[$]/2-Q-ve-oe-E.mainAxis:z-ve-oe-E.mainAxis,Le=w?-B[$]/2+Q+ve+ue+E.mainAxis:K+ve+ue+E.mainAxis,Ve=e.elements.arrow&&Qy(e.elements.arrow),xe=Ve?M==="y"?Ve.clientTop||0:Ve.clientLeft||0:0,Te=(H=O==null?void 0:O[M])!=null?H:0,re=ie+Be-Te-xe,nt=ie+Le-Te,ke=Bv(g?d1(W,re):W,ie,g?Kd(Y,nt):Y);I[M]=ke,U[M]=ke-ie}if(a){var Ze,Ae=M==="x"?fo:ho,tt=M==="x"?fa:da,Fe=I[C],J=C==="y"?"height":"width",X=Fe+_[Ae],he=Fe-_[tt],Se=[fo,ho].indexOf(x)!==-1,Me=(Ze=O==null?void 0:O[C])!=null?Ze:0,De=Se?X:Fe-B[J]-P[J]-Me+E.altAxis,qe=Se?Fe+B[J]+P[J]-Me-E.altAxis:he,Ne=g&&Se?F7(De,Fe,qe):Bv(g?De:X,Fe,g?qe:he);I[C]=Ne,U[C]=Ne-Fe}e.modifiersData[r]=U}}const dX={name:"preventOverflow",enabled:!0,phase:"main",fn:fX,requiresIfExists:["offset"]};function hX(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function pX(t){return t===Oo(t)||!ca(t)?yR(t):hX(t)}function mX(t){var e=t.getBoundingClientRect(),n=gm(e.width)/t.offsetWidth||1,r=gm(e.height)/t.offsetHeight||1;return n!==1||r!==1}function gX(t,e,n){n===void 0&&(n=!1);var r=ca(e),i=ca(e)&&mX(e),s=_f(e),o=vm(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Xl(e)!=="body"||_R(s))&&(a=pX(e)),ca(e)?(l=vm(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=xR(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function vX(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function yX(t){var e=vX(t);return R7.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function xX(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function _X(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var MB={placement:"bottom",modifiers:[],strategy:"absolute"};function EB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function SX(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?MB:i;return function(a,l,u){u===void 0&&(u=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},MB,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,g={state:f,setOptions:function(x){var b=typeof x=="function"?x(f.options):x;S(),f.options=Object.assign({},s,f.options,b),f.scrollParents={reference:sh(a)?Dv(a):a.contextElement?Dv(a.contextElement):[],popper:Dv(l)};var w=yX(_X([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(M){return M.enabled}),y(),g.update()},forceUpdate:function(){if(!p){var x=f.elements,b=x.reference,w=x.popper;if(EB(b,w)){f.rects={reference:gX(b,Qy(w),f.options.strategy==="fixed"),popper:gR(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(E){return f.modifiersData[E.name]=Object.assign({},E.data)});for(var M=0;M<f.orderedModifiers.length;M++){if(f.reset===!0){f.reset=!1,M=-1;continue}var C=f.orderedModifiers[M],I=C.fn,B=C.options,P=B===void 0?{}:B,L=C.name;typeof I=="function"&&(f=I({state:f,options:P,name:L,instance:g})||f)}}}},update:xX(function(){return new Promise(function(_){g.forceUpdate(),_(f)})}),destroy:function(){S(),p=!0}};if(!EB(a,l))return g;g.setOptions(u).then(function(_){!p&&u.onFirstUpdate&&u.onFirstUpdate(_)});function y(){f.orderedModifiers.forEach(function(_){var x=_.name,b=_.options,w=b===void 0?{}:b,M=_.effect;if(typeof M=="function"){var C=M({state:f,name:x,instance:g,options:w}),I=function(){};d.push(C||I)}})}function S(){d.forEach(function(_){return _()}),d=[]}return g}}var AX=[W7,uX,V7,B7,aX,nX,dX,N7,iX],wX=SX({defaultModifiers:AX});function bX(t){return typeof t=="function"?t():t}const MX=G.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=G.useState(null),l=nl(G.isValidElement(r)?ej(r):null,n);if(ih(()=>{s||a(bX(i)||document.body)},[i,s]),ih(()=>{if(o&&!s)return gC(n,o),()=>{gC(n,null)}},[n,o,s]),s){if(G.isValidElement(r)){const u={ref:l};return G.cloneElement(r,u)}return r}return o&&cR.createPortal(r,o)});function EX(t){return Si("MuiPopper",t)}Ai("MuiPopper",["root"]);function CX(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function TC(t){return typeof t=="function"?t():t}function TX(t){return t.nodeType!==void 0}const RX=t=>{const{classes:e}=t;return Fi({root:["root"]},EX,e)},PX={},IX=G.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:s,disablePortal:o,modifiers:a,open:l,placement:u,popperOptions:f,popperRef:d,slotProps:p={},slots:g={},TransitionProps:y,ownerState:S,..._}=e,x=G.useRef(null),b=nl(x,n),w=G.useRef(null),M=nl(w,d),C=G.useRef(M);ih(()=>{C.current=M},[M]),G.useImperativeHandle(d,()=>w.current,[]);const I=CX(u,s),[B,P]=G.useState(I),[L,E]=G.useState(TC(r));G.useEffect(()=>{w.current&&w.current.forceUpdate()}),G.useEffect(()=>{r&&E(TC(r))},[r]),ih(()=>{if(!L||!l)return;const te=W=>{P(W.placement)};let $=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{te(W)}}];a!=null&&($=$.concat(a)),f&&f.modifiers!=null&&($=$.concat(f.modifiers));const ie=wX(L,x.current,{placement:I,...f,modifiers:$});return C.current(ie),()=>{ie.destroy(),C.current(null)}},[L,o,a,l,f,I]);const O={placement:B};y!==null&&(O.TransitionProps=y);const U=RX(e),H=g.root??"div",q=Z8({elementType:H,externalSlotProps:p.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:U.root});return V.jsx(H,{...q,children:typeof i=="function"?i(O):i})}),BX=G.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:f,placement:d="bottom",popperOptions:p=PX,popperRef:g,style:y,transition:S=!1,slotProps:_={},slots:x={},...b}=e,[w,M]=G.useState(!0),C=()=>{M(!1)},I=()=>{M(!0)};if(!l&&!f&&(!S||w))return null;let B;if(s)B=s;else if(r){const E=TC(r);B=E&&TX(E)?KI(E).body:KI(null).body}const P=!f&&l&&(!S||w)?"none":void 0,L=S?{in:f,onEnter:C,onExited:I}:void 0;return V.jsx(MX,{disablePortal:a,container:B,children:V.jsx(IX,{anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:S?!w:f,placement:d,popperOptions:p,popperRef:g,slotProps:_,slots:x,...b,style:{position:"fixed",top:0,left:0,display:P,...y},TransitionProps:L,children:i})})}),DX=Fn(BX,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),LX=G.forwardRef(function(e,n){const r=oj(),i=ai({props:e,name:"MuiPopper"}),{anchorEl:s,component:o,components:a,componentsProps:l,container:u,disablePortal:f,keepMounted:d,modifiers:p,open:g,placement:y,popperOptions:S,popperRef:_,transition:x,slots:b,slotProps:w,...M}=i,C=(b==null?void 0:b.root)??(a==null?void 0:a.Root),I={anchorEl:s,container:u,disablePortal:f,keepMounted:d,modifiers:p,open:g,placement:y,popperOptions:S,popperRef:_,transition:x,...M};return V.jsx(DX,{as:o,direction:r?"rtl":"ltr",slots:{root:C},slotProps:w??l,...I,ref:n})}),FX=zo(V.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function OX(t){return Si("MuiChip",t)}const In=Ai("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),kX=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:s,onDelete:o,clickable:a,variant:l}=t,u={root:["root",l,n&&"disabled",`size${qt(r)}`,`color${qt(i)}`,a&&"clickable",a&&`clickableColor${qt(i)}`,o&&"deletable",o&&`deletableColor${qt(i)}`,`${l}${qt(i)}`],label:["label",`label${qt(r)}`],avatar:["avatar",`avatar${qt(r)}`,`avatarColor${qt(i)}`],icon:["icon",`icon${qt(r)}`,`iconColor${qt(s)}`],deleteIcon:["deleteIcon",`deleteIcon${qt(r)}`,`deleteIconColor${qt(i)}`,`deleteIcon${qt(l)}Color${qt(i)}`]};return Fi(u,OX,e)},UX=Fn("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:s,onDelete:o,size:a,variant:l}=n;return[{[`& .${In.avatar}`]:e.avatar},{[`& .${In.avatar}`]:e[`avatar${qt(a)}`]},{[`& .${In.avatar}`]:e[`avatarColor${qt(r)}`]},{[`& .${In.icon}`]:e.icon},{[`& .${In.icon}`]:e[`icon${qt(a)}`]},{[`& .${In.icon}`]:e[`iconColor${qt(i)}`]},{[`& .${In.deleteIcon}`]:e.deleteIcon},{[`& .${In.deleteIcon}`]:e[`deleteIcon${qt(a)}`]},{[`& .${In.deleteIcon}`]:e[`deleteIconColor${qt(r)}`]},{[`& .${In.deleteIcon}`]:e[`deleteIcon${qt(l)}Color${qt(r)}`]},e.root,e[`size${qt(a)}`],e[`color${qt(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${qt(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${qt(r)}`],e[l],e[`${l}${qt(r)}`]]}})(bs(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${In.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${In.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${In.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${In.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${In.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${In.icon}`]:{marginLeft:5,marginRight:-6},[`& .${In.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:ar(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:ar(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${In.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${In.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Io(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${In.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:ar(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${In.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${In.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${In.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ar(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Io(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${In.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ar(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${In.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ar(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Io(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${In.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${In.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${In.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${In.avatar}`]:{marginLeft:4},[`& .${In.avatarSmall}`]:{marginLeft:2},[`& .${In.icon}`]:{marginLeft:4},[`& .${In.iconSmall}`]:{marginLeft:2},[`& .${In.deleteIcon}`]:{marginRight:5},[`& .${In.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Io()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:ar(t.palette[n].main,.7)}`,[`&.${In.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ar(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${In.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:ar(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${In.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:ar(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),NX=Fn("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${qt(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function CB(t){return t.key==="Backspace"||t.key==="Delete"}const zX=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:o,color:a="default",component:l,deleteIcon:u,disabled:f=!1,icon:d,label:p,onClick:g,onDelete:y,onKeyDown:S,onKeyUp:_,size:x="medium",variant:b="filled",tabIndex:w,skipFocusWhenDisabled:M=!1,...C}=r,I=G.useRef(null),B=nl(I,n),P=Y=>{Y.stopPropagation(),y&&y(Y)},L=Y=>{Y.currentTarget===Y.target&&CB(Y)&&Y.preventDefault(),S&&S(Y)},E=Y=>{Y.currentTarget===Y.target&&y&&CB(Y)&&y(Y),_&&_(Y)},O=o!==!1&&g?!0:o,U=O||y?ay:l||"div",H={...r,component:U,disabled:f,size:x,color:a,iconColor:G.isValidElement(d)&&d.props.color||a,onDelete:!!y,clickable:O,variant:b},q=kX(H),te=U===ay?{component:l||"div",focusVisibleClassName:q.focusVisible,...y&&{disableRipple:!0}}:{};let $=null;y&&($=u&&G.isValidElement(u)?G.cloneElement(u,{className:Pn(u.props.className,q.deleteIcon),onClick:P}):V.jsx(FX,{className:Pn(q.deleteIcon),onClick:P}));let ie=null;i&&G.isValidElement(i)&&(ie=G.cloneElement(i,{className:Pn(q.avatar,i.props.className)}));let W=null;return d&&G.isValidElement(d)&&(W=G.cloneElement(d,{className:Pn(q.icon,d.props.className)})),V.jsxs(UX,{as:U,className:Pn(q.root,s),disabled:O&&f?!0:void 0,onClick:g,onKeyDown:L,onKeyUp:E,ref:B,tabIndex:M&&f?-1:w,ownerState:H,...te,...C,children:[ie||W,V.jsx(NX,{className:Pn(q.label),ownerState:H,children:p}),$]})});function TB(t){return typeof t=="string"}const GX=Ai("MuiBox",["root"]),HX=FS(),os=R8({themeId:kl,defaultTheme:HX,defaultClassName:GX.root,generateClassName:ZU.generate});function VX(t){return Si("MuiButton",t)}const od=Ai("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),jX=G.createContext({}),WX=G.createContext(void 0),XX=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:o,loadingPosition:a,classes:l}=t,u={root:["root",o&&"loading",s,`${s}${qt(e)}`,`size${qt(i)}`,`${s}Size${qt(i)}`,`color${qt(e)}`,n&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${qt(a)}`],startIcon:["icon","startIcon",`iconSize${qt(i)}`],endIcon:["icon","endIcon",`iconSize${qt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},f=Fi(u,VX,l);return{...l,...f}},ON=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],qX=Fn(ay,{shouldForwardProp:t=>uR(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${qt(n.color)}`],e[`size${qt(n.size)}`],e[`${n.variant}Size${qt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(bs(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${od.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${od.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${od.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${od.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Io()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:ar(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ar(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ar(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ar(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ar(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${od.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${od.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${od.loading}`]:{color:"transparent"}}}]}})),KX=Fn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...ON]})),JX=Fn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...ON]})),YX=Fn("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),RB=Fn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),cy=G.forwardRef(function(e,n){const r=G.useContext(jX),i=G.useContext(WX),s=sy(r,e),o=ai({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:f,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:g=!1,endIcon:y,focusVisibleClassName:S,fullWidth:_=!1,id:x,loading:b=null,loadingIndicator:w,loadingPosition:M="center",size:C="medium",startIcon:I,type:B,variant:P="text",...L}=o,E=sN(x),O=w??V.jsx(EN,{"aria-labelledby":E,color:"inherit",size:16}),U={...o,color:l,component:u,disabled:d,disableElevation:p,disableFocusRipple:g,fullWidth:_,loading:b,loadingIndicator:O,loadingPosition:M,size:C,type:B,variant:P},H=XX(U),q=(I||b&&M==="start")&&V.jsx(KX,{className:H.startIcon,ownerState:U,children:I||V.jsx(RB,{className:H.loadingIconPlaceholder,ownerState:U})}),te=(y||b&&M==="end")&&V.jsx(JX,{className:H.endIcon,ownerState:U,children:y||V.jsx(RB,{className:H.loadingIconPlaceholder,ownerState:U})}),$=i||"",ie=typeof b=="boolean"?V.jsx("span",{className:H.loadingWrapper,style:{display:"contents"},children:b&&V.jsx(YX,{className:H.loadingIndicator,ownerState:U,children:O})}):null;return V.jsxs(qX,{ownerState:U,className:Pn(r.className,H.root,f,$),component:u,disabled:d||b,focusRipple:!g,focusVisibleClassName:Pn(H.focusVisible,S),ref:n,type:B,id:b?E:x,...L,classes:H,children:[q,M!=="end"&&ie,a,M==="end"&&ie,te]})}),RC=typeof wN({})=="function",$X=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),QX=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),kN=(t,e=!1)=>{var s,o;const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([a,l])=>{var f,d;const u=t.getColorSchemeSelector(a);u.startsWith("@")?n[u]={":root":{colorScheme:(f=l.palette)==null?void 0:f.mode}}:n[u.replace(/\s*&/,"")]={colorScheme:(d=l.palette)==null?void 0:d.mode}});let r={html:$X(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...QX(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const i=(o=(s=t.components)==null?void 0:s.MuiCssBaseline)==null?void 0:o.styleOverrides;return i&&(r=[r,i]),r},q_="mui-ecs",ZX=t=>{const e=kN(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${q_})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,i])=>{var o,a;const s=t.getColorSchemeSelector(r);s.startsWith("@")?n[s]={[`:root:not(:has(.${q_}))`]:{colorScheme:(o=i.palette)==null?void 0:o.mode}}:n[s.replace(/\s*&/,"")]={[`&:not(:has(.${q_}))`]:{colorScheme:(a=i.palette)==null?void 0:a.mode}}}),e},eq=wN(RC?({theme:t,enableColorScheme:e})=>kN(t,e):({theme:t})=>ZX(t));function tq(t){const e=ai({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return V.jsxs(G.Fragment,{children:[RC&&V.jsx(eq,{enableColorScheme:r}),!RC&&!r&&V.jsx("span",{className:q_,style:{display:"none"}}),n]})}function nq(t){return Si("MuiDivider",t)}Ai("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const rq=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return Fi({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},nq,r)},iq=Fn("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(bs(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:ar(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),sq=Fn("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(bs(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),xm=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,orientation:a="horizontal",component:l=s||a==="vertical"?"div":"hr",flexItem:u=!1,light:f=!1,role:d=l!=="hr"?"separator":void 0,textAlign:p="center",variant:g="fullWidth",...y}=r,S={...r,absolute:i,component:l,flexItem:u,light:f,orientation:a,role:d,textAlign:p,variant:g},_=rq(S);return V.jsx(iq,{as:l,className:Pn(_.root,o),role:d,ref:n,ownerState:S,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...y,children:s?V.jsx(sq,{className:_.wrapper,ownerState:S,children:s}):null})});xm&&(xm.muiSkipListHighlight=!0);function oq(t){return Si("MuiLink",t)}const aq=Ai("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),lq=({theme:t,ownerState:e})=>{const n=e.color,r=ef(t,`palette.${n}.main`,!1)||ef(t,`palette.${n}`,!1)||e.color,i=ef(t,`palette.${n}.mainChannel`)||ef(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:ar(r,.4)},PB={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},uq=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${qt(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Fi(s,oq,e)},cq=Fn(an,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${qt(n.underline)}`],n.component==="button"&&e.button]}})(bs(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(Io()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.4)`:ar(t.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:ar(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:ar(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${aq.focusVisible}`]:{outline:"auto"}}}]}))),Fw=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiLink"}),i=OS(),{className:s,color:o="primary",component:a="a",onBlur:l,onFocus:u,TypographyClasses:f,underline:d="always",variant:p="inherit",sx:g,...y}=r,[S,_]=G.useState(!1),x=C=>{u1(C.target)||_(!1),l&&l(C)},b=C=>{u1(C.target)&&_(!0),u&&u(C)},w={...r,color:o,component:a,focusVisible:S,underline:d,variant:p},M=uq(w);return V.jsx(cq,{color:o,className:Pn(M.root,s),classes:f,component:a,onBlur:x,onFocus:b,ref:n,ownerState:w,variant:p,...y,sx:[...PB[o]===void 0?[{color:o}]:[],...Array.isArray(g)?g:[g]],style:{...y.style,...d==="always"&&o!=="inherit"&&!PB[o]&&{"--Link-underlineColor":lq({theme:i,ownerState:w})}}})}),sf=G.createContext({});function fq(t){return Si("MuiList",t)}Ai("MuiList",["root","padding","dense","subheader"]);const dq=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Fi({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},fq,e)},hq=Fn("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),pq=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...f}=r,d=G.useMemo(()=>({dense:a}),[a]),p={...r,component:o,dense:a,disablePadding:l},g=dq(p);return V.jsx(sf.Provider,{value:d,children:V.jsxs(hq,{as:o,className:Pn(g.root,s),ref:n,ownerState:p,...f,children:[u,i]})})});function mq(t){return Si("MuiListItem",t)}Ai("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function gq(t){return Si("MuiListItemButton",t)}const Wp=Ai("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),vq=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},yq=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:s,divider:o,selected:a}=t,u=Fi({root:["root",r&&"dense",!s&&"gutters",o&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},gq,n);return{...n,...u}},xq=Fn(ay,{shouldForwardProp:t=>uR(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:vq})(bs(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Wp.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ar(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Wp.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ar(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Wp.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ar(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ar(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Wp.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Wp.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),UN=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:u=!1,divider:f=!1,focusVisibleClassName:d,selected:p=!1,className:g,...y}=r,S=G.useContext(sf),_=G.useMemo(()=>({dense:l||S.dense||!1,alignItems:i,disableGutters:u}),[i,S.dense,l,u]),x=G.useRef(null);ih(()=>{s&&x.current&&x.current.focus()},[s]);const b={...r,alignItems:i,dense:_.dense,disableGutters:u,divider:f,selected:p},w=yq(b),M=nl(x,n);return V.jsx(sf.Provider,{value:_,children:V.jsx(xq,{ref:M,href:y.href||y.to,component:(y.href||y.to)&&o==="div"?"button":o,focusVisibleClassName:Pn(w.focusVisible,d),ownerState:b,className:Pn(w.root,g),...y,classes:w,children:a})})});function _q(t){return Si("MuiListItemSecondaryAction",t)}Ai("MuiListItemSecondaryAction",["root","disableGutters"]);const Sq=t=>{const{disableGutters:e,classes:n}=t;return Fi({root:["root",e&&"disableGutters"]},_q,n)},Aq=Fn("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),NN=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...s}=r,o=G.useContext(sf),a={...r,disableGutters:o.disableGutters},l=Sq(a);return V.jsx(Aq,{className:Pn(l.root,i),ownerState:a,ref:n,...s})});NN.muiName="ListItemSecondaryAction";const wq=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},bq=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:i,disablePadding:s,divider:o,hasSecondaryAction:a}=t;return Fi({root:["root",r&&"dense",!i&&"gutters",!s&&"padding",o&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},mq,n)},Mq=Fn("div",{name:"MuiListItem",slot:"Root",overridesResolver:wq})(bs(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Wp.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Eq=Fn("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),zN=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiListItem"}),{alignItems:i="center",children:s,className:o,component:a,components:l={},componentsProps:u={},ContainerComponent:f="li",ContainerProps:{className:d,...p}={},dense:g=!1,disableGutters:y=!1,disablePadding:S=!1,divider:_=!1,secondaryAction:x,slotProps:b={},slots:w={},...M}=r,C=G.useContext(sf),I=G.useMemo(()=>({dense:g||C.dense||!1,alignItems:i,disableGutters:y}),[i,C.dense,g,y]),B=G.useRef(null),P=G.Children.toArray(s),L=P.length&&X8(P[P.length-1],["ListItemSecondaryAction"]),E={...r,alignItems:i,dense:I.dense,disableGutters:y,disablePadding:S,divider:_,hasSecondaryAction:L},O=bq(E),U=nl(B,n),H=w.root||l.Root||Mq,q=b.root||u.root||{},te={className:Pn(O.root,q.className,o),...M};let $=a||"li";return L?($=!te.component&&!a?"div":$,f==="li"&&($==="li"?$="div":te.component==="li"&&(te.component="div")),V.jsx(sf.Provider,{value:I,children:V.jsxs(Eq,{as:f,className:Pn(O.container,d),ref:U,ownerState:E,...p,children:[V.jsx(H,{...q,...!TB(H)&&{as:$,ownerState:{...E,...q.ownerState}},...te,children:P}),P.pop()]})})):V.jsx(sf.Provider,{value:I,children:V.jsxs(H,{...q,as:$,ref:U,...!TB(H)&&{ownerState:{...E,...q.ownerState}},...te,children:[P,x&&V.jsx(NN,{children:x})]})})});function Cq(t){return Si("MuiListItemText",t)}const Tx=Ai("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Tq=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return Fi({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Cq,e)},Rq=Fn("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Tx.primary}`]:e.primary},{[`& .${Tx.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${gB.root}:where(& .${Tx.primary})`]:{display:"block"},[`.${gB.root}:where(& .${Tx.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),GN=G.forwardRef(function(e,n){const r=ai({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:f,secondaryTypographyProps:d,slots:p={},slotProps:g={},...y}=r,{dense:S}=G.useContext(sf);let _=l??i,x=f;const b={...r,disableTypography:o,inset:a,primary:!!_,secondary:!!x,dense:S},w=Tq(b),M={slots:p,slotProps:{primary:u,secondary:d,...g}},[C,I]=$c("primary",{className:w.primary,elementType:an,externalForwardedProps:M,ownerState:b}),[B,P]=$c("secondary",{className:w.secondary,elementType:an,externalForwardedProps:M,ownerState:b});return _!=null&&_.type!==an&&!o&&(_=V.jsx(C,{variant:S?"body2":"body1",component:I!=null&&I.variant?void 0:"span",...I,children:_})),x!=null&&x.type!==an&&!o&&(x=V.jsx(B,{variant:"body2",color:"textSecondary",...P,children:x})),V.jsxs(Rq,{className:Pn(w.root,s),ownerState:b,ref:n,...y,children:[_,x]})}),Un=Pj({createStyledComponent:Fn("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>ai({props:t,name:"MuiStack"})});var Ow,IB;function Pq(){if(IB)return Ow;IB=1;function t(){this.__data__=[],this.size=0}return Ow=t,Ow}var kw,BB;function US(){if(BB)return kw;BB=1;function t(e,n){return e===n||e!==e&&n!==n}return kw=t,kw}var Uw,DB;function NS(){if(DB)return Uw;DB=1;var t=US();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Uw=e,Uw}var Nw,LB;function Iq(){if(LB)return Nw;LB=1;var t=NS(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Nw=r,Nw}var zw,FB;function Bq(){if(FB)return zw;FB=1;var t=NS();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return zw=e,zw}var Gw,OB;function Dq(){if(OB)return Gw;OB=1;var t=NS();function e(n){return t(this.__data__,n)>-1}return Gw=e,Gw}var Hw,kB;function Lq(){if(kB)return Hw;kB=1;var t=NS();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Hw=e,Hw}var Vw,UB;function zS(){if(UB)return Vw;UB=1;var t=Pq(),e=Iq(),n=Bq(),r=Dq(),i=Lq();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Vw=s,Vw}var jw,NB;function Fq(){if(NB)return jw;NB=1;var t=zS();function e(){this.__data__=new t,this.size=0}return jw=e,jw}var Ww,zB;function Oq(){if(zB)return Ww;zB=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Ww=t,Ww}var Xw,GB;function kq(){if(GB)return Xw;GB=1;function t(e){return this.__data__.get(e)}return Xw=t,Xw}var qw,HB;function Uq(){if(HB)return qw;HB=1;function t(e){return this.__data__.has(e)}return qw=t,qw}var Kw,VB;function HN(){if(VB)return Kw;VB=1;var t=typeof _x=="object"&&_x&&_x.Object===Object&&_x;return Kw=t,Kw}var Jw,jB;function Om(){if(jB)return Jw;jB=1;var t=HN(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Jw=n,Jw}var Yw,WB;function VN(){if(WB)return Yw;WB=1;var t=Om(),e=t.Symbol;return Yw=e,Yw}var $w,XB;function Nq(){if(XB)return $w;XB=1;var t=VN(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var f=r.call(o);return u&&(a?o[i]=l:delete o[i]),f}return $w=s,$w}var Qw,qB;function zq(){if(qB)return Qw;qB=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Qw=n,Qw}var Zw,KB;function GS(){if(KB)return Zw;KB=1;var t=VN(),e=Nq(),n=zq(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return Zw=o,Zw}var eb,JB;function yh(){if(JB)return eb;JB=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return eb=t,eb}var tb,YB;function SR(){if(YB)return tb;YB=1;var t=GS(),e=yh(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return tb=o,tb}var nb,$B;function Gq(){if($B)return nb;$B=1;var t=Om(),e=t["__core-js_shared__"];return nb=e,nb}var rb,QB;function Hq(){if(QB)return rb;QB=1;var t=Gq(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return rb=n,rb}var ib,ZB;function Vq(){if(ZB)return ib;ZB=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return ib=n,ib}var sb,eD;function jq(){if(eD)return sb;eD=1;var t=SR(),e=Hq(),n=yh(),r=Vq(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!n(p)||e(p))return!1;var g=t(p)?f:s;return g.test(r(p))}return sb=d,sb}var ob,tD;function Wq(){if(tD)return ob;tD=1;function t(e,n){return e==null?void 0:e[n]}return ob=t,ob}var ab,nD;function AR(){if(nD)return ab;nD=1;var t=jq(),e=Wq();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return ab=n,ab}var lb,rD;function jN(){if(rD)return lb;rD=1;var t=AR(),e=Om(),n=t(e,"Map");return lb=n,lb}var ub,iD;function HS(){if(iD)return ub;iD=1;var t=AR(),e=t(Object,"create");return ub=e,ub}var cb,sD;function Xq(){if(sD)return cb;sD=1;var t=HS();function e(){this.__data__=t?t(null):{},this.size=0}return cb=e,cb}var fb,oD;function qq(){if(oD)return fb;oD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return fb=t,fb}var db,aD;function Kq(){if(aD)return db;aD=1;var t=HS(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return db=i,db}var hb,lD;function Jq(){if(lD)return hb;lD=1;var t=HS(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return hb=r,hb}var pb,uD;function Yq(){if(uD)return pb;uD=1;var t=HS(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return pb=n,pb}var mb,cD;function $q(){if(cD)return mb;cD=1;var t=Xq(),e=qq(),n=Kq(),r=Jq(),i=Yq();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,mb=s,mb}var gb,fD;function Qq(){if(fD)return gb;fD=1;var t=$q(),e=zS(),n=jN();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return gb=r,gb}var vb,dD;function Zq(){if(dD)return vb;dD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return vb=t,vb}var yb,hD;function VS(){if(hD)return yb;hD=1;var t=Zq();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return yb=e,yb}var xb,pD;function eK(){if(pD)return xb;pD=1;var t=VS();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return xb=e,xb}var _b,mD;function tK(){if(mD)return _b;mD=1;var t=VS();function e(n){return t(this,n).get(n)}return _b=e,_b}var Sb,gD;function nK(){if(gD)return Sb;gD=1;var t=VS();function e(n){return t(this,n).has(n)}return Sb=e,Sb}var Ab,vD;function rK(){if(vD)return Ab;vD=1;var t=VS();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Ab=e,Ab}var wb,yD;function iK(){if(yD)return wb;yD=1;var t=Qq(),e=eK(),n=tK(),r=nK(),i=rK();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,wb=s,wb}var bb,xD;function sK(){if(xD)return bb;xD=1;var t=zS(),e=jN(),n=iK(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return bb=i,bb}var Mb,_D;function oK(){if(_D)return Mb;_D=1;var t=zS(),e=Fq(),n=Oq(),r=kq(),i=Uq(),s=sK();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,Mb=o,Mb}var Eb,SD;function WN(){if(SD)return Eb;SD=1;var t=AR(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Eb=e,Eb}var Cb,AD;function wR(){if(AD)return Cb;AD=1;var t=WN();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Cb=e,Cb}var Tb,wD;function XN(){if(wD)return Tb;wD=1;var t=wR(),e=US();function n(r,i,s){(s!==void 0&&!e(r[i],s)||s===void 0&&!(i in r))&&t(r,i,s)}return Tb=n,Tb}var Rb,bD;function aK(){if(bD)return Rb;bD=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[e?l:++s];if(r(o[u],u,o)===!1)break}return n}}return Rb=t,Rb}var Pb,MD;function lK(){if(MD)return Pb;MD=1;var t=aK(),e=t();return Pb=e,Pb}var xv={exports:{}};xv.exports;var ED;function uK(){return ED||(ED=1,function(t,e){var n=Om(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,f){if(f)return u.slice();var d=u.length,p=a?a(d):new u.constructor(d);return u.copy(p),p}t.exports=l}(xv,xv.exports)),xv.exports}var Ib,CD;function cK(){if(CD)return Ib;CD=1;var t=Om(),e=t.Uint8Array;return Ib=e,Ib}var Bb,TD;function fK(){if(TD)return Bb;TD=1;var t=cK();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return Bb=e,Bb}var Db,RD;function dK(){if(RD)return Db;RD=1;var t=fK();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Db=e,Db}var Lb,PD;function hK(){if(PD)return Lb;PD=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return Lb=t,Lb}var Fb,ID;function pK(){if(ID)return Fb;ID=1;var t=yh(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return Fb=n,Fb}var Ob,BD;function mK(){if(BD)return Ob;BD=1;function t(e,n){return function(r){return e(n(r))}}return Ob=t,Ob}var kb,DD;function qN(){if(DD)return kb;DD=1;var t=mK(),e=t(Object.getPrototypeOf,Object);return kb=e,kb}var Ub,LD;function KN(){if(LD)return Ub;LD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Ub=e,Ub}var Nb,FD;function gK(){if(FD)return Nb;FD=1;var t=pK(),e=qN(),n=KN();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return Nb=r,Nb}var zb,OD;function Zy(){if(OD)return zb;OD=1;function t(e){return e!=null&&typeof e=="object"}return zb=t,zb}var Gb,kD;function vK(){if(kD)return Gb;kD=1;var t=GS(),e=Zy(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Gb=r,Gb}var Hb,UD;function JN(){if(UD)return Hb;UD=1;var t=vK(),e=Zy(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Hb=s,Hb}var Vb,ND;function YN(){if(ND)return Vb;ND=1;var t=Array.isArray;return Vb=t,Vb}var jb,zD;function $N(){if(zD)return jb;zD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return jb=e,jb}var Wb,GD;function bR(){if(GD)return Wb;GD=1;var t=SR(),e=$N();function n(r){return r!=null&&e(r.length)&&!t(r)}return Wb=n,Wb}var Xb,HD;function yK(){if(HD)return Xb;HD=1;var t=bR(),e=Zy();function n(r){return e(r)&&t(r)}return Xb=n,Xb}var _v={exports:{}},qb,VD;function xK(){if(VD)return qb;VD=1;function t(){return!1}return qb=t,qb}_v.exports;var jD;function QN(){return jD||(jD=1,function(t,e){var n=Om(),r=xK(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u}(_v,_v.exports)),_v.exports}var Kb,WD;function _K(){if(WD)return Kb;WD=1;var t=GS(),e=qN(),n=Zy(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(f){if(!n(f)||t(f)!=r)return!1;var d=e(f);if(d===null)return!0;var p=a.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return Kb=u,Kb}var Jb,XD;function SK(){if(XD)return Jb;XD=1;var t=GS(),e=$N(),n=Zy(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",d="[object Object]",p="[object RegExp]",g="[object Set]",y="[object String]",S="[object WeakMap]",_="[object ArrayBuffer]",x="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",M="[object Int8Array]",C="[object Int16Array]",I="[object Int32Array]",B="[object Uint8Array]",P="[object Uint8ClampedArray]",L="[object Uint16Array]",E="[object Uint32Array]",O={};O[b]=O[w]=O[M]=O[C]=O[I]=O[B]=O[P]=O[L]=O[E]=!0,O[r]=O[i]=O[_]=O[s]=O[x]=O[o]=O[a]=O[l]=O[u]=O[f]=O[d]=O[p]=O[g]=O[y]=O[S]=!1;function U(H){return n(H)&&e(H.length)&&!!O[t(H)]}return Jb=U,Jb}var Yb,qD;function AK(){if(qD)return Yb;qD=1;function t(e){return function(n){return e(n)}}return Yb=t,Yb}var Sv={exports:{}};Sv.exports;var KD;function wK(){return KD||(KD=1,function(t,e){var n=HN(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(Sv,Sv.exports)),Sv.exports}var $b,JD;function ZN(){if(JD)return $b;JD=1;var t=SK(),e=AK(),n=wK(),r=n&&n.isTypedArray,i=r?e(r):t;return $b=i,$b}var Qb,YD;function e4(){if(YD)return Qb;YD=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return Qb=t,Qb}var Zb,$D;function bK(){if($D)return Zb;$D=1;var t=wR(),e=US(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&e(l,a))||a===void 0&&!(o in s))&&t(s,o,a)}return Zb=i,Zb}var eM,QD;function MK(){if(QD)return eM;QD=1;var t=bK(),e=wR();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var f=i[l],d=o?o(s[f],r[f],f,s,r):void 0;d===void 0&&(d=r[f]),a?e(s,f,d):t(s,f,d)}return s}return eM=n,eM}var tM,ZD;function EK(){if(ZD)return tM;ZD=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return tM=t,tM}var nM,eL;function t4(){if(eL)return nM;eL=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return nM=n,nM}var rM,tL;function CK(){if(tL)return rM;tL=1;var t=EK(),e=JN(),n=YN(),r=QN(),i=t4(),s=ZN(),o=Object.prototype,a=o.hasOwnProperty;function l(u,f){var d=n(u),p=!d&&e(u),g=!d&&!p&&r(u),y=!d&&!p&&!g&&s(u),S=d||p||g||y,_=S?t(u.length,String):[],x=_.length;for(var b in u)(f||a.call(u,b))&&!(S&&(b=="length"||g&&(b=="offset"||b=="parent")||y&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,x)))&&_.push(b);return _}return rM=l,rM}var iM,nL;function TK(){if(nL)return iM;nL=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return iM=t,iM}var sM,rL;function RK(){if(rL)return sM;rL=1;var t=yh(),e=KN(),n=TK(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!t(o))return n(o);var a=e(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return sM=s,sM}var oM,iL;function n4(){if(iL)return oM;iL=1;var t=CK(),e=RK(),n=bR();function r(i){return n(i)?t(i,!0):e(i)}return oM=r,oM}var aM,sL;function PK(){if(sL)return aM;sL=1;var t=MK(),e=n4();function n(r){return t(r,e(r))}return aM=n,aM}var lM,oL;function IK(){if(oL)return lM;oL=1;var t=XN(),e=uK(),n=dK(),r=hK(),i=gK(),s=JN(),o=YN(),a=yK(),l=QN(),u=SR(),f=yh(),d=_K(),p=ZN(),g=e4(),y=PK();function S(_,x,b,w,M,C,I){var B=g(_,b),P=g(x,b),L=I.get(P);if(L){t(_,b,L);return}var E=C?C(B,P,b+"",_,x,I):void 0,O=E===void 0;if(O){var U=o(P),H=!U&&l(P),q=!U&&!H&&p(P);E=P,U||H||q?o(B)?E=B:a(B)?E=r(B):H?(O=!1,E=e(P,!0)):q?(O=!1,E=n(P,!0)):E=[]:d(P)||s(P)?(E=B,s(B)?E=y(B):(!f(B)||u(B))&&(E=i(P))):O=!1}O&&(I.set(P,E),M(E,P,w,C,I),I.delete(P)),t(_,b,E)}return lM=S,lM}var uM,aL;function BK(){if(aL)return uM;aL=1;var t=oK(),e=XN(),n=lK(),r=IK(),i=yh(),s=n4(),o=e4();function a(l,u,f,d,p){l!==u&&n(u,function(g,y){if(p||(p=new t),i(g))r(l,u,y,f,a,d,p);else{var S=d?d(o(l,y),g,y+"",l,u,p):void 0;S===void 0&&(S=g),e(l,y,S)}},s)}return uM=a,uM}var cM,lL;function r4(){if(lL)return cM;lL=1;function t(e){return e}return cM=t,cM}var fM,uL;function DK(){if(uL)return fM;uL=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return fM=t,fM}var dM,cL;function LK(){if(cL)return dM;cL=1;var t=DK(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var f=Array(i+1);++a<i;)f[a]=o[a];return f[i]=s(u),t(r,this,f)}}return dM=n,dM}var hM,fL;function FK(){if(fL)return hM;fL=1;function t(e){return function(){return e}}return hM=t,hM}var pM,dL;function OK(){if(dL)return pM;dL=1;var t=FK(),e=WN(),n=r4(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return pM=r,pM}var mM,hL;function kK(){if(hL)return mM;hL=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=e-(a-o);if(o=a,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return mM=r,mM}var gM,pL;function UK(){if(pL)return gM;pL=1;var t=OK(),e=kK(),n=e(t);return gM=n,gM}var vM,mL;function NK(){if(mL)return vM;mL=1;var t=r4(),e=LK(),n=UK();function r(i,s){return n(e(i,s,t),i+"")}return vM=r,vM}var yM,gL;function zK(){if(gL)return yM;gL=1;var t=US(),e=bR(),n=t4(),r=yh();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&n(o,a.length):l=="string"&&o in a)?t(a[o],s):!1}return yM=i,yM}var xM,vL;function GK(){if(vL)return xM;vL=1;var t=NK(),e=zK();function n(r){return t(function(i,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,u=a>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&e(s[0],s[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++o<a;){var f=s[o];f&&r(i,f,o,l)}return i})}return xM=n,xM}var _M,yL;function HK(){if(yL)return _M;yL=1;var t=BK(),e=GK(),n=e(function(r,i,s){t(r,i,s)});return _M=n,_M}var VK=HK();const jK=jy(VK);var of=(t=>(t.LIGHT="light",t.DARK="dark",t))(of||{}),SM={exports:{}},xL;function WK(){return xL||(xL=1,function(t){t.exports=function(e){var n={};function r(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=n,r.d=function(i,s,o){r.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:o})},r.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="",r(r.s=1)}([function(e,n,r){var i={MOBILE:"mobile",TABLET:"tablet",SMART_TV:"smarttv",CONSOLE:"console",WEARABLE:"wearable",BROWSER:void 0},s={CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",YANDEX:"Yandex",SAFARI:"Safari",INTERNET_EXPLORER:"Internet Explorer",EDGE:"Edge",CHROMIUM:"Chromium",IE:"IE",MOBILE_SAFARI:"Mobile Safari",EDGE_CHROMIUM:"Edge Chromium"},o={IOS:"iOS",ANDROID:"Android",WINDOWS_PHONE:"Windows Phone",WINDOWS:"Windows",MAC_OS:"Mac OS"},a={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1};e.exports={BROWSER_TYPES:s,DEVICE_TYPES:i,OS_TYPES:o,defaultData:a}},function(e,n,r){var i=r(2),s=r(0),o=s.BROWSER_TYPES,a=s.OS_TYPES,l=s.DEVICE_TYPES,u=r(4),f=u.checkType,d=u.broPayload,p=u.mobilePayload,g=u.wearPayload,y=u.consolePayload,S=u.stvPayload,_=u.getNavigatorInstance,x=u.isIOS13Check,b=new i,w=b.getBrowser(),M=b.getDevice(),C=b.getEngine(),I=b.getOS(),B=b.getUA(),P=o.CHROME,L=o.CHROMIUM,E=o.IE,O=o.INTERNET_EXPLORER,U=o.OPERA,H=o.FIREFOX,q=o.SAFARI,te=o.EDGE,$=o.YANDEX,ie=o.MOBILE_SAFARI,W=l.MOBILE,Y=l.TABLET,Q=l.SMART_TV,z=l.BROWSER,K=l.WEARABLE,ae=l.CONSOLE,Z=a.ANDROID,se=a.WINDOWS_PHONE,oe=a.IOS,ue=a.WINDOWS,ve=a.MAC_OS,Be=function(){return M.type===W},Le=function(){return M.type===Y},Ve=function(){switch(M.type){case W:case Y:return!0;default:return!1}},xe=function(){return I.name===a.WINDOWS&&I.version==="10"?typeof B=="string"&&B.indexOf("Edg/")!==-1:!1},Te=function(){return M.type===Q},re=function(){return M.type===z},nt=function(){return M.type===K},ke=function(){return M.type===ae},Ze=function(){return I.name===Z},Ae=function(){return I.name===ue},tt=function(){return I.name===ve},Fe=function(){return I.name===se},J=function(){return I.name===oe},X=function(){return w.name===P},he=function(){return w.name===H},Se=function(){return w.name===L},Me=function(){return w.name===te},De=function(){return w.name===$},qe=function(){return w.name===q||w.name===ie},Ne=function(){return w.name===ie},Ke=function(){return w.name===U},ft=function(){return w.name===O||w.name===E},Xe=function(){var Mr=_(),rr=Mr&&Mr.userAgent.toLowerCase();return typeof rr=="string"?/electron/.test(rr):!1},ot=function(){var Mr=_();return Mr&&(/iPad|iPhone|iPod/.test(Mr.platform)||Mr.platform==="MacIntel"&&Mr.maxTouchPoints>1)&&!window.MSStream},at=function(){return x("iPad")},mt=function(){return x("iPhone")},$e=function(){return x("iPod")},pe=function(){return w.major},ze=function(){return w.version},vt=function(){return I.version?I.version:"none"},de=function(){return I.name?I.name:"none"},je=function(){return w.name},Ie=function(){return M.vendor?M.vendor:"none"},Ye=function(){return M.model?M.model:"none"},ut=function(){return C.name},st=function(){return C.version},Mt=function(){return B},Vt=function(){return M.type},ce=Te(),ge=ke(),Pe=nt(),Qe=Ne()||at(),dt=Se(),Ot=Ve()||at(),Lt=Be(),Et=Le()||at(),Dt=re(),St=Ze(),Pt=Fe(),kt=J()||at(),on=X(),Gn=he(),On=qe(),Yn=Ke(),Hn=ft(),Xn=vt(),wi=de(),us=pe(),Zr=ze(),ne=je(),Ee=Ie(),Ue=Ye(),ye=ut(),we=st(),ct=Mt(),lt=Me()||xe(),yt=De(),Rt=Vt(),Ht=ot(),wt=at(),ht=mt(),Nt=$e(),$t=Xe(),vn=xe(),gn=Me(),fn=Ae(),Ut=tt(),ln=f(M.type);function un(){var Wt=ln.isBrowser,Mr=ln.isMobile,rr=ln.isTablet,yr=ln.isSmartTV,yn=ln.isConsole,xr=ln.isWearable;if(Wt)return d(Wt,w,C,I,B);if(yr)return S(yr,C,I,B);if(yn)return y(yn,C,I,B);if(Mr||rr)return p(ln,M,I,B);if(xr)return g(xr,C,I,B)}e.exports={deviceDetect:un,isSmartTV:ce,isConsole:ge,isWearable:Pe,isMobileSafari:Qe,isChromium:dt,isMobile:Ot,isMobileOnly:Lt,isTablet:Et,isBrowser:Dt,isAndroid:St,isWinPhone:Pt,isIOS:kt,isChrome:on,isFirefox:Gn,isSafari:On,isOpera:Yn,isIE:Hn,osVersion:Xn,osName:wi,fullBrowserVersion:us,browserVersion:Zr,browserName:ne,mobileVendor:Ee,mobileModel:Ue,engineName:ye,engineVersion:we,getUA:ct,isEdge:lt,isYandex:yt,deviceType:Rt,isIOS13:Ht,isIPad13:wt,isIPhone13:ht,isIPod13:Nt,isElectron:$t,isEdgeChromium:vn,isLegacyEdge:gn,isWindows:fn,isMacOs:Ut}},function(e,n,r){var i;/*!
* UAParser.js v0.7.18
* Lightweight JavaScript-based User-Agent string parser
* https://github.com/faisalman/ua-parser-js
*
* Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
* Dual licensed under GPLv2 or MIT
*/(function(s,o){var a="0.7.18",l="",u="?",f="function",d="undefined",p="object",g="string",y="major",S="model",_="name",x="type",b="vendor",w="version",M="architecture",C="console",I="mobile",B="tablet",P="smarttv",L="wearable",E="embedded",O={extend:function(W,Y){var Q={};for(var z in W)Y[z]&&Y[z].length%2===0?Q[z]=Y[z].concat(W[z]):Q[z]=W[z];return Q},has:function(W,Y){return typeof W=="string"?Y.toLowerCase().indexOf(W.toLowerCase())!==-1:!1},lowerize:function(W){return W.toLowerCase()},major:function(W){return typeof W===g?W.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(W){return W.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},U={rgx:function(W,Y){for(var Q=0,z,K,ae,Z,se,oe;Q<Y.length&&!se;){var ue=Y[Q],ve=Y[Q+1];for(z=K=0;z<ue.length&&!se;)if(se=ue[z++].exec(W),se)for(ae=0;ae<ve.length;ae++)oe=se[++K],Z=ve[ae],typeof Z===p&&Z.length>0?Z.length==2?typeof Z[1]==f?this[Z[0]]=Z[1].call(this,oe):this[Z[0]]=Z[1]:Z.length==3?typeof Z[1]===f&&!(Z[1].exec&&Z[1].test)?this[Z[0]]=oe?Z[1].call(this,oe,Z[2]):o:this[Z[0]]=oe?oe.replace(Z[1],Z[2]):o:Z.length==4&&(this[Z[0]]=oe?Z[3].call(this,oe.replace(Z[1],Z[2])):o):this[Z]=oe||o;Q+=2}},str:function(W,Y){for(var Q in Y)if(typeof Y[Q]===p&&Y[Q].length>0){for(var z=0;z<Y[Q].length;z++)if(O.has(Y[Q][z],W))return Q===u?o:Q}else if(O.has(Y[Q],W))return Q===u?o:Q;return W}},H={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},q={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[_,w],[/(opios)[\/\s]+([\w\.]+)/i],[[_,"Opera Mini"],w],[/\s(opr)\/([\w\.]+)/i],[[_,"Opera"],w],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[_,w],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[_,"IE"],w],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[_,"Edge"],w],[/(yabrowser)\/([\w\.]+)/i],[[_,"Yandex"],w],[/(puffin)\/([\w\.]+)/i],[[_,"Puffin"],w],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[_,"UCBrowser"],w],[/(comodo_dragon)\/([\w\.]+)/i],[[_,/_/g," "],w],[/(micromessenger)\/([\w\.]+)/i],[[_,"WeChat"],w],[/(qqbrowserlite)\/([\w\.]+)/i],[_,w],[/(QQ)\/([\d\.]+)/i],[_,w],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[_,w],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[_,w],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[_,w],[/(MetaSr)[\/\s]?([\w\.]+)/i],[_],[/(LBBROWSER)/i],[_],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[w,[_,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[w,[_,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[w,[_,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[_,/(.+)/,"$1 WebView"],w],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[_,/(.+(?:g|us))(.+)/,"$1 $2"],w],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[w,[_,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[_,w],[/(dolfin)\/([\w\.]+)/i],[[_,"Dolphin"],w],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[_,"Chrome"],w],[/(coast)\/([\w\.]+)/i],[[_,"Opera Coast"],w],[/fxios\/([\w\.-]+)/i],[w,[_,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[w,[_,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[w,_],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[_,"GSA"],w],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[_,[w,U.str,H.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[_,w],[/(navigator|netscape)\/([\w\.-]+)/i],[[_,"Netscape"],w],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[_,w]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[M,"amd64"]],[/(ia32(?=;))/i],[[M,O.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[M,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[M,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[M,/ower/,"",O.lowerize]],[/(sun4\w)[;\)]/i],[[M,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[M,O.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[S,b,[x,B]],[/applecoremedia\/[\w\.]+ \((ipad)/],[S,[b,"Apple"],[x,B]],[/(apple\s{0,1}tv)/i],[[S,"Apple TV"],[b,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[b,S,[x,B]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[S,[b,"Amazon"],[x,B]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[S,U.str,H.device.amazon.model],[b,"Amazon"],[x,I]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[S,b,[x,I]],[/\((ip[honed|\s\w*]+);/i],[S,[b,"Apple"],[x,I]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[b,S,[x,I]],[/\(bb10;\s(\w+)/i],[S,[b,"BlackBerry"],[x,I]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[S,[b,"Asus"],[x,B]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[b,"Sony"],[S,"Xperia Tablet"],[x,B]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[S,[b,"Sony"],[x,I]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[b,S,[x,C]],[/android.+;\s(shield)\sbuild/i],[S,[b,"Nvidia"],[x,C]],[/(playstation\s[34portablevi]+)/i],[S,[b,"Sony"],[x,C]],[/(sprint\s(\w+))/i],[[b,U.str,H.device.sprint.vendor],[S,U.str,H.device.sprint.model],[x,I]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[b,S,[x,B]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[b,[S,/_/g," "],[x,I]],[/(nexus\s9)/i],[S,[b,"HTC"],[x,B]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[S,[b,"Huawei"],[x,I]],[/(microsoft);\s(lumia[\s\w]+)/i],[b,S,[x,I]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[S,[b,"Microsoft"],[x,C]],[/(kin\.[onetw]{3})/i],[[S,/\./g," "],[b,"Microsoft"],[x,I]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[S,[b,"Motorola"],[x,I]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[S,[b,"Motorola"],[x,B]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[b,O.trim],[S,O.trim],[x,P]],[/hbbtv.+maple;(\d+)/i],[[S,/^/,"SmartTV"],[b,"Samsung"],[x,P]],[/\(dtv[\);].+(aquos)/i],[S,[b,"Sharp"],[x,P]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[b,"Samsung"],S,[x,B]],[/smart-tv.+(samsung)/i],[b,[x,P],S],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[b,"Samsung"],S,[x,I]],[/sie-(\w*)/i],[S,[b,"Siemens"],[x,I]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[b,"Nokia"],S,[x,I]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[S,[b,"Acer"],[x,B]],[/android.+([vl]k\-?\d{3})\s+build/i],[S,[b,"LG"],[x,B]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[b,"LG"],S,[x,B]],[/(lg) netcast\.tv/i],[b,S,[x,P]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[S,[b,"LG"],[x,I]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[S,[b,"Lenovo"],[x,B]],[/linux;.+((jolla));/i],[b,S,[x,I]],[/((pebble))app\/[\d\.]+\s/i],[b,S,[x,L]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[b,S,[x,I]],[/crkey/i],[[S,"Chromecast"],[b,"Google"]],[/android.+;\s(glass)\s\d/i],[S,[b,"Google"],[x,L]],[/android.+;\s(pixel c)\s/i],[S,[b,"Google"],[x,B]],[/android.+;\s(pixel xl|pixel)\s/i],[S,[b,"Google"],[x,I]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[S,/_/g," "],[b,"Xiaomi"],[x,I]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[S,/_/g," "],[b,"Xiaomi"],[x,B]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[S,[b,"Meizu"],[x,B]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[S,[b,"OnePlus"],[x,I]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[S,[b,"RCA"],[x,B]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[S,[b,"Dell"],[x,B]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[S,[b,"Verizon"],[x,B]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[b,"Barnes & Noble"],S,[x,B]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[S,[b,"NuVision"],[x,B]],[/android.+;\s(k88)\sbuild/i],[S,[b,"ZTE"],[x,B]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[S,[b,"Swiss"],[x,I]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[S,[b,"Swiss"],[x,B]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[S,[b,"Zeki"],[x,B]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[b,"Dragon Touch"],S,[x,B]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[S,[b,"Insignia"],[x,B]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[S,[b,"NextBook"],[x,B]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[b,"Voice"],S,[x,I]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[b,"LvTel"],S,[x,I]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[S,[b,"Envizen"],[x,B]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[b,S,[x,B]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[S,[b,"MachSpeed"],[x,B]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[b,S,[x,B]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[S,[b,"Rotor"],[x,B]],[/android.+(KS(.+))\s+build/i],[S,[b,"Amazon"],[x,B]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[b,S,[x,B]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[x,O.lowerize],b,S],[/(android[\w\.\s\-]{0,9});.+build/i],[S,[b,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[w,[_,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[_,w],[/rv\:([\w\.]{1,9}).+(gecko)/i],[w,_]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[_,w],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[_,[w,U.str,H.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[_,"Windows"],[w,U.str,H.os.windows.version]],[/\((bb)(10);/i],[[_,"BlackBerry"],w],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[_,w],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[_,"Symbian"],w],[/\((series40);/i],[_],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[_,"Firefox OS"],w],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[_,w],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[_,"Chromium OS"],w],[/(sunos)\s?([\w\.\d]*)/i],[[_,"Solaris"],w],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[_,w],[/(haiku)\s(\w+)/i],[_,w],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[w,/_/g,"."],[_,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[_,"Mac OS"],[w,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[_,w]]},te=function(W,Y){if(typeof W=="object"&&(Y=W,W=o),!(this instanceof te))return new te(W,Y).getResult();var Q=W||(s&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:l),z=Y?O.extend(q,Y):q;return this.getBrowser=function(){var K={name:o,version:o};return U.rgx.call(K,Q,z.browser),K.major=O.major(K.version),K},this.getCPU=function(){var K={architecture:o};return U.rgx.call(K,Q,z.cpu),K},this.getDevice=function(){var K={vendor:o,model:o,type:o};return U.rgx.call(K,Q,z.device),K},this.getEngine=function(){var K={name:o,version:o};return U.rgx.call(K,Q,z.engine),K},this.getOS=function(){var K={name:o,version:o};return U.rgx.call(K,Q,z.os),K},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Q},this.setUA=function(K){return Q=K,this},this};te.VERSION=a,te.BROWSER={NAME:_,MAJOR:y,VERSION:w},te.CPU={ARCHITECTURE:M},te.DEVICE={MODEL:S,VENDOR:b,TYPE:x,CONSOLE:C,MOBILE:I,SMARTTV:P,TABLET:B,WEARABLE:L,EMBEDDED:E},te.ENGINE={NAME:_,VERSION:w},te.OS={NAME:_,VERSION:w},typeof n!==d?(typeof e!==d&&e.exports&&(n=e.exports=te),n.UAParser=te):r(3)?(i=(function(){return te}).call(n,r,n,e),i!==o&&(e.exports=i)):s&&(s.UAParser=te);var $=s&&(s.jQuery||s.Zepto);if(typeof $!==d){var ie=new te;$.ua=ie.getResult(),$.ua.get=function(){return ie.getUA()},$.ua.set=function(W){ie.setUA(W);var Y=ie.getResult();for(var Q in Y)$.ua[Q]=Y[Q]}}})(typeof window=="object"?window:this)},function(e,n){(function(r){e.exports=r}).call(n,{})},function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(_){for(var x=1;x<arguments.length;x++){var b=arguments[x];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(_[w]=b[w])}return _},s=r(0),o=s.DEVICE_TYPES,a=s.defaultData,l=function(x){switch(x){case o.MOBILE:return{isMobile:!0};case o.TABLET:return{isTablet:!0};case o.SMART_TV:return{isSmartTV:!0};case o.CONSOLE:return{isConsole:!0};case o.WEARABLE:return{isWearable:!0};case o.BROWSER:return{isBrowser:!0};default:return a}},u=function(x,b,w,M,C){return{isBrowser:x,browserMajorVersion:b.major,browserFullVersion:b.version,browserName:b.name,engineName:w.name||!1,engineVersion:w.version,osName:M.name,osVersion:M.version,userAgent:C}},f=function(x,b,w,M){return i({},x,{vendor:b.vendor,model:b.model,os:w.name,osVersion:w.version,ua:M})},d=function(x,b,w,M){return{isSmartTV:x,engineName:b.name,engineVersion:b.version,osName:w.name,osVersion:w.version,userAgent:M}},p=function(x,b,w,M){return{isConsole:x,engineName:b.name,engineVersion:b.version,osName:w.name,osVersion:w.version,userAgent:M}},g=function(x,b,w,M){return{isWearable:x,engineName:b.name,engineVersion:b.version,osName:w.name,osVersion:w.version,userAgent:M}},y=n.getNavigatorInstance=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},S=n.isIOS13Check=function(x){var b=y();return b&&b.platform&&(b.platform.indexOf(x)!==-1||b.platform==="MacIntel"&&b.maxTouchPoints>1&&!window.MSStream)};e.exports={checkType:l,broPayload:u,mobilePayload:f,stvPayload:d,consolePayload:p,wearPayload:g,getNavigatorInstance:y,isIOS13Check:S}}])}(SM)),SM.exports}var _L=WK();const i4=14,XK=16;function Xr(t){const e=i4/14;return`${t/XK*e}rem`}const qK={breakpoints:{values:{xxs:0,xs:300,sm:600,md:900,lg:1200,xl:1536}},typography:{pxToRem:Xr,fontSize:i4,fontFamily:['"Advanced Pixel"',"monospace"].join(","),h1:{fontSize:Xr(72),fontFamily:"Karma Future","@media (max-width:600px)":{fontSize:Xr(56)},marginTop:"0.4em",marginBottom:"0.2em",hyphens:"manual"},h2:{fontSize:Xr(56),fontFamily:"Karma Future",marginTop:"0.4em",marginBottom:"0.2em","@media (max-width:600px)":{fontSize:Xr(46)},hyphens:"manual"},h3:{fontSize:Xr(46),fontFamily:"Karma Future",marginTop:"0.4em",marginBottom:"0.2em","@media (max-width:600px)":{fontSize:Xr(40)},hyphens:"manual"},h4:{fontSize:Xr(40),fontFamily:"Karma Future",marginTop:"0.4em",marginBottom:"0.2em","@media (max-width:600px)":{fontSize:Xr(32)}},h5:{fontSize:Xr(32),fontFamily:"Karma Future",marginTop:"0.4em",marginBottom:"0.2em","@media (max-width:600px)":{fontSize:Xr(26)}},h6:{fontSize:Xr(26),fontFamily:"Karma Future",marginTop:"0.4em",marginBottom:"0.2em","@media (max-width:600px)":{fontSize:"1rem"}},subtitle1:{fontSize:Xr(28),"@media (max-width:600px)":{fontSize:Xr(26)},lineHeight:.8,fontWeight:600,marginTop:"0.3em",marginBottom:"0.15em"},subtitle2:{fontSize:Xr(26),"@media (max-width:600px)":{fontSize:Xr(22)},lineHeight:.8,fontWeight:600,marginTop:"0.3em",marginBottom:"0.15em"},body1:{fontSize:Xr(28),"@media (max-width:600px)":{fontSize:Xr(26)},lineHeight:.9,marginBottom:"0.6em",letterSpacing:"0.03em"},body2:{fontSize:Xr(26),"@media (max-width:600px)":{fontSize:Xr(22)},lineHeight:1,marginBottom:"0.3em",letterSpacing:"0.04em"},button:{},caption:{fontSize:Xr(22),lineHeight:.8,fontStyle:"italic","@media (max-width:600px)":{fontSize:Xr(20)},marginTop:"0.2em",marginBottom:"0.4em",letterSpacing:"0.04em"},overline:{}},shape:{borderRadius:0},components:{MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box"},html:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",height:"100%",width:"100%",scrollBehavior:"smooth",cursor:"url('/Normal select.cur'), auto"},body:{height:"100%",width:"100%",marginTop:0},"#root":{height:"100%",width:"100%"}}},MuiButtonBase:{defaultProps:{disableRipple:!0},styleOverrides:{root:{cursor:"url('/Link select.cur'), pointer"}}},MuiDivider:{styleOverrides:{root:{borderBottomWidth:"medium"}}},MuiButton:{styleOverrides:{root:({theme:t})=>({color:t.palette.menuBackground.contrastText,background:t.palette.primary.main,boxShadow:t.shadows[2],borderRadius:t.shape.borderRadius,paddingRight:t.spacing(2),paddingLeft:t.spacing(2),transition:"all 0.2s",zIndex:0,"&:hover":{..._L.isMobile?{}:{zIndex:1,transform:"scale(1.1)"},background:t.palette.primary.main},"&:active":{transform:"scale(1.05)"},"&.MuiButton-text":{fontSize:"1.4rem",lineHeight:"normal","@media (max-width:600px)":{fontSize:"1.2rem"}}})}},MuiIconButton:{styleOverrides:{root:({theme:t})=>({color:t.palette.menuBackground.contrastText,background:t.palette.primary.main,boxShadow:t.shadows[2],borderRadius:t.shape.borderRadius,paddingRight:t.spacing(2),paddingLeft:t.spacing(2),transition:"all 0.2s",zIndex:0,"&:hover":{..._L.isMobile?{}:{zIndex:1,transform:"scale(1.1)"},background:t.palette.primary.main},"&:active":{transform:"scale(1.05)"}})}},MuiLink:{styleOverrides:{root:({theme:t})=>({textDecorationColor:t.palette.text.primary,cursor:"url('/Link select.cur'), auto"})}},MuiChip:{styleOverrides:{root:({theme:t})=>({cursor:"url('/Normal select.cur'), auto",color:t.palette.primary.main,background:t.palette.background.paper,border:`1px dashed ${t.palette.primary.main}`,boxShadow:t.shadows[1],borderRadius:t.shape.borderRadius,paddingRight:t.spacing(1),paddingLeft:t.spacing(1),fontSize:"1.4rem",letterSpacing:"0.05em"})}},MuiAlert:{styleOverrides:{root:({theme:t})=>({fontWeight:"600",borderStyle:"dashed",borderWidth:"2px","& .MuiAlert-icon":{alignItems:"center"}})},variants:[{props:{severity:"info"},style:({theme:t})=>({color:Gu(t.palette.info.main,.1)})},{props:{severity:"success"},style:({theme:t})=>({color:Gu(t.palette.success.main,.1)})},{props:{severity:"warning"},style:({theme:t})=>({color:Gu(t.palette.warning.main,.1)})},{props:{severity:"error"},style:({theme:t})=>({color:Gu(t.palette.error.main,.1)})}]}}},KK={palette:{mode:"light",text:{primary:"#424242"},divider:"#424242",background:{default:"#ffffff",paper:"#fafafa"},menuBackground:{main:"#f5f5f5",contrastText:"#fafafa"},primary:{main:"#424242"},error:{main:"#ff3d00"},warning:{main:"#ffc400"},info:{main:"#00bcd4"},success:{main:"#4caf50"}},shadows:["none","1px 1px 0px #fafafa, 3px 3px 0px rgba(82, 82, 82, 0.25)","1px 1px 0px #fafafa, 6px 6px 0px rgba(82, 82, 82, 0.25)","6px 6px 0px rgba(82, 82, 82, 0.25)","","","","","","","","","","","","","","","","","","","","",""],components:{}},JK={palette:{mode:"dark",text:{primary:"#f5f5f5"},divider:"#f5f5f5",background:{paper:"#303030"},menuBackground:{main:"#404040",contrastText:"#424242"},primary:{main:"#f5f5f5"},error:{main:"#f44336"},warning:{main:"#ff9800"},info:{main:"#03a9f4"},success:{main:"#8bc34a"}},shadows:["none","1px 1px 0px #424242, 3px 3px 0px rgba(255, 255, 255, 0.15)","1px 1px 0px #424242, 6px 6px 0px rgba(255, 255, 255, 0.15)","6px 6px 0px rgba(255, 255, 255, 0.15)","","","","","","","","","","","","","","","","","","","","",""],components:{}},YK={[of.LIGHT]:KK,[of.DARK]:JK},$K=t=>{const e=jK({},qK,YK[t]);return FS(e)};var Hg={},SL;function QK(){if(SL)return Hg;SL=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.parse=o,Hg.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,g){const y=new s,S=p.length;if(S<2)return y;const _=(g==null?void 0:g.decode)||f;let x=0;do{const b=p.indexOf("=",x);if(b===-1)break;const w=p.indexOf(";",x),M=w===-1?S:w;if(b>M){x=p.lastIndexOf(";",b-1)+1;continue}const C=a(p,x,b),I=l(p,b,C),B=p.slice(C,I);if(y[B]===void 0){let P=a(p,b+1,M),L=l(p,M,P);const E=_(p.slice(P,L));y[B]=E}x=M+1}while(x<S);return y}function a(p,g,y){do{const S=p.charCodeAt(g);if(S!==32&&S!==9)return g}while(++g<y);return y}function l(p,g,y){for(;g>y;){const S=p.charCodeAt(--g);if(S!==32&&S!==9)return g+1}return y}function u(p,g,y){const S=(y==null?void 0:y.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const _=S(g);if(!e.test(_))throw new TypeError(`argument val is invalid: ${g}`);let x=p+"="+_;if(!y)return x;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);x+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);x+="; Domain="+y.domain}if(y.path){if(!r.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);x+="; Path="+y.path}if(y.expires){if(!d(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);x+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(x+="; HttpOnly"),y.secure&&(x+="; Secure"),y.partitioned&&(x+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return x}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function d(p){return i.call(p)==="[object Date]"}return Hg}QK();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s4=t=>{throw TypeError(t)},ZK=(t,e,n)=>e.has(t)||s4("Cannot "+n),AM=(t,e,n)=>(ZK(t,e,"read from private field"),n?n.call(t):e.get(t)),eJ=(t,e,n)=>e.has(t)?s4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),AL="popstate";function tJ(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return fy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:df(i)}return rJ(e,n,null,t)}function Ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ji(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nJ(){return Math.random().toString(36).substring(2,10)}function wL(t,e){return{usr:t.state,key:t.key,idx:e}}function fy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Sf(e):e,state:n,key:e&&e.key||r||nJ()}}function df({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function rJ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function d(){a="POP";let _=f(),x=_==null?null:_-u;u=_,l&&l({action:a,location:S.location,delta:x})}function p(_,x){a="PUSH";let b=fy(S.location,_,x);u=f()+1;let w=wL(b,u),M=S.createHref(b);try{o.pushState(w,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(M)}s&&l&&l({action:a,location:S.location,delta:1})}function g(_,x){a="REPLACE";let b=fy(S.location,_,x);u=f();let w=wL(b,u),M=S.createHref(b);o.replaceState(w,"",M),s&&l&&l({action:a,location:S.location,delta:0})}function y(_){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof _=="string"?_:df(_);return b=b.replace(/ $/,"%20"),Ln(x,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,x)}let S={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(AL,d),l=_,()=>{i.removeEventListener(AL,d),l=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let x=y(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:g,go(_){return o.go(_)}};return S}var Av,bL=class{constructor(t){if(eJ(this,Av,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(AM(this,Av).has(t))return AM(this,Av).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){AM(this,Av).set(t,e)}};Av=new WeakMap;var iJ=new Set(["lazy","caseSensitive","path","id","index","children"]);function sJ(t){return t.index===!0}function h1(t,e,n=[],r={}){return t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ln(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ln(!r[a],`Found a route id collision on id "${a}".  Route id's must be globally unique within Data Router usages`),sJ(i)){let l={...i,...e(i),id:a};return r[a]=l,l}else{let l={...i,...e(i),id:a,children:void 0};return r[a]=l,i.children&&(l.children=h1(i.children,e,o,r)),l}})}function Qc(t,e,n="/"){return K_(t,e,n,!1)}function K_(t,e,n,r){let i=typeof e=="string"?Sf(e):e,s=ha(i.pathname||"/",n);if(s==null)return null;let o=o4(t);aJ(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=yJ(s);a=gJ(o[l],u,r)}return a}function oJ(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function o4(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=zl([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Ln(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),o4(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:pJ(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of a4(s.path))i(s,o,l)}),e}function a4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=a4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function aJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lJ=/^:[\w-]+$/,uJ=3,cJ=2,fJ=1,dJ=10,hJ=-2,ML=t=>t==="*";function pJ(t,e){let n=t.split("/"),r=n.length;return n.some(ML)&&(r+=hJ),e&&(r+=cJ),n.filter(i=>!ML(i)).reduce((i,s)=>i+(lJ.test(s)?uJ:s===""?fJ:dJ),r)}function mJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gJ(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",d=p1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=p1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:zl([s,d.pathname]),pathnameBase:SJ(zl([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=zl([s,d.pathnameBase]))}return o}function p1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vJ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:d},p)=>{if(f==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[p];return d&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function vJ(t,e=!1,n=!0){ji(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ha(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xJ(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Sf(t):t;return{pathname:n?n.startsWith("/")?n:_J(n,e):e,search:AJ(r),hash:wJ(i)}}function _J(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wM(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jS(t){let e=l4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function WS(t,e,n,r=!1){let i;typeof t=="string"?i=Sf(t):(i={...t},Ln(!i.pathname||!i.pathname.includes("?"),wM("?","pathname","search",i)),Ln(!i.pathname||!i.pathname.includes("#"),wM("#","pathname","hash",i)),Ln(!i.search||!i.search.includes("#"),wM("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=xJ(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var zl=t=>t.join("/").replace(/\/\/+/g,"/"),SJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,m1=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var u4=["POST","PUT","PATCH","DELETE"],bJ=new Set(u4),MJ=["GET",...u4],EJ=new Set(MJ),CJ=new Set([301,302,303,307,308]),TJ=new Set([307,308]),bM={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RJ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},MR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PJ=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),c4="remix-router-transitions",f4=Symbol("ResetLoaderData");function IJ(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ln(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.mapRouteProperties||PJ,i={},s=h1(t.routes,r,void 0,i),o,a=t.basename||"/",l=t.dataStrategy||OJ,u={unstable_middleware:!1,...t.future},f=null,d=new Set,p=null,g=null,y=null,S=t.hydrationData!=null,_=Qc(s,t.history.location,a),x=!1,b=null;if(_==null&&!t.patchRoutesOnNavigation){let ce=na(404,{pathname:t.history.location.pathname}),{matches:ge,route:Pe}=kL(s);_=ge,b={[Pe.id]:ce}}_&&!t.hydrationData&&ut(_,s,t.history.location.pathname).active&&(_=null);let w;if(_)if(_.some(ce=>ce.route.lazy))w=!1;else if(!_.some(ce=>ce.route.loader))w=!0;else{let ce=t.hydrationData?t.hydrationData.loaderData:null,ge=t.hydrationData?t.hydrationData.errors:null;if(ge){let Pe=_.findIndex(Qe=>ge[Qe.route.id]!==void 0);w=_.slice(0,Pe+1).every(Qe=>!IC(Qe.route,ce,ge))}else w=_.every(Pe=>!IC(Pe.route,ce,ge))}else{w=!1,_=[];let ce=ut(null,s,t.history.location.pathname);ce.active&&ce.matches&&(x=!0,_=ce.matches)}let M,C={historyAction:t.history.action,location:t.history.location,matches:_,initialized:w,navigation:bM,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},I="POP",B=!1,P,L=!1,E=new Map,O=null,U=!1,H=!1,q=new Set,te=new Map,$=0,ie=-1,W=new Map,Y=new Set,Q=new Map,z=new Map,K=new Set,ae=new Map,Z,se=null;function oe(){if(f=t.history.listen(({action:ce,location:ge,delta:Pe})=>{if(Z){Z(),Z=void 0;return}ji(ae.size===0||Pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Qe=ze({currentLocation:C.location,nextLocation:ge,historyAction:ce});if(Qe&&Pe!=null){let dt=new Promise(Ot=>{Z=Ot});t.history.go(Pe*-1),pe(Qe,{state:"blocked",location:ge,proceed(){pe(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),dt.then(()=>t.history.go(Pe))},reset(){let Ot=new Map(C.blockers);Ot.set(Qe,Vg),Be({blockers:Ot})}});return}return Te(ce,ge)}),n){KJ(e,E);let ce=()=>JJ(e,E);e.addEventListener("pagehide",ce),O=()=>e.removeEventListener("pagehide",ce)}return C.initialized||Te("POP",C.location,{initialHydration:!0}),M}function ue(){f&&f(),O&&O(),d.clear(),P&&P.abort(),C.fetchers.forEach((ce,ge)=>Ne(ge)),C.blockers.forEach((ce,ge)=>$e(ge))}function ve(ce){return d.add(ce),()=>d.delete(ce)}function Be(ce,ge={}){C={...C,...ce};let Pe=[],Qe=[];C.fetchers.forEach((dt,Ot)=>{dt.state==="idle"&&(K.has(Ot)?Pe.push(Ot):Qe.push(Ot))}),K.forEach(dt=>{!C.fetchers.has(dt)&&!te.has(dt)&&Pe.push(dt)}),[...d].forEach(dt=>dt(C,{deletedFetchers:Pe,viewTransitionOpts:ge.viewTransitionOpts,flushSync:ge.flushSync===!0})),Pe.forEach(dt=>Ne(dt)),Qe.forEach(dt=>C.fetchers.delete(dt))}function Le(ce,ge,{flushSync:Pe}={}){var St,Pt;let Qe=C.actionData!=null&&C.navigation.formMethod!=null&&qa(C.navigation.formMethod)&&C.navigation.state==="loading"&&((St=ce.state)==null?void 0:St._isRedirect)!==!0,dt;ge.actionData?Object.keys(ge.actionData).length>0?dt=ge.actionData:dt=null:Qe?dt=C.actionData:dt=null;let Ot=ge.loaderData?FL(C.loaderData,ge.loaderData,ge.matches||[],ge.errors):C.loaderData,Lt=C.blockers;Lt.size>0&&(Lt=new Map(Lt),Lt.forEach((kt,on)=>Lt.set(on,Vg)));let Et=B===!0||C.navigation.formMethod!=null&&qa(C.navigation.formMethod)&&((Pt=ce.state)==null?void 0:Pt._isRedirect)!==!0;o&&(s=o,o=void 0),U||I==="POP"||(I==="PUSH"?t.history.push(ce,ce.state):I==="REPLACE"&&t.history.replace(ce,ce.state));let Dt;if(I==="POP"){let kt=E.get(C.location.pathname);kt&&kt.has(ce.pathname)?Dt={currentLocation:C.location,nextLocation:ce}:E.has(ce.pathname)&&(Dt={currentLocation:ce,nextLocation:C.location})}else if(L){let kt=E.get(C.location.pathname);kt?kt.add(ce.pathname):(kt=new Set([ce.pathname]),E.set(C.location.pathname,kt)),Dt={currentLocation:C.location,nextLocation:ce}}Be({...ge,actionData:dt,loaderData:Ot,historyAction:I,location:ce,initialized:!0,navigation:bM,revalidation:"idle",restoreScrollPosition:Ye(ce,ge.matches||C.matches),preventScrollReset:Et,blockers:Lt},{viewTransitionOpts:Dt,flushSync:Pe===!0}),I="POP",B=!1,L=!1,U=!1,H=!1,se==null||se.resolve(),se=null}async function Ve(ce,ge){if(typeof ce=="number"){t.history.go(ce);return}let Pe=PC(C.location,C.matches,a,ce,ge==null?void 0:ge.fromRouteId,ge==null?void 0:ge.relative),{path:Qe,submission:dt,error:Ot}=EL(!1,Pe,ge),Lt=C.location,Et=fy(C.location,Qe,ge&&ge.state);Et={...Et,...t.history.encodeLocation(Et)};let Dt=ge&&ge.replace!=null?ge.replace:void 0,St="PUSH";Dt===!0?St="REPLACE":Dt===!1||dt!=null&&qa(dt.formMethod)&&dt.formAction===C.location.pathname+C.location.search&&(St="REPLACE");let Pt=ge&&"preventScrollReset"in ge?ge.preventScrollReset===!0:void 0,kt=(ge&&ge.flushSync)===!0,on=ze({currentLocation:Lt,nextLocation:Et,historyAction:St});if(on){pe(on,{state:"blocked",location:Et,proceed(){pe(on,{state:"proceeding",proceed:void 0,reset:void 0,location:Et}),Ve(ce,ge)},reset(){let Gn=new Map(C.blockers);Gn.set(on,Vg),Be({blockers:Gn})}});return}await Te(St,Et,{submission:dt,pendingError:Ot,preventScrollReset:Pt,replace:ge&&ge.replace,enableViewTransition:ge&&ge.viewTransition,flushSync:kt})}function xe(){se||(se=YJ()),Se(),Be({revalidation:"loading"});let ce=se.promise;return C.navigation.state==="submitting"?ce:C.navigation.state==="idle"?(Te(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),ce):(Te(I||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:L===!0}),ce)}async function Te(ce,ge,Pe){P&&P.abort(),P=null,I=ce,U=(Pe&&Pe.startUninterruptedRevalidation)===!0,Ie(C.location,C.matches),B=(Pe&&Pe.preventScrollReset)===!0,L=(Pe&&Pe.enableViewTransition)===!0;let Qe=o||s,dt=Pe&&Pe.overrideNavigation,Ot=Pe!=null&&Pe.initialHydration&&C.matches&&C.matches.length>0&&!x?C.matches:Qc(Qe,ge,a),Lt=(Pe&&Pe.flushSync)===!0;if(Ot&&C.initialized&&!H&&VJ(C.location,ge)&&!(Pe&&Pe.submission&&qa(Pe.submission.formMethod))){Le(ge,{matches:Ot},{flushSync:Lt});return}let Et=ut(Ot,Qe,ge.pathname);if(Et.active&&Et.matches&&(Ot=Et.matches),!Ot){let{error:Yn,notFoundMatches:Hn,route:Xn}=vt(ge.pathname);Le(ge,{matches:Hn,loaderData:{},errors:{[Xn.id]:Yn}},{flushSync:Lt});return}P=new AbortController;let Dt=Sp(t.history,ge,P.signal,Pe&&Pe.submission),St=new bL(t.unstable_getContext?await t.unstable_getContext():void 0),Pt;if(Pe&&Pe.pendingError)Pt=[Od(Ot).route.id,{type:"error",error:Pe.pendingError}];else if(Pe&&Pe.submission&&qa(Pe.submission.formMethod)){let Yn=await re(Dt,ge,Pe.submission,Ot,St,Et.active,{replace:Pe.replace,flushSync:Lt});if(Yn.shortCircuited)return;if(Yn.pendingActionResult){let[Hn,Xn]=Yn.pendingActionResult;if(Ro(Xn)&&dy(Xn.error)&&Xn.error.status===404){P=null,Le(ge,{matches:Yn.matches,loaderData:{},errors:{[Hn]:Xn.error}});return}}Ot=Yn.matches||Ot,Pt=Yn.pendingActionResult,dt=MM(ge,Pe.submission),Lt=!1,Et.active=!1,Dt=Sp(t.history,Dt.url,Dt.signal)}let{shortCircuited:kt,matches:on,loaderData:Gn,errors:On}=await nt(Dt,ge,Ot,St,Et.active,dt,Pe&&Pe.submission,Pe&&Pe.fetcherSubmission,Pe&&Pe.replace,Pe&&Pe.initialHydration===!0,Lt,Pt);kt||(P=null,Le(ge,{matches:on||Ot,...OL(Pt),loaderData:Gn,errors:On}))}async function re(ce,ge,Pe,Qe,dt,Ot,Lt={}){Se();let Et=XJ(ge,Pe);if(Be({navigation:Et},{flushSync:Lt.flushSync===!0}),Ot){let Pt=await st(Qe,ge.pathname,ce.signal);if(Pt.type==="aborted")return{shortCircuited:!0};if(Pt.type==="error"){let kt=Od(Pt.partialMatches).route.id;return{matches:Pt.partialMatches,pendingActionResult:[kt,{type:"error",error:Pt.error}]}}else if(Pt.matches)Qe=Pt.matches;else{let{notFoundMatches:kt,error:on,route:Gn}=vt(ge.pathname);return{matches:kt,pendingActionResult:[Gn.id,{type:"error",error:on}]}}}let Dt,St=wv(Qe,ge);if(!St.route.action&&!St.route.lazy)Dt={type:"error",error:na(405,{method:ce.method,pathname:ge.pathname,routeId:St.route.id})};else{let Pt=await X("action",ce,[St],Qe,dt,null);if(Dt=Pt[St.route.id],!Dt){for(let kt of Qe)if(Pt[kt.route.id]){Dt=Pt[kt.route.id];break}}if(ce.signal.aborted)return{shortCircuited:!0}}if(zd(Dt)){let Pt;return Lt&&Lt.replace!=null?Pt=Lt.replace:Pt=BL(Dt.response.headers.get("Location"),new URL(ce.url),a)===C.location.pathname+C.location.search,await J(ce,Dt,!0,{submission:Pe,replace:Pt}),{shortCircuited:!0}}if(Ro(Dt)){let Pt=Od(Qe,St.route.id);return(Lt&&Lt.replace)!==!0&&(I="PUSH"),{matches:Qe,pendingActionResult:[Pt.route.id,Dt]}}return{matches:Qe,pendingActionResult:[St.route.id,Dt]}}async function nt(ce,ge,Pe,Qe,dt,Ot,Lt,Et,Dt,St,Pt,kt){let on=Ot||MM(ge,Lt),Gn=Lt||Et||NL(on),On=!U&&!St;if(dt){if(On){let yt=ke(kt);Be({navigation:on,...yt!==void 0?{actionData:yt}:{}},{flushSync:Pt})}let lt=await st(Pe,ge.pathname,ce.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){let yt=Od(lt.partialMatches).route.id;return{matches:lt.partialMatches,loaderData:{},errors:{[yt]:lt.error}}}else if(lt.matches)Pe=lt.matches;else{let{error:yt,notFoundMatches:Rt,route:Ht}=vt(ge.pathname);return{matches:Rt,loaderData:{},errors:{[Ht.id]:yt}}}}let Yn=o||s,[Hn,Xn]=TL(t.history,C,Pe,Gn,ge,St===!0,H,q,K,Q,Y,Yn,a,kt);if(ie=++$,Hn.length===0&&Xn.length===0){let lt=ot();return Le(ge,{matches:Pe,loaderData:{},errors:kt&&Ro(kt[1])?{[kt[0]]:kt[1].error}:null,...OL(kt),...lt?{fetchers:new Map(C.fetchers)}:{}},{flushSync:Pt}),{shortCircuited:!0}}if(On){let lt={};if(!dt){lt.navigation=on;let yt=ke(kt);yt!==void 0&&(lt.actionData=yt)}Xn.length>0&&(lt.fetchers=Ze(Xn)),Be(lt,{flushSync:Pt})}Xn.forEach(lt=>{ft(lt.key),lt.controller&&te.set(lt.key,lt.controller)});let wi=()=>Xn.forEach(lt=>ft(lt.key));P&&P.signal.addEventListener("abort",wi);let{loaderResults:us,fetcherResults:Zr}=await he(Pe,Hn,Xn,ce,Qe);if(ce.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",wi),Xn.forEach(lt=>te.delete(lt.key));let ne=Rx(us);if(ne)return await J(ce,ne.result,!0,{replace:Dt}),{shortCircuited:!0};if(ne=Rx(Zr),ne)return Y.add(ne.key),await J(ce,ne.result,!0,{replace:Dt}),{shortCircuited:!0};let{loaderData:Ee,errors:Ue}=LL(C,Pe,us,kt,Xn,Zr);St&&C.errors&&(Ue={...C.errors,...Ue});let ye=ot(),we=at(ie),ct=ye||we||Xn.length>0;return{matches:Pe,loaderData:Ee,errors:Ue,...ct?{fetchers:new Map(C.fetchers)}:{}}}function ke(ce){if(ce&&!Ro(ce[1]))return{[ce[0]]:ce[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function Ze(ce){return ce.forEach(ge=>{let Pe=C.fetchers.get(ge.key),Qe=jg(void 0,Pe?Pe.data:void 0);C.fetchers.set(ge.key,Qe)}),new Map(C.fetchers)}async function Ae(ce,ge,Pe,Qe){ft(ce);let dt=(Qe&&Qe.flushSync)===!0,Ot=o||s,Lt=PC(C.location,C.matches,a,Pe,ge,Qe==null?void 0:Qe.relative),Et=Qc(Ot,Lt,a),Dt=ut(Et,Ot,Lt);if(Dt.active&&Dt.matches&&(Et=Dt.matches),!Et){De(ce,ge,na(404,{pathname:Lt}),{flushSync:dt});return}let{path:St,submission:Pt,error:kt}=EL(!0,Lt,Qe);if(kt){De(ce,ge,kt,{flushSync:dt});return}let on=wv(Et,St),Gn=new bL(t.unstable_getContext?await t.unstable_getContext():void 0),On=(Qe&&Qe.preventScrollReset)===!0;if(Pt&&qa(Pt.formMethod)){await tt(ce,ge,St,on,Et,Gn,Dt.active,dt,On,Pt);return}Q.set(ce,{routeId:ge,path:St}),await Fe(ce,ge,St,on,Et,Gn,Dt.active,dt,On,Pt)}async function tt(ce,ge,Pe,Qe,dt,Ot,Lt,Et,Dt,St){Se(),Q.delete(ce);function Pt(wt){if(!wt.route.action&&!wt.route.lazy){let ht=na(405,{method:St.formMethod,pathname:Pe,routeId:ge});return De(ce,ge,ht,{flushSync:Et}),!0}return!1}if(!Lt&&Pt(Qe))return;let kt=C.fetchers.get(ce);Me(ce,qJ(St,kt),{flushSync:Et});let on=new AbortController,Gn=Sp(t.history,Pe,on.signal,St);if(Lt){let wt=await st(dt,Pe,Gn.signal,ce);if(wt.type==="aborted")return;if(wt.type==="error"){De(ce,ge,wt.error,{flushSync:Et});return}else if(wt.matches){if(dt=wt.matches,Qe=wv(dt,Pe),Pt(Qe))return}else{De(ce,ge,na(404,{pathname:Pe}),{flushSync:Et});return}}te.set(ce,on);let On=$,Hn=(await X("action",Gn,[Qe],dt,Ot,ce))[Qe.route.id];if(Gn.signal.aborted){te.get(ce)===on&&te.delete(ce);return}if(K.has(ce)){if(zd(Hn)||Ro(Hn)){Me(ce,Jc(void 0));return}}else{if(zd(Hn))if(te.delete(ce),ie>On){Me(ce,Jc(void 0));return}else return Y.add(ce),Me(ce,jg(St)),J(Gn,Hn,!1,{fetcherSubmission:St,preventScrollReset:Dt});if(Ro(Hn)){De(ce,ge,Hn.error);return}}let Xn=C.navigation.location||C.location,wi=Sp(t.history,Xn,on.signal),us=o||s,Zr=C.navigation.state!=="idle"?Qc(us,C.navigation.location,a):C.matches;Ln(Zr,"Didn't find any matches after fetcher action");let ne=++$;W.set(ce,ne);let Ee=jg(St,Hn.data);C.fetchers.set(ce,Ee);let[Ue,ye]=TL(t.history,C,Zr,St,Xn,!1,H,q,K,Q,Y,us,a,[Qe.route.id,Hn]);ye.filter(wt=>wt.key!==ce).forEach(wt=>{let ht=wt.key,Nt=C.fetchers.get(ht),$t=jg(void 0,Nt?Nt.data:void 0);C.fetchers.set(ht,$t),ft(ht),wt.controller&&te.set(ht,wt.controller)}),Be({fetchers:new Map(C.fetchers)});let we=()=>ye.forEach(wt=>ft(wt.key));on.signal.addEventListener("abort",we);let{loaderResults:ct,fetcherResults:lt}=await he(Zr,Ue,ye,wi,Ot);if(on.signal.aborted)return;on.signal.removeEventListener("abort",we),W.delete(ce),te.delete(ce),ye.forEach(wt=>te.delete(wt.key));let yt=Rx(ct);if(yt)return J(wi,yt.result,!1,{preventScrollReset:Dt});if(yt=Rx(lt),yt)return Y.add(yt.key),J(wi,yt.result,!1,{preventScrollReset:Dt});let{loaderData:Rt,errors:Ht}=LL(C,Zr,ct,void 0,ye,lt);if(C.fetchers.has(ce)){let wt=Jc(Hn.data);C.fetchers.set(ce,wt)}at(ne),C.navigation.state==="loading"&&ne>ie?(Ln(I,"Expected pending action"),P&&P.abort(),Le(C.navigation.location,{matches:Zr,loaderData:Rt,errors:Ht,fetchers:new Map(C.fetchers)})):(Be({errors:Ht,loaderData:FL(C.loaderData,Rt,Zr,Ht),fetchers:new Map(C.fetchers)}),H=!1)}async function Fe(ce,ge,Pe,Qe,dt,Ot,Lt,Et,Dt,St){let Pt=C.fetchers.get(ce);Me(ce,jg(St,Pt?Pt.data:void 0),{flushSync:Et});let kt=new AbortController,on=Sp(t.history,Pe,kt.signal);if(Lt){let Hn=await st(dt,Pe,on.signal,ce);if(Hn.type==="aborted")return;if(Hn.type==="error"){De(ce,ge,Hn.error,{flushSync:Et});return}else if(Hn.matches)dt=Hn.matches,Qe=wv(dt,Pe);else{De(ce,ge,na(404,{pathname:Pe}),{flushSync:Et});return}}te.set(ce,kt);let Gn=$,Yn=(await X("loader",on,[Qe],dt,Ot,ce))[Qe.route.id];if(te.get(ce)===kt&&te.delete(ce),!on.signal.aborted){if(K.has(ce)){Me(ce,Jc(void 0));return}if(zd(Yn))if(ie>Gn){Me(ce,Jc(void 0));return}else{Y.add(ce),await J(on,Yn,!1,{preventScrollReset:Dt});return}if(Ro(Yn)){De(ce,ge,Yn.error);return}Me(ce,Jc(Yn.data))}}async function J(ce,ge,Pe,{submission:Qe,fetcherSubmission:dt,preventScrollReset:Ot,replace:Lt}={}){ge.response.headers.has("X-Remix-Revalidate")&&(H=!0);let Et=ge.response.headers.get("Location");Ln(Et,"Expected a Location header on the redirect Response"),Et=BL(Et,new URL(ce.url),a);let Dt=fy(C.location,Et,{_isRedirect:!0});if(n){let On=!1;if(ge.response.headers.has("X-Remix-Reload-Document"))On=!0;else if(MR.test(Et)){const Yn=t.history.createURL(Et);On=Yn.origin!==e.location.origin||ha(Yn.pathname,a)==null}if(On){Lt?e.location.replace(Et):e.location.assign(Et);return}}P=null;let St=Lt===!0||ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pt,formAction:kt,formEncType:on}=C.navigation;!Qe&&!dt&&Pt&&kt&&on&&(Qe=NL(C.navigation));let Gn=Qe||dt;if(TJ.has(ge.response.status)&&Gn&&qa(Gn.formMethod))await Te(St,Dt,{submission:{...Gn,formAction:Et},preventScrollReset:Ot||B,enableViewTransition:Pe?L:void 0});else{let On=MM(Dt,Qe);await Te(St,Dt,{overrideNavigation:On,fetcherSubmission:dt,preventScrollReset:Ot||B,enableViewTransition:Pe?L:void 0})}}async function X(ce,ge,Pe,Qe,dt,Ot){let Lt,Et={};try{Lt=await UJ(l,ce,ge,Pe,Qe,Ot,i,r,dt,u.unstable_middleware)}catch(Dt){return Pe.forEach(St=>{Et[St.route.id]={type:"error",error:Dt}}),Et}for(let[Dt,St]of Object.entries(Lt))if(jJ(St)){let Pt=St.result;Et[Dt]={type:"redirect",response:GJ(Pt,ge,Dt,Qe,a)}}else Et[Dt]=await zJ(St);return Et}async function he(ce,ge,Pe,Qe,dt){let Ot=X("loader",Qe,ge,ce,dt,null),Lt=Promise.all(Pe.map(async St=>{if(St.matches&&St.match&&St.controller){let kt=(await X("loader",Sp(t.history,St.path,St.controller.signal),[St.match],St.matches,dt,St.key))[St.match.route.id];return{[St.key]:kt}}else return Promise.resolve({[St.key]:{type:"error",error:na(404,{pathname:St.path})}})})),Et=await Ot,Dt=(await Lt).reduce((St,Pt)=>Object.assign(St,Pt),{});return{loaderResults:Et,fetcherResults:Dt}}function Se(){H=!0,Q.forEach((ce,ge)=>{te.has(ge)&&q.add(ge),ft(ge)})}function Me(ce,ge,Pe={}){C.fetchers.set(ce,ge),Be({fetchers:new Map(C.fetchers)},{flushSync:(Pe&&Pe.flushSync)===!0})}function De(ce,ge,Pe,Qe={}){let dt=Od(C.matches,ge);Ne(ce),Be({errors:{[dt.route.id]:Pe},fetchers:new Map(C.fetchers)},{flushSync:(Qe&&Qe.flushSync)===!0})}function qe(ce){return z.set(ce,(z.get(ce)||0)+1),K.has(ce)&&K.delete(ce),C.fetchers.get(ce)||RJ}function Ne(ce){let ge=C.fetchers.get(ce);te.has(ce)&&!(ge&&ge.state==="loading"&&W.has(ce))&&ft(ce),Q.delete(ce),W.delete(ce),Y.delete(ce),K.delete(ce),q.delete(ce),C.fetchers.delete(ce)}function Ke(ce){let ge=(z.get(ce)||0)-1;ge<=0?(z.delete(ce),K.add(ce)):z.set(ce,ge),Be({fetchers:new Map(C.fetchers)})}function ft(ce){let ge=te.get(ce);ge&&(ge.abort(),te.delete(ce))}function Xe(ce){for(let ge of ce){let Pe=qe(ge),Qe=Jc(Pe.data);C.fetchers.set(ge,Qe)}}function ot(){let ce=[],ge=!1;for(let Pe of Y){let Qe=C.fetchers.get(Pe);Ln(Qe,`Expected fetcher: ${Pe}`),Qe.state==="loading"&&(Y.delete(Pe),ce.push(Pe),ge=!0)}return Xe(ce),ge}function at(ce){let ge=[];for(let[Pe,Qe]of W)if(Qe<ce){let dt=C.fetchers.get(Pe);Ln(dt,`Expected fetcher: ${Pe}`),dt.state==="loading"&&(ft(Pe),W.delete(Pe),ge.push(Pe))}return Xe(ge),ge.length>0}function mt(ce,ge){let Pe=C.blockers.get(ce)||Vg;return ae.get(ce)!==ge&&ae.set(ce,ge),Pe}function $e(ce){C.blockers.delete(ce),ae.delete(ce)}function pe(ce,ge){let Pe=C.blockers.get(ce)||Vg;Ln(Pe.state==="unblocked"&&ge.state==="blocked"||Pe.state==="blocked"&&ge.state==="blocked"||Pe.state==="blocked"&&ge.state==="proceeding"||Pe.state==="blocked"&&ge.state==="unblocked"||Pe.state==="proceeding"&&ge.state==="unblocked",`Invalid blocker state transition: ${Pe.state} -> ${ge.state}`);let Qe=new Map(C.blockers);Qe.set(ce,ge),Be({blockers:Qe})}function ze({currentLocation:ce,nextLocation:ge,historyAction:Pe}){if(ae.size===0)return;ae.size>1&&ji(!1,"A router only supports one blocker at a time");let Qe=Array.from(ae.entries()),[dt,Ot]=Qe[Qe.length-1],Lt=C.blockers.get(dt);if(!(Lt&&Lt.state==="proceeding")&&Ot({currentLocation:ce,nextLocation:ge,historyAction:Pe}))return dt}function vt(ce){let ge=na(404,{pathname:ce}),Pe=o||s,{matches:Qe,route:dt}=kL(Pe);return{notFoundMatches:Qe,route:dt,error:ge}}function de(ce,ge,Pe){if(p=ce,y=ge,g=Pe||null,!S&&C.navigation===bM){S=!0;let Qe=Ye(C.location,C.matches);Qe!=null&&Be({restoreScrollPosition:Qe})}return()=>{p=null,y=null,g=null}}function je(ce,ge){return g&&g(ce,ge.map(Qe=>oJ(Qe,C.loaderData)))||ce.key}function Ie(ce,ge){if(p&&y){let Pe=je(ce,ge);p[Pe]=y()}}function Ye(ce,ge){if(p){let Pe=je(ce,ge),Qe=p[Pe];if(typeof Qe=="number")return Qe}return null}function ut(ce,ge,Pe){if(t.patchRoutesOnNavigation)if(ce){if(Object.keys(ce[0].params).length>0)return{active:!0,matches:K_(ge,Pe,a,!0)}}else return{active:!0,matches:K_(ge,Pe,a,!0)||[]};return{active:!1,matches:null}}async function st(ce,ge,Pe,Qe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:ce};let dt=ce;for(;;){let Ot=o==null,Lt=o||s,Et=i;try{await t.patchRoutesOnNavigation({signal:Pe,path:ge,matches:dt,fetcherKey:Qe,patch:(Pt,kt)=>{Pe.aborted||PL(Pt,kt,Lt,Et,r)}})}catch(Pt){return{type:"error",error:Pt,partialMatches:dt}}finally{Ot&&!Pe.aborted&&(s=[...s])}if(Pe.aborted)return{type:"aborted"};let Dt=Qc(Lt,ge,a);if(Dt)return{type:"success",matches:Dt};let St=K_(Lt,ge,a,!0);if(!St||dt.length===St.length&&dt.every((Pt,kt)=>Pt.route.id===St[kt].route.id))return{type:"success",matches:null};dt=St}}function Mt(ce){i={},o=h1(ce,r,void 0,i)}function Vt(ce,ge){let Pe=o==null;PL(ce,ge,o||s,i,r),Pe&&(s=[...s],Be({}))}return M={get basename(){return a},get future(){return u},get state(){return C},get routes(){return s},get window(){return e},initialize:oe,subscribe:ve,enableScrollRestoration:de,navigate:Ve,fetch:Ae,revalidate:xe,createHref:ce=>t.history.createHref(ce),encodeLocation:ce=>t.history.encodeLocation(ce),getFetcher:qe,deleteFetcher:Ke,dispose:ue,getBlocker:mt,deleteBlocker:$e,patchRoutes:Vt,_internalFetchControllers:te,_internalSetRoutes:Mt},M}function BJ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function PC(t,e,n,r,i,s){let o,a;if(i){o=[];for(let u of e)if(o.push(u),u.route.id===i){a=u;break}}else o=e,a=e[e.length-1];let l=WS(r||".",jS(o),ha(t.pathname,n)||t.pathname,s==="path");if(r==null&&(l.search=t.search,l.hash=t.hash),(r==null||r===""||r===".")&&a){let u=ER(l.search);if(a.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let f=new URLSearchParams(l.search),d=f.getAll("index");f.delete("index"),d.filter(g=>g).forEach(g=>f.append("index",g));let p=f.toString();l.search=p?`?${p}`:""}}return n!=="/"&&(l.pathname=l.pathname==="/"?n:zl([n,l.pathname])),df(l)}function EL(t,e,n){if(!n||!BJ(n))return{path:e};if(n.formMethod&&!WJ(n.formMethod))return{path:e,error:na(405,{method:n.formMethod})};let r=()=>({path:e,error:na(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=p4(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!qa(s))return r();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[g,y])=>`${p}${g}=${y}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!qa(s))return r();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return r()}}}Ln(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=DC(n.formData),l=n.formData;else if(n.body instanceof FormData)a=DC(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=DL(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=DL(a)}catch{return r()}let u={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(qa(u.formMethod))return{path:e,submission:u};let f=Sf(e);return t&&f.search&&ER(f.search)&&a.append("index",""),f.search=`?${a}`,{path:df(f),submission:u}}function CL(t,e,n=!1){let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function TL(t,e,n,r,i,s,o,a,l,u,f,d,p,g){let y=g?Ro(g[1])?g[1].error:g[1].data:void 0,S=t.createURL(e.location),_=t.createURL(i),x=n;s&&e.errors?x=CL(n,Object.keys(e.errors)[0],!0):g&&Ro(g[1])&&(x=CL(n,g[0]));let b=g?g[1].statusCode:void 0,w=b&&b>=400,M=x.filter((I,B)=>{let{route:P}=I;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return IC(P,e.loaderData,e.errors);if(DJ(e.loaderData,e.matches[B],I))return!0;let L=e.matches[B],E=I;return RL(I,{currentUrl:S,currentParams:L.params,nextUrl:_,nextParams:E.params,...r,actionResult:y,actionStatus:b,defaultShouldRevalidate:w?!1:o||S.pathname+S.search===_.pathname+_.search||S.search!==_.search||LJ(L,E)})}),C=[];return u.forEach((I,B)=>{if(s||!n.some(U=>U.route.id===I.routeId)||l.has(B))return;let P=Qc(d,I.path,p);if(!P){C.push({key:B,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(B),E=wv(P,I.path),O=!1;f.has(B)?O=!1:a.has(B)?(a.delete(B),O=!0):L&&L.state!=="idle"&&L.data===void 0?O=o:O=RL(E,{currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params,...r,actionResult:y,actionStatus:b,defaultShouldRevalidate:w?!1:o}),O&&C.push({key:B,routeId:I.routeId,path:I.path,matches:P,match:E,controller:new AbortController})}),[M,C]}function IC(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function DJ(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function LJ(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function RL(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function PL(t,e,n,r,i){let s;if(t){let l=r[t];Ln(l,`No route found to patch children into: routeId = ${t}`),l.children||(l.children=[]),s=l.children}else s=n;let o=e.filter(l=>!s.some(u=>d4(l,u))),a=h1(o,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...a)}function d4(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>d4(n,s))}):!1}async function FJ(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ln(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";ji(!l,`Route "${i.id}" has a static property "${o}" defined but its lazy function is also returning a value for this property. The lazy route property "${o}" will be ignored.`),!l&&!iJ.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{...e(i),lazy:void 0})}async function IL(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function OJ(t){return t.matches.some(e=>e.route.unstable_middleware)?kJ(t,!1,()=>IL(t),e=>({[e.routeId]:{type:"error",result:e.error}})):IL(t)}async function kJ(t,e,n,r){let{matches:i,request:s,params:o,context:a}=t,l={handlerResult:void 0,propagateResult:e};try{let u=i.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(p=>[d.route.id,p]):[]),f=await h4({request:s,params:o,context:a},u,l,n);return l.propagateResult?f:l.handlerResult}catch(u){if(!(u instanceof BC))throw u;let f=await r(u);return l.handlerResult?Object.assign(l.handlerResult,f):f}}var BC=class{constructor(t,e){this.routeId=t,this.error=e}};async function h4(t,e,n,r,i=0){let{request:s}=t;if(s.signal.aborted)throw s.signal.reason?s.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${s.method} ${s.url}`);let o=e[i];if(!o)return n.handlerResult=await r(),n.handlerResult;let[a,l]=o,u=!1,f,d=async()=>{if(u)throw new Error("You may only call `next()` once per middleware");u=!0;let p=await h4(t,e,n,r,i+1);if(n.propagateResult)return f=p,f};try{let p=await l({request:t.request,params:t.params,context:t.context},d);return u?p===void 0?f:p:d()}catch(p){throw p instanceof BC?p:new BC(a,p)}}async function UJ(t,e,n,r,i,s,o,a,l,u){let f=i.map(g=>g.route.lazy?FJ(g.route,a,o):void 0);u&&await Promise.all(f);let d=i.map((g,y)=>{let S=f[y],_=r.some(b=>b.route.id===g.route.id);return{...g,shouldLoad:_,resolve:async b=>(b&&n.method==="GET"&&(g.route.lazy||g.route.loader)&&(_=!0),_?NJ(e,n,g,S,b,l):Promise.resolve({type:"data",result:void 0}))}}),p=await t({matches:d,request:n,params:i[0].params,fetcherKey:s,context:l});try{await Promise.all(f)}catch{}return p}async function NJ(t,e,n,r,i,s){let o,a,l=u=>{let f,d=new Promise((y,S)=>f=S);a=()=>f(),e.signal.addEventListener("abort",a);let p=y=>typeof u!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):u({request:e,params:n.params,context:s},...y!==void 0?[y]:[]),g=(async()=>{try{return{type:"data",result:await(i?i(S=>p(S)):p())}}catch(y){return{type:"error",result:y}}})();return Promise.race([g,d])};try{let u=n.route[t];if(r)if(u){let f,[d]=await Promise.all([l(u).catch(p=>{f=p}),r]);if(f!==void 0)throw f;o=d}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let f=new URL(e.url),d=f.pathname+f.search;throw na(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:"data",result:void 0};else if(u)o=await l(u);else{let f=new URL(e.url),d=f.pathname+f.search;throw na(404,{pathname:d})}}catch(u){return{type:"error",result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function zJ(t){var r,i,s,o,a,l;let{result:e,type:n}=t;if(m4(e)){let u;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(f){return{type:"error",error:f}}return n==="error"?{type:"error",error:new m1(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return n==="error"?UL(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new m1(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:dy(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:dy(e)?e.status:void 0}:UL(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function GJ(t,e,n,r,i){let s=t.headers.get("Location");if(Ln(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!MR.test(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=PC(new URL(e.url),o,i,s),t.headers.set("Location",s)}return t}function BL(t,e,n){if(MR.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=ha(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Sp(t,e,n,r){let i=t.createURL(p4(e)).toString(),s={signal:n};if(r&&qa(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=DC(r.formData):s.body=r.formData}return new Request(i,s)}function DC(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function DL(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function HJ(t,e,n,r=!1,i=!1){let s={},o=null,a,l=!1,u={},f=n&&Ro(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let p=d.route.id,g=e[p];if(Ln(!zd(g),"Cannot handle redirect results in processLoaderData"),Ro(g)){let y=g.error;if(f!==void 0&&(y=f,f=void 0),o=o||{},i)o[p]=y;else{let S=Od(t,p);o[S.route.id]==null&&(o[S.route.id]=y)}r||(s[p]=f4),l||(l=!0,a=dy(g.error)?g.error.status:500),g.headers&&(u[p]=g.headers)}else s[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(u[p]=g.headers)}),f!==void 0&&n&&(o={[n[0]]:f},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function LL(t,e,n,r,i,s){let{loaderData:o,errors:a}=HJ(e,n,r);return i.forEach(l=>{let{key:u,match:f,controller:d}=l,p=s[u];if(Ln(p,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Ro(p)){let g=Od(t.matches,f==null?void 0:f.route.id);a&&a[g.route.id]||(a={...a,[g.route.id]:p.error}),t.fetchers.delete(u)}else if(zd(p))Ln(!1,"Unhandled fetcher revalidation redirect");else{let g=Jc(p.data);t.fetchers.set(u,g)}}),{loaderData:o,errors:a}}function FL(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==f4).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function OL(t){return t?Ro(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Od(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function kL(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function na(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&e&&n?a=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a=`Route "${n}" does not match URL "${e}"`):t===404?(o="Not Found",a=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",r&&e&&n?a=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new m1(t||500,o,new Error(a),!0)}function Rx(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(zd(i))return{key:r,result:i}}}function p4(t){let e=typeof t=="string"?Sf(t):t;return df({...e,hash:""})}function VJ(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jJ(t){return m4(t.result)&&CJ.has(t.result.status)}function Ro(t){return t.type==="error"}function zd(t){return(t&&t.type)==="redirect"}function UL(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function m4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function WJ(t){return EJ.has(t.toUpperCase())}function qa(t){return bJ.has(t.toUpperCase())}function ER(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wv(t,e){let n=typeof e=="string"?Sf(e).search:e.search;if(t[t.length-1].route.index&&ER(n||""))return t[t.length-1];let r=l4(t);return r[r.length-1]}function NL(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function MM(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function XJ(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function jg(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qJ(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Jc(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KJ(t,e){try{let n=t.sessionStorage.getItem(c4);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function JJ(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(c4,JSON.stringify(n))}catch(r){ji(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function YJ(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var xh=G.createContext(null);xh.displayName="DataRouter";var e0=G.createContext(null);e0.displayName="DataRouterState";var CR=G.createContext({isTransitioning:!1});CR.displayName="ViewTransition";var g4=G.createContext(new Map);g4.displayName="Fetchers";var $J=G.createContext(null);$J.displayName="Await";var al=G.createContext(null);al.displayName="Navigation";var XS=G.createContext(null);XS.displayName="Location";var ll=G.createContext({outlet:null,matches:[],isDataRoute:!1});ll.displayName="Route";var TR=G.createContext(null);TR.displayName="RouteError";function QJ(t,{relative:e}={}){Ln(km(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=G.useContext(al),{hash:i,pathname:s,search:o}=t0(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:zl([n,s])),r.createHref({pathname:a,search:o,hash:i})}function km(){return G.useContext(XS)!=null}function oc(){return Ln(km(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(XS).location}var v4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y4(t){G.useContext(al).static||G.useLayoutEffect(t)}function RR(){let{isDataRoute:t}=G.useContext(ll);return t?dY():ZJ()}function ZJ(){Ln(km(),"useNavigate() may be used only in the context of a <Router> component.");let t=G.useContext(xh),{basename:e,navigator:n}=G.useContext(al),{matches:r}=G.useContext(ll),{pathname:i}=oc(),s=JSON.stringify(jS(r)),o=G.useRef(!1);return y4(()=>{o.current=!0}),G.useCallback((l,u={})=>{if(ji(o.current,v4),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=WS(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:zl([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,i,t])}var eY=G.createContext(null);function tY(t){let e=G.useContext(ll).outlet;return e&&G.createElement(eY.Provider,{value:t},e)}function t0(t,{relative:e}={}){let{matches:n}=G.useContext(ll),{pathname:r}=oc(),i=JSON.stringify(jS(n));return G.useMemo(()=>WS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function nY(t,e,n,r){Ln(km(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=G.useContext(al),{matches:o}=G.useContext(ll),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",f=a?a.pathnameBase:"/",d=a&&a.route;{let b=d&&d.path||"";_4(u,!d||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let p=oc(),g;g=p;let y=g.pathname||"/",S=y;if(f!=="/"){let b=f.replace(/^\//,"").split("/");S="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let _=!s&&n&&n.matches&&n.matches.length>0?n.matches:Qc(t,{pathname:S});return ji(d||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ji(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),aY(_&&_.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:zl([f,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:zl([f,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r)}function rY(){let t=x4(),e=dy(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:s},"ErrorBoundary")," or"," ",G.createElement("code",{style:s},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:i},n):null,o)}var iY=G.createElement(rY,null),sY=class extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?G.createElement(ll.Provider,{value:this.props.routeContext},G.createElement(TR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oY({routeContext:t,match:e,children:n}){let r=G.useContext(xh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(ll.Provider,{value:t},n)}function aY(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ln(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:f,errors:d}=n,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,f)=>{let d,p=!1,g=null,y=null;n&&(d=s&&u.route.id?s[u.route.id]:void 0,g=u.route.errorElement||iY,o&&(a<0&&f===0?(_4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===f&&(p=!0,y=u.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,f+1)),_=()=>{let x;return d?x=g:p?x=y:u.route.Component?x=G.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=l,G.createElement(oY,{match:u,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?G.createElement(sY,{location:n.location,revalidation:n.revalidation,component:g,error:d,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function PR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lY(t){let e=G.useContext(xh);return Ln(e,PR(t)),e}function uY(t){let e=G.useContext(e0);return Ln(e,PR(t)),e}function cY(t){let e=G.useContext(ll);return Ln(e,PR(t)),e}function IR(t){let e=cY(t),n=e.matches[e.matches.length-1];return Ln(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fY(){return IR("useRouteId")}function x4(){var r;let t=G.useContext(TR),e=uY("useRouteError"),n=IR("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function dY(){let{router:t}=lY("useNavigate"),e=IR("useNavigate"),n=G.useRef(!1);return y4(()=>{n.current=!0}),G.useCallback(async(i,s={})=>{ji(n.current,v4),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var zL={};function _4(t,e,n){!e&&!zL[t]&&(zL[t]=!0,ji(!1,n))}var GL={};function HL(t,e){!t&&!GL[e]&&(GL[e]=!0,console.warn(e))}function hY(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ji(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:G.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ji(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:G.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ji(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:G.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var pY=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function mY({router:t,flushSync:e}){let[n,r]=G.useState(t.state),[i,s]=G.useState(),[o,a]=G.useState({isTransitioning:!1}),[l,u]=G.useState(),[f,d]=G.useState(),[p,g]=G.useState(),y=G.useRef(new Map),S=G.useCallback((w,{deletedFetchers:M,flushSync:C,viewTransitionOpts:I})=>{w.fetchers.forEach((P,L)=>{P.data!==void 0&&y.current.set(L,P.data)}),M.forEach(P=>y.current.delete(P)),HL(C===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(HL(I==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!B){e&&C?e(()=>r(w)):G.startTransition(()=>r(w));return}if(e&&C){e(()=>{f&&(l&&l.resolve(),f.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let P=t.window.document.startViewTransition(()=>{e(()=>r(w))});P.finished.finally(()=>{e(()=>{u(void 0),d(void 0),s(void 0),a({isTransitioning:!1})})}),e(()=>d(P));return}f?(l&&l.resolve(),f.skipTransition(),g({state:w,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(s(w),a({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,e,f,l]);G.useLayoutEffect(()=>t.subscribe(S),[t,S]),G.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new pY)},[o]),G.useEffect(()=>{if(l&&i&&t.window){let w=i,M=l.promise,C=t.window.document.startViewTransition(async()=>{G.startTransition(()=>r(w)),await M});C.finished.finally(()=>{u(void 0),d(void 0),s(void 0),a({isTransitioning:!1})}),d(C)}},[i,l,t.window]),G.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,f,n.location,i]),G.useEffect(()=>{!o.isTransitioning&&p&&(s(p.state),a({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[o.isTransitioning,p]);let _=G.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:w=>t.navigate(w),push:(w,M,C)=>t.navigate(w,{state:M,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(w,M,C)=>t.navigate(w,{replace:!0,state:M,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[t]),x=t.basename||"/",b=G.useMemo(()=>({router:t,navigator:_,static:!1,basename:x}),[t,_,x]);return G.createElement(G.Fragment,null,G.createElement(xh.Provider,{value:b},G.createElement(e0.Provider,{value:n},G.createElement(g4.Provider,{value:y.current},G.createElement(CR.Provider,{value:o},G.createElement(yY,{basename:x,location:n.location,navigationType:n.historyAction,navigator:_},G.createElement(gY,{routes:t.routes,future:t.future,state:n})))))),null)}var gY=G.memo(vY);function vY({routes:t,future:e,state:n}){return nY(t,void 0,n,e)}function Px({to:t,replace:e,state:n,relative:r}){Ln(km(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=G.useContext(al);ji(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=G.useContext(ll),{pathname:o}=oc(),a=RR(),l=WS(t,jS(s),o,r==="path"),u=JSON.stringify(l);return G.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function qS(t){return tY(t.context)}function yY({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ln(!km(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=G.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Sf(n));let{pathname:l="/",search:u="",hash:f="",state:d=null,key:p="default"}=n,g=G.useMemo(()=>{let y=ha(l,o);return y==null?null:{location:{pathname:y,search:u,hash:f,state:d,key:p},navigationType:r}},[o,l,u,f,d,p,r]);return ji(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:G.createElement(al.Provider,{value:a},G.createElement(XS.Provider,{children:e,value:g}))}var J_="get",Y_="application/x-www-form-urlencoded";function KS(t){return t!=null&&typeof t.tagName=="string"}function xY(t){return KS(t)&&t.tagName.toLowerCase()==="button"}function _Y(t){return KS(t)&&t.tagName.toLowerCase()==="form"}function SY(t){return KS(t)&&t.tagName.toLowerCase()==="input"}function AY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wY(t,e){return t.button===0&&(!e||e==="_self")&&!AY(t)}var Ix=null;function bY(){if(Ix===null)try{new FormData(document.createElement("form"),0),Ix=!1}catch{Ix=!0}return Ix}var MY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function EM(t){return t!=null&&!MY.has(t)?(ji(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Y_}"`),null):t}function EY(t,e){let n,r,i,s,o;if(_Y(t)){let a=t.getAttribute("action");r=a?ha(a,e):null,n=t.getAttribute("method")||J_,i=EM(t.getAttribute("enctype"))||Y_,s=new FormData(t)}else if(xY(t)||SY(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ha(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||J_,i=EM(t.getAttribute("formenctype"))||EM(a.getAttribute("enctype"))||Y_,s=new FormData(a,t),!bY()){let{name:u,type:f,value:d}=t;if(f==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,d)}}else{if(KS(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=J_,r=null,i=Y_,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function BR(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function CY(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TY(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RY(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await CY(s,n);return o.links?o.links():[]}return[]}));return DY(r.flat(1).filter(TY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function VL(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var f;return n[u].pathname!==l.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var d;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function PY(t,e,{includeHydrateFallback:n}={}){return IY(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function IY(t){return[...new Set(t)]}function BY(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function DY(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(BY(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function LY(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ha(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function S4(){let t=G.useContext(xh);return BR(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FY(){let t=G.useContext(e0);return BR(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var DR=G.createContext(void 0);DR.displayName="FrameworkContext";function A4(){let t=G.useContext(DR);return BR(t,"You must render this element inside a <HydratedRouter> element"),t}function OY(t,e){let n=G.useContext(DR),[r,i]=G.useState(!1),[s,o]=G.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:d}=e,p=G.useRef(null);G.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=x=>{x.forEach(b=>{o(b.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[t]),G.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let g=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Wg(a,g),onBlur:Wg(l,y),onMouseEnter:Wg(u,g),onMouseLeave:Wg(f,y),onTouchStart:Wg(d,g)}]:[!1,p,{}]}function Wg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kY({page:t,...e}){let{router:n}=S4(),r=G.useMemo(()=>Qc(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?G.createElement(NY,{page:t,matches:r,...e}):null}function UY(t){let{manifest:e,routeModules:n}=A4(),[r,i]=G.useState([]);return G.useEffect(()=>{let s=!1;return RY(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function NY({page:t,matches:e,...n}){let r=oc(),{manifest:i,routeModules:s}=A4(),{basename:o}=S4(),{loaderData:a,matches:l}=FY(),u=G.useMemo(()=>VL(t,e,l,i,r,"data"),[t,e,l,i,r]),f=G.useMemo(()=>VL(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=G.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,S=!1;if(e.forEach(x=>{var w;let b=i.routes[x.route.id];!b||!b.hasLoader||(!u.some(M=>M.route.id===x.route.id)&&x.route.id in a&&((w=s[x.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?S=!0:y.add(x.route.id))}),y.size===0)return[];let _=LY(t,o);return S&&y.size>0&&_.searchParams.set("_routes",e.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[_.pathname+_.search]},[o,a,r,i,u,e,t,s]),p=G.useMemo(()=>PY(f,i),[f,i]),g=UY(f);return G.createElement(G.Fragment,null,d.map(y=>G.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>G.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),g.map(({key:y,link:S})=>G.createElement("link",{key:y,...S})))}function zY(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w4&&(window.__reactRouterVersion="7.3.0")}catch{}function GY(t,e){return IJ({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:tJ({window:e==null?void 0:e.window}),hydrationData:HY(),routes:t,mapRouteProperties:hY,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function HY(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:VY(t.errors)}),t}function VY(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new m1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var b4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JS=G.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:d,...p},g){let{basename:y}=G.useContext(al),S=typeof u=="string"&&b4.test(u),_,x=!1;if(typeof u=="string"&&S&&(_=u,w4))try{let L=new URL(window.location.href),E=u.startsWith("//")?new URL(L.protocol+u):new URL(u),O=ha(E.pathname,y);E.origin===L.origin&&O!=null?u=O+E.search+E.hash:x=!0}catch{ji(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=QJ(u,{relative:i}),[w,M,C]=OY(r,p),I=qY(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:d});function B(L){e&&e(L),L.defaultPrevented||I(L)}let P=G.createElement("a",{...p,...C,href:_||b,onClick:x||s?e:B,ref:zY(g,M),target:l,"data-discover":!S&&n==="render"?"true":void 0});return w&&!S?G.createElement(G.Fragment,null,P,G.createElement(kY,{page:b})):P});JS.displayName="Link";var jY=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},f){let d=t0(o,{relative:u.relative}),p=oc(),g=G.useContext(e0),{navigator:y,basename:S}=G.useContext(al),_=g!=null&&QY(d)&&a===!0,x=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,b=p.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&S&&(w=ha(w,S)||w);const M=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=b===x||!i&&b.startsWith(x)&&b.charAt(M)==="/",I=w!=null&&(w===x||!i&&w.startsWith(x)&&w.charAt(x.length)==="/"),B={isActive:C,isPending:I,isTransitioning:_},P=C?e:void 0,L;typeof r=="function"?L=r(B):L=[r,C?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(B):s;return G.createElement(JS,{...u,"aria-current":P,className:L,ref:f,style:E,to:o,viewTransition:a},typeof l=="function"?l(B):l)});jY.displayName="NavLink";var WY=G.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=J_,action:a,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:d,...p},g)=>{let y=YY(),S=$Y(a,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&b4.test(a),b=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let M=w.nativeEvent.submitter,C=(M==null?void 0:M.getAttribute("formmethod"))||o;y(M||w.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:d})};return G.createElement("form",{ref:g,method:_,action:S,onSubmit:r?l:b,...p,"data-discover":!x&&t==="render"?"true":void 0})});WY.displayName="Form";function XY(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M4(t){let e=G.useContext(xh);return Ln(e,XY(t)),e}function qY(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=RR(),l=oc(),u=t0(t,{relative:s});return G.useCallback(f=>{if(wY(f,e)){f.preventDefault();let d=n!==void 0?n:df(l)===df(u);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var KY=0,JY=()=>`__${String(++KY)}__`;function YY(){let{router:t}=M4("useSubmit"),{basename:e}=G.useContext(al),n=fY();return G.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=EY(r,e);if(i.navigate===!1){let f=i.fetcherKey||JY();await t.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function $Y(t,{relative:e}={}){let{basename:n}=G.useContext(al),r=G.useContext(ll);Ln(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...t0(t||".",{relative:e})},o=oc();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let f=a.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:zl([n,s.pathname])),df(s)}function QY(t,e={}){let n=G.useContext(CR);Ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=M4("useViewTransitionState"),i=t0(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ha(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ha(n.nextLocation.pathname,r)||n.nextLocation.pathname;return p1(i.pathname,o)!=null||p1(i.pathname,s)!=null}new TextEncoder;/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ZY(t){return G.createElement(mY,{flushSync:cR.flushSync,...t})}function e$(){const t=x4();return console.error(t),V.jsxs("div",{id:"error-page",children:[V.jsx("h1",{children:"Oops!"}),V.jsx("p",{children:"Sorry, an unexpected error has occurred."}),V.jsx("p",{children:V.jsx("i",{children:t.statusText||t.message})})]})}const Yr=({variant:t="h1",dividerVariant:e="dashed",children:n,...r})=>V.jsxs(an,{variant:t,...r,sx:{mb:0,display:"flex",flexDirection:"column",...r.sx},children:[n,V.jsx(xm,{sx:{borderBottomWidth:"0.08em",borderStyle:e,mt:"0.1em",mb:"0.2em"}})]}),t$=()=>V.jsxs(V.Fragment,{children:[V.jsx(Yr,{variant:"h1",children:"Hi there!"}),V.jsx(an,{children:"Welcome to my professional portfolio website, dedicated to showcasing my skills and expertise as a Middle Frontend(React) Developer from Ukraine. I bring four years of valuable commercial experience, honing my skills and delivering successful projects in the ever-evolving tech industry."}),V.jsx(an,{children:"Additionally, I possess a sufficient understanding of .NET Core and Express.js, allowing me to leverage their power in developing robust web applications. Inspired by the elegance of minimalism, I strive to create digital experiences that are both visually captivating and functionally seamless. In this portfolio, you'll find a curated collection of my most notable projects. By leveraging the latest tools and frameworks, I strive to deliver innovative and cutting-edge solutions that drive your business forward."}),V.jsx(an,{children:"Collaboration is at the heart of my work philosophy. I firmly believe that the best results are achieved through open communication, teamwork, and a shared passion for innovation."}),V.jsx(an,{children:"Thank you for visiting my portfolio website. If you're interested in collaborating, have a project in mind, or simply want to connect, don't hesitate to reach out."}),V.jsxs(an,{variant:"caption",children:["P.S. This text was written without using AI",V.jsx("br",{}),"P.S.2. But there is no assurance =)"]})]}),ad=({to:t,text:e,typographyVariant:n="h1",paddingMultiplier:r=0,...i})=>V.jsx(zN,{disablePadding:!0,sx:{pl:r*6},...i,children:V.jsx(UN,{component:JS,to:t,children:V.jsx(GN,{disableTypography:!0,children:V.jsx(an,{variant:n,sx:{marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0},children:e})})})}),n$=zo(V.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),r$=zo(V.jsx("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"}),"LinkedIn"),i$=zo(V.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),s$=zo(V.jsx("path",{d:"M20 15.31 23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness6"),o$=zo(V.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),a$=zo(V.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),l$=zo(V.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),u$={menu:n$,linkedin:r$,github:i$,theme:s$,email:l$,"expand-less":o$,"expand-more":a$},Gs=({icon:t,...e})=>{const n=u$[t];return V.jsx(n,{...e})},jL=({title:t,children:e,defaultOpened:n=!1,paddingMultiplier:r=0,typographyVariant:i="h1",...s})=>{const[o,a]=G.useState(n);return V.jsxs(V.Fragment,{children:[V.jsx(zN,{disablePadding:!0,sx:{pl:r*6},onClick:()=>a(!o),...s,children:V.jsx(UN,{children:V.jsx(GN,{disableTypography:!0,children:V.jsxs(an,{variant:i,sx:{display:"flex",alignItems:"center",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0},children:[t,V.jsx(Gs,{icon:o?"expand-less":"expand-more",fontSize:"large",sx:{ml:"auto"}})]})})})}),V.jsx(AC,{in:o,children:e})]})};function is(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var c$=typeof Symbol=="function"&&Symbol.observable||"@@observable",WL=c$,CM=()=>Math.random().toString(36).substring(7).split("").join("."),f$={INIT:`@@redux/INIT${CM()}`,REPLACE:`@@redux/REPLACE${CM()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${CM()}`},g1=f$;function hf(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function E4(t,e,n){if(typeof t!="function")throw new Error(is(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(is(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(is(1));return n(E4)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((_,x)=>{o.set(x,_)}))}function f(){if(l)throw new Error(is(3));return i}function d(_){if(typeof _!="function")throw new Error(is(4));if(l)throw new Error(is(5));let x=!0;u();const b=a++;return o.set(b,_),function(){if(x){if(l)throw new Error(is(6));x=!1,u(),o.delete(b),s=null}}}function p(_){if(!hf(_))throw new Error(is(7));if(typeof _.type>"u")throw new Error(is(8));if(typeof _.type!="string")throw new Error(is(17));if(l)throw new Error(is(9));try{l=!0,i=r(i,_)}finally{l=!1}return(s=o).forEach(b=>{b()}),_}function g(_){if(typeof _!="function")throw new Error(is(10));r=_,p({type:g1.REPLACE})}function y(){const _=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(is(11));function b(){const M=x;M.next&&M.next(f())}return b(),{unsubscribe:_(b)}},[WL](){return this}}}return p({type:g1.INIT}),{dispatch:p,subscribe:d,getState:f,replaceReducer:g,[WL]:y}}function d$(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:g1.INIT})>"u")throw new Error(is(12));if(typeof n(void 0,{type:g1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(is(13))})}function LR(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{d$(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let f=0;f<r.length;f++){const d=r[f],p=n[d],g=o[d],y=p(g,a);if(typeof y>"u")throw a&&a.type,new Error(is(14));u[d]=y,l=l||y!==g}return l=l||r.length!==Object.keys(o).length,l?u:o}}function v1(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function h$(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(is(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=v1(...a)(i.dispatch),{...i,dispatch:s}}}function C4(t){return hf(t)&&"type"in t&&typeof t.type=="string"}var FR=Symbol.for("immer-nothing"),Lv=Symbol.for("immer-draftable"),mo=Symbol.for("immer-state");function ls(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var oh=Object.getPrototypeOf;function ql(t){return!!t&&!!t[mo]}function rl(t){var e;return t?T4(t)||Array.isArray(t)||!!t[Lv]||!!((e=t.constructor)!=null&&e[Lv])||n0(t)||r0(t):!1}var p$=Object.prototype.constructor.toString();function T4(t){if(!t||typeof t!="object")return!1;const e=oh(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===p$}function m$(t){return ql(t)||ls(15,t),t[mo].base_}function hy(t,e){ah(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function ah(t){const e=t[mo];return e?e.type_:Array.isArray(t)?1:n0(t)?2:r0(t)?3:0}function py(t,e){return ah(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function TM(t,e){return ah(t)===2?t.get(e):t[e]}function R4(t,e,n){const r=ah(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function g$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function n0(t){return t instanceof Map}function r0(t){return t instanceof Set}function Cd(t){return t.copy_||t.base_}function LC(t,e){if(n0(t))return new Map(t);if(r0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=T4(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mo];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(oh(t),r)}else{const r=oh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function OR(t,e=!1){return YS(t)||ql(t)||!rl(t)||(ah(t)>1&&(t.set=t.add=t.clear=t.delete=v$),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>OR(r,!0))),t}function v$(){ls(2)}function YS(t){return Object.isFrozen(t)}var FC={};function lh(t){const e=FC[t];return e||ls(0,t),e}function y$(t,e){FC[t]||(FC[t]=e)}var my;function P4(){return my}function x$(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XL(t,e){e&&(lh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function OC(t){kC(t),t.drafts_.forEach(_$),t.drafts_=null}function kC(t){t===my&&(my=t.parent_)}function qL(t){return my=x$(my,t)}function _$(t){const e=t[mo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function KL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mo].modified_&&(OC(e),ls(4)),rl(t)&&(t=y1(e,t),e.parent_||x1(e,t)),e.patches_&&lh("Patches").generateReplacementPatches_(n[mo].base_,t,e.patches_,e.inversePatches_)):t=y1(e,n,[]),OC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==FR?t:void 0}function y1(t,e,n){if(YS(e))return e;const r=e[mo];if(!r)return hy(e,(i,s)=>JL(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return x1(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),hy(s,(a,l)=>JL(t,r,i,a,l,n,o)),x1(t,i,!1),n&&t.patches_&&lh("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function JL(t,e,n,r,i,s,o){if(ql(i)){const a=s&&e&&e.type_!==3&&!py(e.assigned_,r)?s.concat(r):void 0,l=y1(t,i,a);if(R4(n,r,l),ql(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(rl(i)&&!YS(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;y1(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&x1(t,i)}}function x1(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&OR(e,n)}function S$(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:P4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=kR;n&&(i=[r],s=gy);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var kR={get(t,e){if(e===mo)return t;const n=Cd(t);if(!py(n,e))return A$(t,n,e);const r=n[e];return t.finalized_||!rl(r)?r:r===RM(t.base_,e)?(PM(t),t.copy_[e]=NC(r,t)):r},has(t,e){return e in Cd(t)},ownKeys(t){return Reflect.ownKeys(Cd(t))},set(t,e,n){const r=I4(Cd(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=RM(Cd(t),e),s=i==null?void 0:i[mo];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(g$(n,i)&&(n!==void 0||py(t.base_,e)))return!0;PM(t),UC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return RM(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,PM(t),UC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Cd(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ls(11)},getPrototypeOf(t){return oh(t.base_)},setPrototypeOf(){ls(12)}},gy={};hy(kR,(t,e)=>{gy[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gy.deleteProperty=function(t,e){return gy.set.call(this,t,e,void 0)};gy.set=function(t,e,n){return kR.set.call(this,t[0],e,n,t[0])};function RM(t,e){const n=t[mo];return(n?Cd(n):t)[e]}function A$(t,e,n){var i;const r=I4(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function I4(t,e){if(!(e in t))return;let n=oh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=oh(n)}}function UC(t){t.modified_||(t.modified_=!0,t.parent_&&UC(t.parent_))}function PM(t){t.copy_||(t.copy_=LC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var w$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,f=>n.call(this,f,...u))}}typeof n!="function"&&ls(6),r!==void 0&&typeof r!="function"&&ls(7);let i;if(rl(e)){const s=qL(this),o=NC(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?OC(s):kC(s)}return XL(s,r),KL(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===FR&&(i=void 0),this.autoFreeze_&&OR(i,!0),r){const s=[],o=[];lh("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else ls(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){rl(t)||ls(8),ql(t)&&(t=b$(t));const e=qL(this),n=NC(t,void 0);return n[mo].isManual_=!0,kC(e),n}finishDraft(t,e){const n=t&&t[mo];(!n||!n.isManual_)&&ls(9);const{scope_:r}=n;return XL(r,e),KL(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=lh("Patches").applyPatches_;return ql(t)?r(t,e):this.produce(t,i=>r(i,e))}};function NC(t,e){const n=n0(t)?lh("MapSet").proxyMap_(t,e):r0(t)?lh("MapSet").proxySet_(t,e):S$(t,e);return(e?e.scope_:P4()).drafts_.push(n),n}function b$(t){return ql(t)||ls(10,t),B4(t)}function B4(t){if(!rl(t)||YS(t))return t;const e=t[mo];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=LC(t,e.scope_.immer_.useStrictShallowCopy_)}else n=LC(t,!0);return hy(n,(r,i)=>{R4(n,r,B4(i))}),e&&(e.finalized_=!1),n}function M$(){const e="replace",n="add",r="remove";function i(p,g,y,S){switch(p.type_){case 0:case 2:return o(p,g,y,S);case 1:return s(p,g,y,S);case 3:return a(p,g,y,S)}}function s(p,g,y,S){let{base_:_,assigned_:x}=p,b=p.copy_;b.length<_.length&&([_,b]=[b,_],[y,S]=[S,y]);for(let w=0;w<_.length;w++)if(x[w]&&b[w]!==_[w]){const M=g.concat([w]);y.push({op:e,path:M,value:d(b[w])}),S.push({op:e,path:M,value:d(_[w])})}for(let w=_.length;w<b.length;w++){const M=g.concat([w]);y.push({op:n,path:M,value:d(b[w])})}for(let w=b.length-1;_.length<=w;--w){const M=g.concat([w]);S.push({op:r,path:M})}}function o(p,g,y,S){const{base_:_,copy_:x}=p;hy(p.assigned_,(b,w)=>{const M=TM(_,b),C=TM(x,b),I=w?py(_,b)?e:n:r;if(M===C&&I===e)return;const B=g.concat(b);y.push(I===r?{op:I,path:B}:{op:I,path:B,value:C}),S.push(I===n?{op:r,path:B}:I===r?{op:n,path:B,value:d(M)}:{op:e,path:B,value:d(M)})})}function a(p,g,y,S){let{base_:_,copy_:x}=p,b=0;_.forEach(w=>{if(!x.has(w)){const M=g.concat([b]);y.push({op:r,path:M,value:w}),S.unshift({op:n,path:M,value:w})}b++}),b=0,x.forEach(w=>{if(!_.has(w)){const M=g.concat([b]);y.push({op:n,path:M,value:w}),S.unshift({op:r,path:M,value:w})}b++})}function l(p,g,y,S){y.push({op:e,path:[],value:g===FR?void 0:g}),S.push({op:e,path:[],value:p})}function u(p,g){return g.forEach(y=>{const{path:S,op:_}=y;let x=p;for(let C=0;C<S.length-1;C++){const I=ah(x);let B=S[C];typeof B!="string"&&typeof B!="number"&&(B=""+B),(I===0||I===1)&&(B==="__proto__"||B==="constructor")&&ls(19),typeof x=="function"&&B==="prototype"&&ls(19),x=TM(x,B),typeof x!="object"&&ls(18,S.join("/"))}const b=ah(x),w=f(y.value),M=S[S.length-1];switch(_){case e:switch(b){case 2:return x.set(M,w);case 3:ls(16);default:return x[M]=w}case n:switch(b){case 1:return M==="-"?x.push(w):x.splice(M,0,w);case 2:return x.set(M,w);case 3:return x.add(w);default:return x[M]=w}case r:switch(b){case 1:return x.splice(M,1);case 2:return x.delete(M);case 3:return x.delete(y.value);default:return delete x[M]}default:ls(17,_)}}),p}function f(p){if(!rl(p))return p;if(Array.isArray(p))return p.map(f);if(n0(p))return new Map(Array.from(p.entries()).map(([y,S])=>[y,f(S)]));if(r0(p))return new Set(Array.from(p).map(f));const g=Object.create(oh(p));for(const y in p)g[y]=f(p[y]);return py(p,Lv)&&(g[Lv]=p[Lv]),g}function d(p){return ql(p)?f(p):p}y$("Patches",{applyPatches_:u,generatePatches_:i,generateReplacementPatches_:l})}var ko=new w$,i0=ko.produce,D4=ko.produceWithPatches.bind(ko);ko.setAutoFreeze.bind(ko);ko.setUseStrictShallowCopy.bind(ko);var YL=ko.applyPatches.bind(ko);ko.createDraft.bind(ko);ko.finishDraft.bind(ko);function E$(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function C$(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function T$(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var $L=t=>Array.isArray(t)?t:[t];function R$(t){const e=Array.isArray(t[0])?t[0]:t;return T$(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function P$(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var I$=class{constructor(t){this.value=t}deref(){return this.value}},B$=typeof WeakRef<"u"?WeakRef:I$,D$=0,QL=1;function Bx(){return{s:D$,v:void 0,o:null,p:null}}function _1(t,e={}){let n=Bx();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let p=0,g=l;p<g;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let S=a.o;S===null&&(a.o=S=new WeakMap);const _=S.get(y);_===void 0?(a=Bx(),S.set(y,a)):a=_}else{let S=a.p;S===null&&(a.p=S=new Map);const _=S.get(y);_===void 0?(a=Bx(),S.set(y,a)):a=_}}const u=a;let f;if(a.s===QL)f=a.v;else if(f=t.apply(null,arguments),s++,r){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&r(p,f)&&(f=p,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new B$(f):f}return u.s=QL,u.v=f,f}return o.clearCache=()=>{n=Bx(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function L$(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),E$(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const f={...n,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:g=_1,argsMemoizeOptions:y=[]}=f,S=$L(p),_=$L(y),x=R$(i),b=d(function(){return s++,u.apply(null,arguments)},...S),w=g(function(){o++;const C=P$(x,arguments);return a=b.apply(null,C),a},..._);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var UR=L$(_1),F$=Object.assign((t,e=UR)=>{C$(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>F$});function L4(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var O$=L4(),k$=L4,U$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?v1:v1.apply(null,arguments)},N$=t=>t&&typeof t.match=="function";function Za(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(el(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>C4(r)&&r.type===t,n}var F4=class bv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,bv.prototype)}static get[Symbol.species](){return bv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new bv(...e[0].concat(this)):new bv(...e.concat(this))}};function ZL(t){return rl(t)?i0(t,()=>{}):t}function e3(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function z$(t){return typeof t=="boolean"}var G$=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new F4;return n&&(z$(n)?o.push(O$):o.push(k$(n.extraArgument))),o},$S="RTK_autoBatch",Xg=()=>t=>({payload:t,meta:{[$S]:!0}}),t3=t=>e=>{setTimeout(e,t)},H$=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:t3(10):t.type==="callback"?t.queueNotification:t3(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const d=()=>i&&f(),p=r.subscribe(d);return a.add(f),()=>{p(),a.delete(f)}},dispatch(f){var d;try{return i=!((d=f==null?void 0:f.meta)!=null&&d[$S]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(f)}finally{i=!0}}})},V$=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new F4(t);return r&&i.push(H$(typeof r=="object"?r:void 0)),i};function j$(t){const e=G$(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(hf(n))a=LR(n);else throw new Error(el(1));let l;typeof r=="function"?l=r(e):l=e();let u=v1;i&&(u=U$({trace:!1,...typeof i=="object"&&i}));const f=h$(...l),d=V$(f);let p=typeof o=="function"?o(d):d();const g=u(...p);return E4(a,s,g)}function O4(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(el(28));if(a in e)throw new Error(el(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function W$(t){return typeof t=="function"}function X$(t,e){let[n,r,i]=O4(e),s;if(W$(t))s=()=>ZL(t());else{const a=ZL(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[i]),u.reduce((f,d)=>{if(d)if(ql(f)){const g=d(f,l);return g===void 0?f:g}else{if(rl(f))return i0(f,p=>d(p,l));{const p=d(f,l);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},a)}return o.getInitialState=s,o}var k4=(t,e)=>N$(t)?t.match(e):t(e);function $u(...t){return e=>t.some(n=>k4(n,e))}function Fv(...t){return e=>t.every(n=>k4(n,e))}function QS(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function s0(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function NR(...t){return t.length===0?e=>QS(e,["pending"]):s0(t)?$u(...t.map(e=>e.pending)):NR()(t[0])}function _m(...t){return t.length===0?e=>QS(e,["rejected"]):s0(t)?$u(...t.map(e=>e.rejected)):_m()(t[0])}function ZS(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?Fv(_m(...t),e):s0(t)?Fv(_m(...t),e):ZS()(t[0])}function pf(...t){return t.length===0?e=>QS(e,["fulfilled"]):s0(t)?$u(...t.map(e=>e.fulfilled)):pf()(t[0])}function zC(...t){return t.length===0?e=>QS(e,["pending","fulfilled","rejected"]):s0(t)?$u(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):zC()(t[0])}var q$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zR=(t=21)=>{let e="",n=t;for(;n--;)e+=q$[Math.random()*64|0];return e},K$=["name","message","stack","code"],IM=class{constructor(t,e){sd(this,"_type");this.payload=t,this.meta=e}},n3=class{constructor(t,e){sd(this,"_type");this.payload=t,this.meta=e}},J$=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of K$)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},r3="External signal was aborted",i3=(()=>{function t(e,n,r){const i=Za(e+"/fulfilled",(l,u,f,d)=>({payload:l,meta:{...d||{},arg:f,requestId:u,requestStatus:"fulfilled"}})),s=Za(e+"/pending",(l,u,f)=>({payload:void 0,meta:{...f||{},arg:u,requestId:l,requestStatus:"pending"}})),o=Za(e+"/rejected",(l,u,f,d,p)=>({payload:d,error:(r&&r.serializeError||J$)(l||"Rejected"),meta:{...p||{},arg:f,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l,{signal:u}={}){return(f,d,p)=>{const g=r!=null&&r.idGenerator?r.idGenerator(l):zR(),y=new AbortController;let S,_;function x(w){_=w,y.abort()}u&&(u.aborted?x(r3):u.addEventListener("abort",()=>x(r3),{once:!0}));const b=async function(){var C,I;let w;try{let B=(C=r==null?void 0:r.condition)==null?void 0:C.call(r,l,{getState:d,extra:p});if($$(B)&&(B=await B),B===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const P=new Promise((L,E)=>{S=()=>{E({name:"AbortError",message:_||"Aborted"})},y.signal.addEventListener("abort",S)});f(s(g,l,(I=r==null?void 0:r.getPendingMeta)==null?void 0:I.call(r,{requestId:g,arg:l},{getState:d,extra:p}))),w=await Promise.race([P,Promise.resolve(n(l,{dispatch:f,getState:d,extra:p,requestId:g,signal:y.signal,abort:x,rejectWithValue:(L,E)=>new IM(L,E),fulfillWithValue:(L,E)=>new n3(L,E)})).then(L=>{if(L instanceof IM)throw L;return L instanceof n3?i(L.payload,g,l,L.meta):i(L,g,l)})])}catch(B){w=B instanceof IM?o(null,g,l,B.payload,B.meta):o(B,g,l)}finally{S&&y.signal.removeEventListener("abort",S)}return r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition||f(w),w}();return Object.assign(b,{abort:x,requestId:g,arg:l,unwrap(){return b.then(Y$)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:$u(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function Y$(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function $$(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Q$=Symbol.for("rtk-slice-createasyncthunk");function Z$(t,e){return`${t}/${e}`}function eQ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Q$];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(el(11));const a=(typeof i.reducers=="function"?i.reducers(nQ()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(w,M){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(el(12));if(C in u.sliceCaseReducersByType)throw new Error(el(13));return u.sliceCaseReducersByType[C]=M,f},addMatcher(w,M){return u.sliceMatchers.push({matcher:w,reducer:M}),f},exposeAction(w,M){return u.actionCreators[w]=M,f},exposeCaseReducer(w,M){return u.sliceCaseReducersByName[w]=M,f}};l.forEach(w=>{const M=a[w],C={reducerName:w,type:Z$(s,w),createNotation:typeof i.reducers=="function"};iQ(M)?oQ(C,M,f,e):rQ(C,M,f)});function d(){const[w={},M=[],C=void 0]=typeof i.extraReducers=="function"?O4(i.extraReducers):[i.extraReducers],I={...w,...u.sliceCaseReducersByType};return X$(i.initialState,B=>{for(let P in I)B.addCase(P,I[P]);for(let P of u.sliceMatchers)B.addMatcher(P.matcher,P.reducer);for(let P of M)B.addMatcher(P.matcher,P.reducer);C&&B.addDefaultCase(C)})}const p=w=>w,g=new Map;let y;function S(w,M){return y||(y=d()),y(w,M)}function _(){return y||(y=d()),y.getInitialState()}function x(w,M=!1){function C(B){let P=B[w];return typeof P>"u"&&M&&(P=_()),P}function I(B=p){const P=e3(g,M,()=>new WeakMap);return e3(P,B,()=>{const L={};for(const[E,O]of Object.entries(i.selectors??{}))L[E]=tQ(O,B,_,M);return L})}return{reducerPath:w,getSelectors:I,get selectors(){return I(C)},selectSlice:C}}const b={name:s,reducer:S,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...x(o),injectInto(w,{reducerPath:M,...C}={}){const I=M??o;return w.inject({reducerPath:I,reducer:S},C),{...b,...x(I,!0)}}};return b}}function tQ(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var Td=eQ();function nQ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function rQ({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!sQ(r))throw new Error(el(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Za(t,o):Za(t))}function iQ(t){return t._reducerDefinitionType==="asyncThunk"}function sQ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function oQ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(el(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:f}=n,d=i(t,s,f);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Dx,pending:a||Dx,rejected:l||Dx,settled:u||Dx})}function Dx(){}function el(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var BM={exports:{}},DM={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3;function aQ(){if(s3)return DM;s3=1;var t=Wy();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,a=t.useDebugValue;return DM.useSyncExternalStoreWithSelector=function(l,u,f,d,p){var g=i(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=o(function(){function _(C){if(!x){if(x=!0,b=C,C=d(C),p!==void 0&&y.hasValue){var I=y.value;if(p(I,C))return w=I}return w=C}if(I=w,n(b,C))return I;var B=d(C);return p!==void 0&&p(I,B)?(b=C,I):(b=C,w=B)}var x=!1,b,w,M=f===void 0?null:f;return[function(){return _(u())},M===null?void 0:function(){return _(M())}]},[u,f,d,p]);var S=r(l,g[0],g[1]);return s(function(){y.hasValue=!0,y.value=S},[S]),a(S),S},DM}var o3;function lQ(){return o3||(o3=1,BM.exports=aQ()),BM.exports}var uQ=lQ(),cQ=G.version.startsWith("19"),fQ=Symbol.for(cQ?"react.transitional.element":"react.element"),dQ=Symbol.for("react.portal"),hQ=Symbol.for("react.fragment"),pQ=Symbol.for("react.strict_mode"),mQ=Symbol.for("react.profiler"),gQ=Symbol.for("react.consumer"),vQ=Symbol.for("react.context"),U4=Symbol.for("react.forward_ref"),yQ=Symbol.for("react.suspense"),xQ=Symbol.for("react.suspense_list"),GR=Symbol.for("react.memo"),_Q=Symbol.for("react.lazy"),SQ=U4,AQ=GR;function wQ(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case fQ:switch(t=t.type,t){case hQ:case mQ:case pQ:case yQ:case xQ:return t;default:switch(t=t&&t.$$typeof,t){case vQ:case U4:case _Q:case GR:return t;case gQ:return t;default:return e}}case dQ:return e}}}function bQ(t){return wQ(t)===GR}function MQ(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,u,f,d,p;function g(b,w){return l=b,u=w,f=t(l,u),d=e(r,u),p=n(f,d,u),a=!0,p}function y(){return f=t(l,u),e.dependsOnOwnProps&&(d=e(r,u)),p=n(f,d,u),p}function S(){return t.dependsOnOwnProps&&(f=t(l,u)),e.dependsOnOwnProps&&(d=e(r,u)),p=n(f,d,u),p}function _(){const b=t(l,u),w=!o(b,f);return f=b,w&&(p=n(f,d,u)),p}function x(b,w){const M=!s(w,u),C=!i(b,l,w,u);return l=b,u=w,M&&C?y():M?S():C?_():p}return function(w,M){return a?x(w,M):g(w,M)}}function EQ(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=e(t,i),o=n(t,i),a=r(t,i);return MQ(s,o,a,t,i)}function CQ(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...s)=>e(i(...s)))}return n}function GC(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function a3(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function N4(t,e){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=a3(t);let u=s(a,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=a3(u),u=s(a,l)),u},s}}function HR(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function TQ(t){return t&&typeof t=="object"?GC(e=>CQ(t,e)):t?typeof t=="function"?N4(t):HR(t,"mapDispatchToProps"):GC(e=>({dispatch:e}))}function RQ(t){return t?typeof t=="function"?N4(t):HR(t,"mapStateToProps"):GC(()=>({}))}function PQ(t,e,n){return{...n,...t,...e}}function IQ(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,u,f){const d=t(l,u,f);return s?i(d,o)||(o=d):(s=!0,o=d),o}}}function BQ(t){return t?typeof t=="function"?IQ(t):HR(t,"mergeProps"):()=>PQ}function z4(t){t()}function DQ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){z4(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var l3={notify(){},get:()=>[]};function G4(t,e){let n,r=l3,i=0,s=!1;function o(S){f();const _=r.subscribe(S);let x=!1;return()=>{x||(x=!0,_(),d())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return s}function f(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=DQ())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=l3)}function p(){s||(s=!0,f())}function g(){s&&(s=!1,d())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return y}var LQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FQ=LQ(),OQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kQ=OQ(),UQ=()=>FQ||kQ?G.useLayoutEffect:G.useEffect,S1=UQ();function u3(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function af(t,e){if(u3(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!u3(t[n[i]],e[n[i]]))return!1;return!0}var NQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},GQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},H4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},HQ={[SQ]:GQ,[AQ]:H4};function c3(t){return bQ(t)?H4:HQ[t.$$typeof]||NQ}var VQ=Object.defineProperty,jQ=Object.getOwnPropertyNames,f3=Object.getOwnPropertySymbols,WQ=Object.getOwnPropertyDescriptor,XQ=Object.getPrototypeOf,d3=Object.prototype;function HC(t,e){if(typeof e!="string"){if(d3){const s=XQ(e);s&&s!==d3&&HC(t,s)}let n=jQ(e);f3&&(n=n.concat(f3(e)));const r=c3(t),i=c3(e);for(let s=0;s<n.length;++s){const o=n[s];if(!zQ[o]&&!(i&&i[o])&&!(r&&r[o])){const a=WQ(e,o);try{VQ(t,o,a)}catch{}}}}return t}var LM=Symbol.for("react-redux-context"),FM=typeof globalThis<"u"?globalThis:{};function qQ(){if(!G.createContext)return{};const t=FM[LM]??(FM[LM]=new Map);let e=t.get(G.createContext);return e||(e=G.createContext(null),t.set(G.createContext,e)),e}var Qu=qQ(),KQ=[null,null];function JQ(t,e,n){S1(()=>t(...e),n)}function YQ(t,e,n,r,i,s){t.current=r,n.current=!1,i.current&&(i.current=null,s())}function $Q(t,e,n,r,i,s,o,a,l,u,f){if(!t)return()=>{};let d=!1,p=null;const g=()=>{if(d||!a.current)return;const S=e.getState();let _,x;try{_=r(S,i.current)}catch(b){x=b,p=b}x||(p=null),_===s.current?o.current||u():(s.current=_,l.current=_,o.current=!0,f())};return n.onStateChange=g,n.trySubscribe(),g(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function QQ(t,e){return t===e}function ZQ(t,e,n,{pure:r,areStatesEqual:i=QQ,areOwnPropsEqual:s=af,areStatePropsEqual:o=af,areMergedPropsEqual:a=af,forwardRef:l=!1,context:u=Qu}={}){const f=u,d=RQ(t),p=TQ(e),g=BQ(n),y=!!t;return _=>{const x=_.displayName||_.name||"Component",b=`Connect(${x})`,w={shouldHandleStateChanges:y,displayName:b,wrappedComponentName:x,WrappedComponent:_,initMapStateToProps:d,initMapDispatchToProps:p,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function M(B){const[P,L,E]=G.useMemo(()=>{const{reactReduxForwardedRef:xe,...Te}=B;return[B.context,xe,Te]},[B]),O=G.useMemo(()=>{let xe=f;return P!=null&&P.Consumer,xe},[P,f]),U=G.useContext(O),H=!!B.store&&!!B.store.getState&&!!B.store.dispatch,q=!!U&&!!U.store,te=H?B.store:U.store,$=q?U.getServerState:te.getState,ie=G.useMemo(()=>EQ(te.dispatch,w),[te]),[W,Y]=G.useMemo(()=>{if(!y)return KQ;const xe=G4(te,H?void 0:U.subscription),Te=xe.notifyNestedSubs.bind(xe);return[xe,Te]},[te,H,U]),Q=G.useMemo(()=>H?U:{...U,subscription:W},[H,U,W]),z=G.useRef(void 0),K=G.useRef(E),ae=G.useRef(void 0),Z=G.useRef(!1),se=G.useRef(!1),oe=G.useRef(void 0);S1(()=>(se.current=!0,()=>{se.current=!1}),[]);const ue=G.useMemo(()=>()=>ae.current&&E===K.current?ae.current:ie(te.getState(),E),[te,E]),ve=G.useMemo(()=>Te=>W?$Q(y,te,W,ie,K,z,Z,se,ae,Y,Te):()=>{},[W]);JQ(YQ,[K,z,Z,E,ae,Y]);let Be;try{Be=G.useSyncExternalStore(ve,ue,$?()=>ie($(),E):ue)}catch(xe){throw oe.current&&(xe.message+=`
The error may be correlated with this previous error:
${oe.current.stack}

`),xe}S1(()=>{oe.current=void 0,ae.current=void 0,z.current=Be});const Le=G.useMemo(()=>G.createElement(_,{...Be,ref:L}),[L,_,Be]);return G.useMemo(()=>y?G.createElement(O.Provider,{value:Q},Le):Le,[O,Le,Q])}const I=G.memo(M);if(I.WrappedComponent=_,I.displayName=M.displayName=b,l){const P=G.forwardRef(function(E,O){return G.createElement(I,{...E,reactReduxForwardedRef:O})});return P.displayName=b,P.WrappedComponent=_,HC(P,_)}return HC(I,_)}}var eZ=ZQ;function tZ(t){const{children:e,context:n,serverState:r,store:i}=t,s=G.useMemo(()=>{const l=G4(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=G.useMemo(()=>i.getState(),[i]);S1(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||Qu;return G.createElement(a.Provider,{value:s},e)}var nZ=tZ;function VR(t=Qu){return function(){return G.useContext(t)}}var V4=VR();function j4(t=Qu){const e=t===Qu?V4:VR(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var W4=j4();function rZ(t=Qu){const e=t===Qu?W4:j4(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var X4=rZ(),iZ=(t,e)=>t===e;function sZ(t=Qu){const e=t===Qu?V4:VR(t),n=(r,i={})=>{const{equalityFn:s=iZ}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:a,subscription:l,getServerState:u}=o;G.useRef(!0);const f=G.useCallback({[r.name](p){return r(p)}}[r.name],[r]),d=uQ.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,f,s);return G.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var oZ=sZ(),aZ=z4;const lZ={theme:of.LIGHT},q4=Td({name:"settings",initialState:lZ,reducers:{toggleTheme:t=>{t.theme=t.theme===of.LIGHT?of.DARK:of.LIGHT}}}),{toggleTheme:uZ}=q4.actions,cZ=q4.reducer;var K4=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(K4||{});function h3(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var p3=hf;function J4(t,e){if(t===e||!(p3(t)&&p3(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),r=Object.keys(t);let i=n.length===r.length;const s=Array.isArray(e)?[]:{};for(const o of n)s[o]=J4(t[o],e[o]),i&&(i=t[o]===s[o]);return i?t:s}function am(t){let e=0;for(const n in t)e++;return e}var m3=t=>[].concat(...t);function fZ(t){return new RegExp("(^|:)//").test(t)}function dZ(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function A1(t){return t!=null}function hZ(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var pZ=t=>t.replace(/\/$/,""),mZ=t=>t.replace(/^\//,"");function gZ(t,e){if(!t)return e;if(!e)return t;if(fZ(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=pZ(t),e=mZ(e),`${t}${n}${e}`}function vZ(t,e,n){return t.has(e)?t.get(e):t.set(e,n).get(e)}var g3=(...t)=>fetch(...t),yZ=t=>t.status>=200&&t.status<=299,xZ=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function v3(t){if(!hf(t))return t;const e={...t};for(const[n,r]of Object.entries(e))r===void 0&&delete e[n];return e}function _Z({baseUrl:t,prepareHeaders:e=d=>d,fetchFn:n=g3,paramsSerializer:r,isJsonContentType:i=xZ,jsonContentType:s="application/json",jsonReplacer:o,timeout:a,responseHandler:l,validateStatus:u,...f}={}){return typeof fetch>"u"&&n===g3&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(p,g,y)=>{const{getState:S,extra:_,endpoint:x,forced:b,type:w}=g;let M,{url:C,headers:I=new Headers(f.headers),params:B=void 0,responseHandler:P=l??"json",validateStatus:L=u??yZ,timeout:E=a,...O}=typeof p=="string"?{url:p}:p,U,H=g.signal;E&&(U=new AbortController,g.signal.addEventListener("abort",U.abort),H=U.signal);let q={...f,signal:H,...O};I=new Headers(v3(I)),q.headers=await e(I,{getState:S,arg:p,extra:_,endpoint:x,forced:b,type:w,extraOptions:y})||I;const te=Z=>typeof Z=="object"&&(hf(Z)||Array.isArray(Z)||typeof Z.toJSON=="function");if(!q.headers.has("content-type")&&te(q.body)&&q.headers.set("content-type",s),te(q.body)&&i(q.headers)&&(q.body=JSON.stringify(q.body,o)),B){const Z=~C.indexOf("?")?"&":"?",se=r?r(B):new URLSearchParams(v3(B));C+=Z+se}C=gZ(t,C);const $=new Request(C,q);M={request:new Request(C,q)};let W,Y=!1,Q=U&&setTimeout(()=>{Y=!0,U.abort()},E);try{W=await n($)}catch(Z){return{error:{status:Y?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Z)},meta:M}}finally{Q&&clearTimeout(Q),U==null||U.signal.removeEventListener("abort",U.abort)}const z=W.clone();M.response=z;let K,ae="";try{let Z;if(await Promise.all([d(W,P).then(se=>K=se,se=>Z=se),z.text().then(se=>ae=se,()=>{})]),Z)throw Z}catch(Z){return{error:{status:"PARSING_ERROR",originalStatus:W.status,data:ae,error:String(Z)},meta:M}}return L(W,K)?{data:K,meta:M}:{error:{status:W.status,data:K},meta:M}};async function d(p,g){if(typeof g=="function")return g(p);if(g==="content-type"&&(g=i(p.headers)?"json":"text"),g==="json"){const y=await p.text();return y.length?JSON.parse(y):null}return p.text()}}var y3=class{constructor(t,e=void 0){this.value=t,this.meta=e}},jR=Za("__rtkq/focused"),Y4=Za("__rtkq/unfocused"),WR=Za("__rtkq/online"),$4=Za("__rtkq/offline");function XR(t){return t.type==="query"}function SZ(t){return t.type==="mutation"}function qR(t){return t.type==="infinitequery"}function KR(t,e,n,r,i,s){return AZ(t)?t(e,n,r,i).filter(A1).map(VC).map(s):Array.isArray(t)?t.map(VC).map(s):[]}function AZ(t){return typeof t=="function"}function VC(t){return typeof t=="string"?{type:t}:t}function wZ(t,e){return t.catch(e)}var vy=Symbol("forceQueryFn"),jC=t=>typeof t[vy]=="function";function bZ({serializeQueryArgs:t,queryThunk:e,infiniteQueryThunk:n,mutationThunk:r,api:i,context:s}){const o=new Map,a=new Map,{unsubscribeQueryResult:l,removeMutationResult:u,updateSubscriptionOptions:f}=i.internalActions;return{buildInitiateQuery:_,buildInitiateInfiniteQuery:x,buildInitiateMutation:b,getRunningQueryThunk:d,getRunningMutationThunk:p,getRunningQueriesThunk:g,getRunningMutationsThunk:y};function d(w,M){return C=>{var P;const I=s.endpointDefinitions[w],B=t({queryArgs:M,endpointDefinition:I,endpointName:w});return(P=o.get(C))==null?void 0:P[B]}}function p(w,M){return C=>{var I;return(I=a.get(C))==null?void 0:I[M]}}function g(){return w=>Object.values(o.get(w)||{}).filter(A1)}function y(){return w=>Object.values(a.get(w)||{}).filter(A1)}function S(w,M){const C=(I,{subscribe:B=!0,forceRefetch:P,subscriptionOptions:L,[vy]:E,...O}={})=>(U,H)=>{var oe;const q=t({queryArgs:I,endpointDefinition:M,endpointName:w});let te;const $={...O,type:"query",subscribe:B,forceRefetch:P,subscriptionOptions:L,endpointName:w,originalArgs:I,queryCacheKey:q,[vy]:E};if(XR(M))te=e($);else{const{direction:ue,initialPageParam:ve}=O;te=n({...$,direction:ue,initialPageParam:ve})}const ie=i.endpoints[w].select(I),W=U(te),Y=ie(H()),{requestId:Q,abort:z}=W,K=Y.requestId!==Q,ae=(oe=o.get(U))==null?void 0:oe[q],Z=()=>ie(H()),se=Object.assign(E?W.then(Z):K&&!ae?Promise.resolve(Y):Promise.all([ae,W]).then(Z),{arg:I,requestId:Q,subscriptionOptions:L,queryCacheKey:q,abort:z,async unwrap(){const ue=await se;if(ue.isError)throw ue.error;return ue.data},refetch:()=>U(C(I,{subscribe:!1,forceRefetch:!0})),unsubscribe(){B&&U(l({queryCacheKey:q,requestId:Q}))},updateSubscriptionOptions(ue){se.subscriptionOptions=ue,U(f({endpointName:w,requestId:Q,queryCacheKey:q,options:ue}))}});if(!ae&&!K&&!E){const ue=vZ(o,U,{});ue[q]=se,se.then(()=>{delete ue[q],am(ue)||o.delete(U)})}return se};return C}function _(w,M){return S(w,M)}function x(w,M){return S(w,M)}function b(w){return(M,{track:C=!0,fixedCacheKey:I}={})=>(B,P)=>{const L=r({type:"mutation",endpointName:w,originalArgs:M,track:C,fixedCacheKey:I}),E=B(L),{requestId:O,abort:U,unwrap:H}=E,q=wZ(E.unwrap().then(W=>({data:W})),W=>({error:W})),te=()=>{B(u({requestId:O,fixedCacheKey:I}))},$=Object.assign(q,{arg:E.arg,requestId:O,abort:U,unwrap:H,reset:te}),ie=a.get(B)||{};return a.set(B,ie),ie[O]=$,$.then(()=>{delete ie[O],am(ie)||a.delete(B)}),I&&(ie[I]=$,$.then(()=>{ie[I]===$&&(delete ie[I],am(ie)||a.delete(B))})),$}}}function MZ(t){return t}var Lx=(t={})=>({...t,[$S]:!0});function EZ({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:r,api:i,assertTagType:s,selectors:o}){const a=(P,L,E,O)=>(U,H)=>{const q=n[P],te=r({queryArgs:L,endpointDefinition:q,endpointName:P});if(U(i.internalActions.queryResultPatched({queryCacheKey:te,patches:E})),!O)return;const $=i.endpoints[P].select(L)(H()),ie=KR(q.providesTags,$.data,void 0,L,{},s);U(i.internalActions.updateProvidedBy({queryCacheKey:te,providedTags:ie}))};function l(P,L,E=0){const O=[L,...P];return E&&O.length>E?O.slice(0,-1):O}function u(P,L,E=0){const O=[...P,L];return E&&O.length>E?O.slice(1):O}const f=(P,L,E,O=!0)=>(U,H)=>{const te=i.endpoints[P].select(L)(H()),$={patches:[],inversePatches:[],undo:()=>U(i.util.patchQueryData(P,L,$.inversePatches,O))};if(te.status==="uninitialized")return $;let ie;if("data"in te)if(rl(te.data)){const[W,Y,Q]=D4(te.data,E);$.patches.push(...Y),$.inversePatches.push(...Q),ie=W}else ie=E(te.data),$.patches.push({op:"replace",path:[],value:ie}),$.inversePatches.push({op:"replace",path:[],value:te.data});return $.patches.length===0||U(i.util.patchQueryData(P,L,$.patches,O)),$},d=(P,L,E)=>O=>O(i.endpoints[P].initiate(L,{subscribe:!1,forceRefetch:!0,[vy]:()=>({data:E})})),p=(P,L)=>P.query&&P[L]?P[L]:MZ,g=async(P,{signal:L,abort:E,rejectWithValue:O,fulfillWithValue:U,dispatch:H,getState:q,extra:te})=>{var ie;const $=n[P.endpointName];try{let W=p($,"transformResponse");const Y={signal:L,abort:E,dispatch:H,getState:q,extra:te,endpoint:P.endpointName,type:P.type,forced:P.type==="query"?y(P,q()):void 0,queryCacheKey:P.type==="query"?P.queryCacheKey:void 0},Q=P.type==="query"?P[vy]:void 0;let z;const K=async(Z,se,oe,ue)=>{if(se==null&&Z.pages.length)return Promise.resolve({data:Z});const ve={queryArg:P.originalArgs,pageParam:se},Be=await ae(ve),Le=ue?l:u;return{data:{pages:Le(Z.pages,Be.data,oe),pageParams:Le(Z.pageParams,se,oe)}}};async function ae(Z){let se;const{extraOptions:oe}=$;if(Q?se=Q():$.query?se=await e($.query(Z),Y,oe):se=await $.queryFn(Z,Y,oe,ve=>e(ve,Y,oe)),typeof process<"u",se.error)throw new y3(se.error,se.meta);const ue=await W(se.data,se.meta,Z);return{...se,data:ue}}if(P.type==="query"&&"infiniteQueryOptions"in $){const{infiniteQueryOptions:Z}=$,{maxPages:se=1/0}=Z;let oe;const ue={pages:[],pageParams:[]},ve=(ie=o.selectQueryEntry(q(),P.queryCacheKey))==null?void 0:ie.data,Le=y(P,q())&&!P.direction||!ve?ue:ve;if("direction"in P&&P.direction&&Le.pages.length){const Ve=P.direction==="backward",Te=(Ve?Q4:WC)(Z,Le);oe=await K(Le,Te,se,Ve)}else{const{initialPageParam:Ve=Z.initialPageParam}=P,xe=(ve==null?void 0:ve.pageParams)??[],Te=xe[0]??Ve,re=xe.length;oe=await K(Le,Te,se),Q&&(oe={data:oe.data.pages[0]});for(let nt=1;nt<re;nt++){const ke=WC(Z,oe.data);oe=await K(oe.data,ke,se)}}z=oe}else z=await ae(P.originalArgs);return U(z.data,Lx({fulfilledTimeStamp:Date.now(),baseQueryMeta:z.meta}))}catch(W){let Y=W;if(Y instanceof y3){let Q=p($,"transformErrorResponse");try{return O(await Q(Y.value,Y.meta,P.originalArgs),Lx({baseQueryMeta:Y.meta}))}catch(z){Y=z}}throw console.error(Y),Y}};function y(P,L){const E=o.selectQueryEntry(L,P.queryCacheKey),O=o.selectConfig(L).refetchOnMountOrArgChange,U=E==null?void 0:E.fulfilledTimeStamp,H=P.forceRefetch??(P.subscribe&&O);return H?H===!0||(Number(new Date)-Number(U))/1e3>=H:!1}const S=()=>i3(`${t}/executeQuery`,g,{getPendingMeta({arg:L}){const E=n[L.endpointName];return Lx({startedTimeStamp:Date.now(),...qR(E)?{direction:L.direction}:{}})},condition(L,{getState:E}){var W;const O=E(),U=o.selectQueryEntry(O,L.queryCacheKey),H=U==null?void 0:U.fulfilledTimeStamp,q=L.originalArgs,te=U==null?void 0:U.originalArgs,$=n[L.endpointName],ie=L.direction;return jC(L)?!0:(U==null?void 0:U.status)==="pending"?!1:y(L,O)||XR($)&&((W=$==null?void 0:$.forceRefetch)!=null&&W.call($,{currentArg:q,previousArg:te,endpointState:U,state:O}))?!0:!(H&&!ie)},dispatchConditionRejection:!0}),_=S(),x=S(),b=i3(`${t}/executeMutation`,g,{getPendingMeta(){return Lx({startedTimeStamp:Date.now()})}}),w=P=>"force"in P,M=P=>"ifOlderThan"in P,C=(P,L,E)=>(O,U)=>{const H=w(E)&&E.force,q=M(E)&&E.ifOlderThan,te=(ie=!0)=>{const W={forceRefetch:ie,isPrefetch:!0};return i.endpoints[P].initiate(L,W)},$=i.endpoints[P].select(L)(U());if(H)O(te());else if(q){const ie=$==null?void 0:$.fulfilledTimeStamp;if(!ie){O(te());return}(Number(new Date)-Number(new Date(ie)))/1e3>=q&&O(te())}else O(te(!1))};function I(P){return L=>{var E,O;return((O=(E=L==null?void 0:L.meta)==null?void 0:E.arg)==null?void 0:O.endpointName)===P}}function B(P,L){return{matchPending:Fv(NR(P),I(L)),matchFulfilled:Fv(pf(P),I(L)),matchRejected:Fv(_m(P),I(L))}}return{queryThunk:_,mutationThunk:b,infiniteQueryThunk:x,prefetch:C,updateQueryData:f,upsertQueryData:d,patchQueryData:a,buildMatchThunkActions:B}}function WC(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function Q4(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}function Z4(t,e,n,r){return KR(n[t.meta.arg.endpointName][e],pf(t)?t.payload:void 0,ZS(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function Fx(t,e,n){const r=t[e];r&&n(r)}function yy(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function x3(t,e,n){const r=t[yy(e)];r&&n(r)}var qg={};function CZ({reducerPath:t,queryThunk:e,mutationThunk:n,serializeQueryArgs:r,context:{endpointDefinitions:i,apiUid:s,extractRehydrationInfo:o,hasRehydrationInfo:a},assertTagType:l,config:u}){const f=Za(`${t}/resetApiState`);function d(B,P,L,E){var O;B[O=P.queryCacheKey]??(B[O]={status:"uninitialized",endpointName:P.endpointName}),Fx(B,P.queryCacheKey,U=>{U.status="pending",U.requestId=L&&U.requestId?U.requestId:E.requestId,P.originalArgs!==void 0&&(U.originalArgs=P.originalArgs),U.startedTimeStamp=E.startedTimeStamp;const H=i[E.arg.endpointName];qR(H)&&"direction"in P&&(U.direction=P.direction)})}function p(B,P,L,E){Fx(B,P.arg.queryCacheKey,O=>{if(O.requestId!==P.requestId&&!E)return;const{merge:U}=i[P.arg.endpointName];if(O.status="fulfilled",U)if(O.data!==void 0){const{fulfilledTimeStamp:H,arg:q,baseQueryMeta:te,requestId:$}=P;let ie=i0(O.data,W=>U(W,L,{arg:q.originalArgs,baseQueryMeta:te,fulfilledTimeStamp:H,requestId:$}));O.data=ie}else O.data=L;else O.data=i[P.arg.endpointName].structuralSharing??!0?J4(ql(O.data)?m$(O.data):O.data,L):L;delete O.error,O.fulfilledTimeStamp=P.fulfilledTimeStamp})}const g=Td({name:`${t}/queries`,initialState:qg,reducers:{removeQueryResult:{reducer(B,{payload:{queryCacheKey:P}}){delete B[P]},prepare:Xg()},cacheEntriesUpserted:{reducer(B,P){for(const L of P.payload){const{queryDescription:E,value:O}=L;d(B,E,!0,{arg:E,requestId:P.meta.requestId,startedTimeStamp:P.meta.timestamp}),p(B,{arg:E,requestId:P.meta.requestId,fulfilledTimeStamp:P.meta.timestamp,baseQueryMeta:{}},O,!0)}},prepare:B=>({payload:B.map(E=>{const{endpointName:O,arg:U,value:H}=E,q=i[O];return{queryDescription:{type:"query",endpointName:O,originalArgs:E.arg,queryCacheKey:r({queryArgs:U,endpointDefinition:q,endpointName:O})},value:H}}),meta:{[$S]:!0,requestId:zR(),timestamp:Date.now()}})},queryResultPatched:{reducer(B,{payload:{queryCacheKey:P,patches:L}}){Fx(B,P,E=>{E.data=YL(E.data,L.concat())})},prepare:Xg()}},extraReducers(B){B.addCase(e.pending,(P,{meta:L,meta:{arg:E}})=>{const O=jC(E);d(P,E,O,L)}).addCase(e.fulfilled,(P,{meta:L,payload:E})=>{const O=jC(L.arg);p(P,L,E,O)}).addCase(e.rejected,(P,{meta:{condition:L,arg:E,requestId:O},error:U,payload:H})=>{Fx(P,E.queryCacheKey,q=>{if(!L){if(q.requestId!==O)return;q.status="rejected",q.error=H??U}})}).addMatcher(a,(P,L)=>{const{queries:E}=o(L);for(const[O,U]of Object.entries(E))((U==null?void 0:U.status)==="fulfilled"||(U==null?void 0:U.status)==="rejected")&&(P[O]=U)})}}),y=Td({name:`${t}/mutations`,initialState:qg,reducers:{removeMutationResult:{reducer(B,{payload:P}){const L=yy(P);L in B&&delete B[L]},prepare:Xg()}},extraReducers(B){B.addCase(n.pending,(P,{meta:L,meta:{requestId:E,arg:O,startedTimeStamp:U}})=>{O.track&&(P[yy(L)]={requestId:E,status:"pending",endpointName:O.endpointName,startedTimeStamp:U})}).addCase(n.fulfilled,(P,{payload:L,meta:E})=>{E.arg.track&&x3(P,E,O=>{O.requestId===E.requestId&&(O.status="fulfilled",O.data=L,O.fulfilledTimeStamp=E.fulfilledTimeStamp)})}).addCase(n.rejected,(P,{payload:L,error:E,meta:O})=>{O.arg.track&&x3(P,O,U=>{U.requestId===O.requestId&&(U.status="rejected",U.error=L??E)})}).addMatcher(a,(P,L)=>{const{mutations:E}=o(L);for(const[O,U]of Object.entries(E))((U==null?void 0:U.status)==="fulfilled"||(U==null?void 0:U.status)==="rejected")&&O!==(U==null?void 0:U.requestId)&&(P[O]=U)})}}),S=Td({name:`${t}/invalidation`,initialState:qg,reducers:{updateProvidedBy:{reducer(B,P){var O,U;const{queryCacheKey:L,providedTags:E}=P.payload;for(const H of Object.values(B))for(const q of Object.values(H)){const te=q.indexOf(L);te!==-1&&q.splice(te,1)}for(const{type:H,id:q}of E){const te=(O=B[H]??(B[H]={}))[U=q||"__internal_without_id"]??(O[U]=[]);te.includes(L)||te.push(L)}},prepare:Xg()}},extraReducers(B){B.addCase(g.actions.removeQueryResult,(P,{payload:{queryCacheKey:L}})=>{for(const E of Object.values(P))for(const O of Object.values(E)){const U=O.indexOf(L);U!==-1&&O.splice(U,1)}}).addMatcher(a,(P,L)=>{var O,U;const{provided:E}=o(L);for(const[H,q]of Object.entries(E))for(const[te,$]of Object.entries(q)){const ie=(O=P[H]??(P[H]={}))[U=te||"__internal_without_id"]??(O[U]=[]);for(const W of $)ie.includes(W)||ie.push(W)}}).addMatcher($u(pf(e),ZS(e)),(P,L)=>{_(P,L)}).addMatcher(g.actions.cacheEntriesUpserted.match,(P,L)=>{for(const{queryDescription:E,value:O}of L.payload)_(P,{type:"UNKNOWN",payload:O,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:E}})})}});function _(B,P){const L=Z4(P,"providesTags",i,l),{queryCacheKey:E}=P.meta.arg;S.caseReducers.updateProvidedBy(B,S.actions.updateProvidedBy({queryCacheKey:E,providedTags:L}))}const x=Td({name:`${t}/subscriptions`,initialState:qg,reducers:{updateSubscriptionOptions(B,P){},unsubscribeQueryResult(B,P){},internal_getRTKQSubscriptions(){}}}),b=Td({name:`${t}/internalSubscriptions`,initialState:qg,reducers:{subscriptionsUpdated:{reducer(B,P){return YL(B,P.payload)},prepare:Xg()}}}),w=Td({name:`${t}/config`,initialState:{online:hZ(),focused:dZ(),middlewareRegistered:!1,...u},reducers:{middlewareRegistered(B,{payload:P}){B.middlewareRegistered=B.middlewareRegistered==="conflict"||s!==P?"conflict":!0}},extraReducers:B=>{B.addCase(WR,P=>{P.online=!0}).addCase($4,P=>{P.online=!1}).addCase(jR,P=>{P.focused=!0}).addCase(Y4,P=>{P.focused=!1}).addMatcher(a,P=>({...P}))}}),M=LR({queries:g.reducer,mutations:y.reducer,provided:S.reducer,subscriptions:b.reducer,config:w.reducer}),C=(B,P)=>M(f.match(P)?void 0:B,P),I={...w.actions,...g.actions,...x.actions,...b.actions,...y.actions,...S.actions,resetApiState:f};return{reducer:C,actions:I}}var ku=Symbol.for("RTKQ/skipToken"),ez={status:"uninitialized"},_3=i0(ez,()=>{}),S3=i0(ez,()=>{});function TZ({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const r=w=>_3,i=w=>S3;return{buildQuerySelector:p,buildInfiniteQuerySelector:g,buildMutationSelector:y,selectInvalidatedBy:S,selectCachedArgsForQuery:_,selectApiState:o,selectQueries:a,selectMutations:u,selectQueryEntry:l,selectConfig:f};function s(w){return{...w,...h3(w.status)}}function o(w){return w[e]}function a(w){var M;return(M=o(w))==null?void 0:M.queries}function l(w,M){var C;return(C=a(w))==null?void 0:C[M]}function u(w){var M;return(M=o(w))==null?void 0:M.mutations}function f(w){var M;return(M=o(w))==null?void 0:M.config}function d(w,M,C){return I=>{if(I===ku)return n(r,C);const B=t({queryArgs:I,endpointDefinition:M,endpointName:w});return n(L=>l(L,B)??_3,C)}}function p(w,M){return d(w,M,s)}function g(w,M){const{infiniteQueryOptions:C}=M;function I(B){const P={...B,...h3(B.status)},{isLoading:L,isError:E,direction:O}=P,U=O==="forward",H=O==="backward";return{...P,hasNextPage:x(C,P.data),hasPreviousPage:b(C,P.data),isFetchingNextPage:L&&U,isFetchingPreviousPage:L&&H,isFetchNextPageError:E&&U,isFetchPreviousPageError:E&&H}}return d(w,M,I)}function y(){return w=>{let M;return typeof w=="object"?M=yy(w)??ku:M=w,n(M===ku?i:B=>{var P,L;return((L=(P=o(B))==null?void 0:P.mutations)==null?void 0:L[M])??S3},s)}}function S(w,M){const C=w[e],I=new Set;for(const B of M.filter(A1).map(VC)){const P=C.provided[B.type];if(!P)continue;let L=(B.id!==void 0?P[B.id]:m3(Object.values(P)))??[];for(const E of L)I.add(E)}return m3(Array.from(I.values()).map(B=>{const P=C.queries[B];return P?[{queryCacheKey:B,endpointName:P.endpointName,originalArgs:P.originalArgs}]:[]}))}function _(w,M){return Object.values(a(w)).filter(C=>(C==null?void 0:C.endpointName)===M&&C.status!=="uninitialized").map(C=>C.originalArgs)}function x(w,M){return M?WC(w,M)!=null:!1}function b(w,M){return!M||!w.getPreviousPageParam?!1:Q4(w,M)!=null}}var Ap=WeakMap?new WeakMap:void 0,XC=({endpointName:t,queryArgs:e})=>{let n="";const r=Ap==null?void 0:Ap.get(e);if(typeof r=="string")n=r;else{const i=JSON.stringify(e,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=hf(o)?Object.keys(o).sort().reduce((a,l)=>(a[l]=o[l],a),{}):o,o));hf(e)&&(Ap==null||Ap.set(e,i)),n=i}return`${t}(${n})`};function tz(...t){return function(n){const r=_1(u=>{var f;return(f=n.extractRehydrationInfo)==null?void 0:f.call(n,u,{reducerPath:n.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(u){let f=XC;if("serializeQueryArgs"in u.endpointDefinition){const d=u.endpointDefinition.serializeQueryArgs;f=p=>{const g=d(p);return typeof g=="string"?g:XC({...p,queryArgs:g})}}else n.serializeQueryArgs&&(f=n.serializeQueryArgs);return f(u)},tagTypes:[...n.tagTypes||[]]},s={endpointDefinitions:{},batch(u){u()},apiUid:zR(),extractRehydrationInfo:r,hasRehydrationInfo:_1(u=>r(u)!=null)},o={injectEndpoints:l,enhanceEndpoints({addTagTypes:u,endpoints:f}){if(u)for(const d of u)i.tagTypes.includes(d)||i.tagTypes.push(d);if(f)for(const[d,p]of Object.entries(f))typeof p=="function"?p(s.endpointDefinitions[d]):Object.assign(s.endpointDefinitions[d]||{},p);return o}},a=t.map(u=>u.init(o,i,s));function l(u){const f=u.endpoints({query:d=>({...d,type:"query"}),mutation:d=>({...d,type:"mutation"}),infiniteQuery:d=>({...d,type:"infinitequery"})});for(const[d,p]of Object.entries(f)){if(u.overrideExisting!==!0&&d in s.endpointDefinitions){if(u.overrideExisting==="throw")throw new Error(el(39));continue}s.endpointDefinitions[d]=p;for(const g of a)g.injectEndpoint(d,p)}return o}return o.injectEndpoints({endpoints:n.endpoints})}}function Cu(t,...e){return Object.assign(t,...e)}var RZ=({api:t,queryThunk:e,internalState:n})=>{const r=`${t.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=t.internalActions,l=(g,y)=>{var _,x,b;if(o.match(y)){const{queryCacheKey:w,requestId:M,options:C}=y.payload;return(_=g==null?void 0:g[w])!=null&&_[M]&&(g[w][M]=C),!0}if(a.match(y)){const{queryCacheKey:w,requestId:M}=y.payload;return g[w]&&delete g[w][M],!0}if(t.internalActions.removeQueryResult.match(y))return delete g[y.payload.queryCacheKey],!0;if(e.pending.match(y)){const{meta:{arg:w,requestId:M}}=y,C=g[x=w.queryCacheKey]??(g[x]={});return C[`${M}_running`]={},w.subscribe&&(C[M]=w.subscriptionOptions??C[M]??{}),!0}let S=!1;if(e.fulfilled.match(y)||e.rejected.match(y)){const w=g[y.meta.arg.queryCacheKey]||{},M=`${y.meta.requestId}_running`;S||(S=!!w[M]),delete w[M]}if(e.rejected.match(y)){const{meta:{condition:w,arg:M,requestId:C}}=y;if(w&&M.subscribe){const I=g[b=M.queryCacheKey]??(g[b]={});I[C]=M.subscriptionOptions??I[C]??{},S=!0}}return S},u=()=>n.currentSubscriptions,p={getSubscriptions:u,getSubscriptionCount:g=>{const S=u()[g]??{};return am(S)},isRequestSubscribed:(g,y)=>{var _;const S=u();return!!((_=S==null?void 0:S[g])!=null&&_[y])}};return(g,y)=>{if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(g))return i=n.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(g))return[!1,p];const S=l(n.currentSubscriptions,g);let _=!0;if(S){s||(s=setTimeout(()=>{const w=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,M]=D4(i,()=>w);y.next(t.internalActions.subscriptionsUpdated(M)),i=w,s=null},500));const x=typeof g.type=="string"&&!!g.type.startsWith(r),b=e.rejected.match(g)&&g.meta.condition&&!!g.meta.arg.subscribe;_=!x&&!b}return[_,!1]}};function PZ(t){for(const e in t)return!1;return!0}var IZ=2147483647/1e3-1,BZ=({reducerPath:t,api:e,queryThunk:n,context:r,internalState:i,selectors:{selectQueryEntry:s,selectConfig:o}})=>{const{removeQueryResult:a,unsubscribeQueryResult:l,cacheEntriesUpserted:u}=e.internalActions,f=$u(l.match,n.fulfilled,n.rejected,u.match);function d(_){const x=i.currentSubscriptions[_];return!!x&&!PZ(x)}const p={},g=(_,x,b)=>{const w=x.getState(),M=o(w);if(f(_)){let C;if(u.match(_))C=_.payload.map(I=>I.queryDescription.queryCacheKey);else{const{queryCacheKey:I}=l.match(_)?_.payload:_.meta.arg;C=[I]}y(C,x,M)}if(e.util.resetApiState.match(_))for(const[C,I]of Object.entries(p))I&&clearTimeout(I),delete p[C];if(r.hasRehydrationInfo(_)){const{queries:C}=r.extractRehydrationInfo(_);y(Object.keys(C),x,M)}};function y(_,x,b){const w=x.getState();for(const M of _){const C=s(w,M);S(M,C==null?void 0:C.endpointName,x,b)}}function S(_,x,b,w){const M=r.endpointDefinitions[x],C=(M==null?void 0:M.keepUnusedDataFor)??w.keepUnusedDataFor;if(C===1/0)return;const I=Math.max(0,Math.min(C,IZ));if(!d(_)){const B=p[_];B&&clearTimeout(B),p[_]=setTimeout(()=>{d(_)||b.dispatch(a({queryCacheKey:_})),delete p[_]},I*1e3)}}return g},A3=new Error("Promise never resolved before cacheEntryRemoved."),DZ=({api:t,reducerPath:e,context:n,queryThunk:r,mutationThunk:i,internalState:s,selectors:{selectQueryEntry:o,selectApiState:a}})=>{const l=zC(r),u=zC(i),f=pf(r,i),d={};function p(x,b,w){const M=d[x];M!=null&&M.valueResolved&&(M.valueResolved({data:b,meta:w}),delete M.valueResolved)}function g(x){const b=d[x];b&&(delete d[x],b.cacheEntryRemoved())}const y=(x,b,w)=>{const M=S(x);function C(I,B,P,L){const E=o(w,B),O=o(b.getState(),B);!E&&O&&_(I,L,B,b,P)}if(r.pending.match(x))C(x.meta.arg.endpointName,M,x.meta.requestId,x.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(x))for(const{queryDescription:I,value:B}of x.payload){const{endpointName:P,originalArgs:L,queryCacheKey:E}=I;C(P,E,x.meta.requestId,L),p(E,B,{})}else if(i.pending.match(x))b.getState()[e].mutations[M]&&_(x.meta.arg.endpointName,x.meta.arg.originalArgs,M,b,x.meta.requestId);else if(f(x))p(M,x.payload,x.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(x)||t.internalActions.removeMutationResult.match(x))g(M);else if(t.util.resetApiState.match(x))for(const I of Object.keys(d))g(I)};function S(x){return l(x)?x.meta.arg.queryCacheKey:u(x)?x.meta.arg.fixedCacheKey??x.meta.requestId:t.internalActions.removeQueryResult.match(x)?x.payload.queryCacheKey:t.internalActions.removeMutationResult.match(x)?yy(x.payload):""}function _(x,b,w,M,C){const I=n.endpointDefinitions[x],B=I==null?void 0:I.onCacheEntryAdded;if(!B)return;const P={},L=new Promise(te=>{P.cacheEntryRemoved=te}),E=Promise.race([new Promise(te=>{P.valueResolved=te}),L.then(()=>{throw A3})]);E.catch(()=>{}),d[w]=P;const O=t.endpoints[x].select(I.type==="query"?b:w),U=M.dispatch((te,$,ie)=>ie),H={...M,getCacheEntry:()=>O(M.getState()),requestId:C,extra:U,updateCachedData:I.type==="query"?te=>M.dispatch(t.util.updateQueryData(x,b,te)):void 0,cacheDataLoaded:E,cacheEntryRemoved:L},q=B(b,H);Promise.resolve(q).catch(te=>{if(te!==A3)throw te})}return y},LZ=({api:t,context:{apiUid:e},reducerPath:n})=>(r,i)=>{t.util.resetApiState.match(r)&&i.dispatch(t.internalActions.middlewareRegistered(e))},FZ=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:i,api:s,assertTagType:o,refetchQuery:a,internalState:l})=>{const{removeQueryResult:u}=s.internalActions,f=$u(pf(r),ZS(r)),d=$u(pf(r,i),_m(r,i));let p=[];const g=(_,x)=>{f(_)?S(Z4(_,"invalidatesTags",n,o),x):d(_)?S([],x):s.util.invalidateTags.match(_)&&S(KR(_.payload,void 0,void 0,void 0,void 0,o),x)};function y(_){var w;const{queries:x,mutations:b}=_;for(const M of[x,b])for(const C in M)if(((w=M[C])==null?void 0:w.status)==="pending")return!0;return!1}function S(_,x){const b=x.getState(),w=b[t];if(p.push(..._),w.config.invalidationBehavior==="delayed"&&y(w))return;const M=p;if(p=[],M.length===0)return;const C=s.util.selectInvalidatedBy(b,M);e.batch(()=>{const I=Array.from(C.values());for(const{queryCacheKey:B}of I){const P=w.queries[B],L=l.currentSubscriptions[B]??{};P&&(am(L)===0?x.dispatch(u({queryCacheKey:B})):P.status!=="uninitialized"&&x.dispatch(a(P)))}})}return g},OZ=({reducerPath:t,queryThunk:e,api:n,refetchQuery:r,internalState:i})=>{const s={},o=(p,g)=>{(n.internalActions.updateSubscriptionOptions.match(p)||n.internalActions.unsubscribeQueryResult.match(p))&&l(p.payload,g),(e.pending.match(p)||e.rejected.match(p)&&p.meta.condition)&&l(p.meta.arg,g),(e.fulfilled.match(p)||e.rejected.match(p)&&!p.meta.condition)&&a(p.meta.arg,g),n.util.resetApiState.match(p)&&f()};function a({queryCacheKey:p},g){const y=g.getState()[t],S=y.queries[p],_=i.currentSubscriptions[p];if(!S||S.status==="uninitialized")return;const{lowestPollingInterval:x,skipPollingIfUnfocused:b}=d(_);if(!Number.isFinite(x))return;const w=s[p];w!=null&&w.timeout&&(clearTimeout(w.timeout),w.timeout=void 0);const M=Date.now()+x;s[p]={nextPollTimestamp:M,pollingInterval:x,timeout:setTimeout(()=>{(y.config.focused||!b)&&g.dispatch(r(S)),a({queryCacheKey:p},g)},x)}}function l({queryCacheKey:p},g){const S=g.getState()[t].queries[p],_=i.currentSubscriptions[p];if(!S||S.status==="uninitialized")return;const{lowestPollingInterval:x}=d(_);if(!Number.isFinite(x)){u(p);return}const b=s[p],w=Date.now()+x;(!b||w<b.nextPollTimestamp)&&a({queryCacheKey:p},g)}function u(p){const g=s[p];g!=null&&g.timeout&&clearTimeout(g.timeout),delete s[p]}function f(){for(const p of Object.keys(s))u(p)}function d(p={}){let g=!1,y=Number.POSITIVE_INFINITY;for(let S in p)p[S].pollingInterval&&(y=Math.min(p[S].pollingInterval,y),g=p[S].skipPollingIfUnfocused||g);return{lowestPollingInterval:y,skipPollingIfUnfocused:g}}return o},kZ=({api:t,context:e,queryThunk:n,mutationThunk:r})=>{const i=NR(n,r),s=_m(n,r),o=pf(n,r),a={};return(u,f)=>{var d,p;if(i(u)){const{requestId:g,arg:{endpointName:y,originalArgs:S}}=u.meta,_=e.endpointDefinitions[y],x=_==null?void 0:_.onQueryStarted;if(x){const b={},w=new Promise((B,P)=>{b.resolve=B,b.reject=P});w.catch(()=>{}),a[g]=b;const M=t.endpoints[y].select(_.type==="query"?S:g),C=f.dispatch((B,P,L)=>L),I={...f,getCacheEntry:()=>M(f.getState()),requestId:g,extra:C,updateCachedData:_.type==="query"?B=>f.dispatch(t.util.updateQueryData(y,S,B)):void 0,queryFulfilled:w};x(S,I)}}else if(o(u)){const{requestId:g,baseQueryMeta:y}=u.meta;(d=a[g])==null||d.resolve({data:u.payload,meta:y}),delete a[g]}else if(s(u)){const{requestId:g,rejectedWithValue:y,baseQueryMeta:S}=u.meta;(p=a[g])==null||p.reject({error:u.payload??u.error,isUnhandledError:!y,meta:S}),delete a[g]}}},UZ=({reducerPath:t,context:e,api:n,refetchQuery:r,internalState:i})=>{const{removeQueryResult:s}=n.internalActions,o=(l,u)=>{jR.match(l)&&a(u,"refetchOnFocus"),WR.match(l)&&a(u,"refetchOnReconnect")};function a(l,u){const f=l.getState()[t],d=f.queries,p=i.currentSubscriptions;e.batch(()=>{for(const g of Object.keys(p)){const y=d[g],S=p[g];if(!S||!y)continue;(Object.values(S).some(x=>x[u]===!0)||Object.values(S).every(x=>x[u]===void 0)&&f.config[u])&&(am(S)===0?l.dispatch(s({queryCacheKey:g})):y.status!=="uninitialized"&&l.dispatch(r(y)))}})}return o};function NZ(t){const{reducerPath:e,queryThunk:n,api:r,context:i}=t,{apiUid:s}=i,o={invalidateTags:Za(`${e}/invalidateTags`)},a=d=>d.type.startsWith(`${e}/`),l=[LZ,BZ,FZ,OZ,DZ,kZ];return{middleware:d=>{let p=!1;const y={...t,internalState:{currentSubscriptions:{}},refetchQuery:f,isThisApiSliceAction:a},S=l.map(b=>b(y)),_=RZ(y),x=UZ(y);return b=>w=>{if(!C4(w))return b(w);p||(p=!0,d.dispatch(r.internalActions.middlewareRegistered(s)));const M={...d,next:b},C=d.getState(),[I,B]=_(w,M,C);let P;if(I?P=b(w):P=B,d.getState()[e]&&(x(w,M,C),a(w)||i.hasRehydrationInfo(w)))for(const L of S)L(w,M,C);return P}},actions:o};function f(d){return t.api.endpoints[d.endpointName].initiate(d.originalArgs,{subscribe:!1,forceRefetch:!0})}}var w3=Symbol(),nz=({createSelector:t=UR}={})=>({name:w3,init(e,{baseQuery:n,tagTypes:r,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:o,refetchOnMountOrArgChange:a,refetchOnFocus:l,refetchOnReconnect:u,invalidationBehavior:f},d){M$();const p=K=>K;Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:WR,onOffline:$4,onFocus:jR,onFocusLost:Y4},util:{}});const g=TZ({serializeQueryArgs:s,reducerPath:i,createSelector:t}),{selectInvalidatedBy:y,selectCachedArgsForQuery:S,buildQuerySelector:_,buildInfiniteQuerySelector:x,buildMutationSelector:b}=g;Cu(e.util,{selectInvalidatedBy:y,selectCachedArgsForQuery:S});const{queryThunk:w,infiniteQueryThunk:M,mutationThunk:C,patchQueryData:I,updateQueryData:B,upsertQueryData:P,prefetch:L,buildMatchThunkActions:E}=EZ({baseQuery:n,reducerPath:i,context:d,api:e,serializeQueryArgs:s,assertTagType:p,selectors:g}),{reducer:O,actions:U}=CZ({context:d,queryThunk:w,mutationThunk:C,serializeQueryArgs:s,reducerPath:i,assertTagType:p,config:{refetchOnFocus:l,refetchOnReconnect:u,refetchOnMountOrArgChange:a,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:f}});Cu(e.util,{patchQueryData:I,updateQueryData:B,upsertQueryData:P,prefetch:L,resetApiState:U.resetApiState,upsertQueryEntries:U.cacheEntriesUpserted}),Cu(e.internalActions,U);const{middleware:H,actions:q}=NZ({reducerPath:i,context:d,queryThunk:w,mutationThunk:C,infiniteQueryThunk:M,api:e,assertTagType:p,selectors:g});Cu(e.util,q),Cu(e,{reducer:O,middleware:H});const{buildInitiateQuery:te,buildInitiateInfiniteQuery:$,buildInitiateMutation:ie,getRunningMutationThunk:W,getRunningMutationsThunk:Y,getRunningQueriesThunk:Q,getRunningQueryThunk:z}=bZ({queryThunk:w,mutationThunk:C,infiniteQueryThunk:M,api:e,serializeQueryArgs:s,context:d});return Cu(e.util,{getRunningMutationThunk:W,getRunningMutationsThunk:Y,getRunningQueryThunk:z,getRunningQueriesThunk:Q}),{name:w3,injectEndpoint(K,ae){var oe;const se=(oe=e.endpoints)[K]??(oe[K]={});XR(ae)&&Cu(se,{name:K,select:_(K,ae),initiate:te(K,ae)},E(w,K)),SZ(ae)&&Cu(se,{name:K,select:b(),initiate:ie(K)},E(C,K)),qR(ae)&&Cu(se,{name:K,select:x(K,ae),initiate:$(K,ae)},E(w,K))}}}});nz();function Ox(t){return t.replace(t[0],t[0].toUpperCase())}function zZ(t){return t.type==="query"}function GZ(t){return t.type==="mutation"}function rz(t){return t.type==="infinitequery"}function Kg(t,...e){return Object.assign(t,...e)}var OM=Symbol();function b3(t,e,n,r){const i=G.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}),[t,e,n,r]),s=G.useRef(i);return G.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}function kx(t){const e=G.useRef(t);return G.useEffect(()=>{af(e.current,t)||(e.current=t)},[t]),af(e.current,t)?e.current:t}var HZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VZ=HZ(),jZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WZ=jZ(),XZ=()=>VZ||WZ?G.useLayoutEffect:G.useEffect,qZ=XZ(),M3=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:K4.pending}:t;function kM(t,...e){const n={};return e.forEach(r=>{n[r]=t[r]}),n}var UM=["data","status","isLoading","isSuccess","isError","error"];function KZ({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:r,useStore:i},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:a,context:l}){const u=s?M=>M():G.useEffect;return{buildQueryHooks:x,buildInfiniteQueryHooks:b,buildMutationHook:w,usePrefetch:p};function f(M,C,I){if(C!=null&&C.endpointName&&M.isUninitialized){const{endpointName:U}=C,H=l.endpointDefinitions[U];I!==ku&&a({queryArgs:C.originalArgs,endpointDefinition:H,endpointName:U})===a({queryArgs:I,endpointDefinition:H,endpointName:U})&&(C=void 0)}let B=M.isSuccess?M.data:C==null?void 0:C.data;B===void 0&&(B=M.data);const P=B!==void 0,L=M.isLoading,E=(!C||C.isLoading||C.isUninitialized)&&!P&&L,O=M.isSuccess||P&&(L&&!(C!=null&&C.isError)||M.isUninitialized);return{...M,data:B,currentData:M.data,isFetching:L,isLoading:E,isSuccess:O}}function d(M,C,I){if(C!=null&&C.endpointName&&M.isUninitialized){const{endpointName:U}=C,H=l.endpointDefinitions[U];a({queryArgs:C.originalArgs,endpointDefinition:H,endpointName:U})===a({queryArgs:I,endpointDefinition:H,endpointName:U})&&(C=void 0)}let B=M.isSuccess?M.data:C==null?void 0:C.data;B===void 0&&(B=M.data);const P=B!==void 0,L=M.isLoading,E=(!C||C.isLoading||C.isUninitialized)&&!P&&L,O=M.isSuccess||L&&P;return{...M,data:B,currentData:M.data,isFetching:L,isLoading:E,isSuccess:O}}function p(M,C){const I=n(),B=kx(C);return G.useCallback((P,L)=>I(t.util.prefetch(M,P,{...B,...L})),[M,I,B])}function g(M,C,{refetchOnReconnect:I,refetchOnFocus:B,refetchOnMountOrArgChange:P,skip:L=!1,pollingInterval:E=0,skipPollingIfUnfocused:O=!1,...U}={}){const{initiate:H}=t.endpoints[M],q=n(),te=G.useRef(void 0);if(!te.current){const oe=q(t.internalActions.internal_getRTKQSubscriptions());te.current=oe}const $=b3(L?ku:C,XC,l.endpointDefinitions[M],M),ie=kx({refetchOnReconnect:I,refetchOnFocus:B,pollingInterval:E,skipPollingIfUnfocused:O}),W=G.useRef(!1),Y=U.initialPageParam,Q=kx(Y),z=G.useRef(void 0);let{queryCacheKey:K,requestId:ae}=z.current||{},Z=!1;K&&ae&&(Z=te.current.isRequestSubscribed(K,ae));const se=!Z&&W.current;return u(()=>{W.current=Z}),u(()=>{se&&(z.current=void 0)},[se]),u(()=>{var ve;const oe=z.current;if($===ku){oe==null||oe.unsubscribe(),z.current=void 0;return}const ue=(ve=z.current)==null?void 0:ve.subscriptionOptions;if(!oe||oe.arg!==$){oe==null||oe.unsubscribe();const Be=q(H($,{subscriptionOptions:ie,forceRefetch:P,...rz(l.endpointDefinitions[M])?{initialPageParam:Q}:{}}));z.current=Be}else ie!==ue&&oe.updateSubscriptionOptions(ie)},[q,H,P,$,ie,se,Q,M]),[z,q,H,ie]}function y(M,C){return(B,{skip:P=!1,selectFromResult:L}={})=>{const{select:E}=t.endpoints[M],O=b3(P?ku:B,a,l.endpointDefinitions[M],M),U=G.useRef(void 0),H=G.useMemo(()=>o([E(O),(W,Y)=>Y,W=>O],C,{memoizeOptions:{resultEqualityCheck:af}}),[E,O]),q=G.useMemo(()=>L?o([H],L,{devModeChecks:{identityFunctionCheck:"never"}}):H,[H,L]),te=r(W=>q(W,U.current),af),$=i(),ie=H($.getState(),U.current);return qZ(()=>{U.current=ie},[ie]),te}}function S(M){G.useEffect(()=>()=>{var C,I;(I=(C=M.current)==null?void 0:C.unsubscribe)==null||I.call(C),M.current=void 0},[M])}function _(M){if(!M.current)throw new Error(el(38));return M.current.refetch()}function x(M){const C=(P,L={})=>{const[E]=g(M,P,L);return S(E),G.useMemo(()=>({refetch:()=>_(E)}),[E])},I=({refetchOnReconnect:P,refetchOnFocus:L,pollingInterval:E=0,skipPollingIfUnfocused:O=!1}={})=>{const{initiate:U}=t.endpoints[M],H=n(),[q,te]=G.useState(OM),$=G.useRef(void 0),ie=kx({refetchOnReconnect:P,refetchOnFocus:L,pollingInterval:E,skipPollingIfUnfocused:O});u(()=>{var K,ae;const z=(K=$.current)==null?void 0:K.subscriptionOptions;ie!==z&&((ae=$.current)==null||ae.updateSubscriptionOptions(ie))},[ie]);const W=G.useRef(ie);u(()=>{W.current=ie},[ie]);const Y=G.useCallback(function(z,K=!1){let ae;return e(()=>{var Z;(Z=$.current)==null||Z.unsubscribe(),$.current=ae=H(U(z,{subscriptionOptions:W.current,forceRefetch:!K})),te(z)}),ae},[H,U]),Q=G.useCallback(()=>{var z,K;(z=$.current)!=null&&z.queryCacheKey&&H(t.internalActions.removeQueryResult({queryCacheKey:(K=$.current)==null?void 0:K.queryCacheKey}))},[H]);return G.useEffect(()=>()=>{var z;(z=$==null?void 0:$.current)==null||z.unsubscribe()},[]),G.useEffect(()=>{q!==OM&&!$.current&&Y(q,!0)},[q,Y]),G.useMemo(()=>[Y,q,{reset:Q}],[Y,q,Q])},B=y(M,f);return{useQueryState:B,useQuerySubscription:C,useLazyQuerySubscription:I,useLazyQuery(P){const[L,E,{reset:O}]=I(P),U=B(E,{...P,skip:E===OM}),H=G.useMemo(()=>({lastArg:E}),[E]);return G.useMemo(()=>[L,{...U,reset:O},H],[L,U,O,H])},useQuery(P,L){const E=C(P,L),O=B(P,{selectFromResult:P===ku||L!=null&&L.skip?void 0:M3,...L}),U=kM(O,...UM);return G.useDebugValue(U),G.useMemo(()=>({...O,...E}),[O,E])}}}function b(M){const C=(B,P={})=>{const[L,E,O,U]=g(M,B,P),H=G.useRef(U);u(()=>{H.current=U},[U]);const q=G.useCallback(function(te,$){let ie;return e(()=>{var W;(W=L.current)==null||W.unsubscribe(),L.current=ie=E(O(te,{subscriptionOptions:H.current,direction:$}))}),ie},[L,E,O]);return S(L),G.useMemo(()=>({trigger:q,refetch:()=>_(L),fetchNextPage:()=>q(B,"forward"),fetchPreviousPage:()=>q(B,"backward")}),[L,q,B])},I=y(M,d);return{useInfiniteQueryState:I,useInfiniteQuerySubscription:C,useInfiniteQuery(B,P){const{refetch:L,fetchNextPage:E,fetchPreviousPage:O}=C(B,P),U=I(B,{selectFromResult:B===ku||P!=null&&P.skip?void 0:M3,...P}),H=kM(U,...UM,"hasNextPage","hasPreviousPage");return G.useDebugValue(H),G.useMemo(()=>({...U,fetchNextPage:E,fetchPreviousPage:O,refetch:L}),[U,E,O,L])}}}function w(M){return({selectFromResult:C,fixedCacheKey:I}={})=>{const{select:B,initiate:P}=t.endpoints[M],L=n(),[E,O]=G.useState();G.useEffect(()=>()=>{E!=null&&E.arg.fixedCacheKey||E==null||E.reset()},[E]);const U=G.useCallback(function(z){const K=L(P(z,{fixedCacheKey:I}));return O(K),K},[L,P,I]),{requestId:H}=E||{},q=G.useMemo(()=>B({fixedCacheKey:I,requestId:E==null?void 0:E.requestId}),[I,E,B]),te=G.useMemo(()=>C?o([q],C):q,[C,q]),$=r(te,af),ie=I==null?E==null?void 0:E.arg.originalArgs:void 0,W=G.useCallback(()=>{e(()=>{E&&O(void 0),I&&L(t.internalActions.removeMutationResult({requestId:H,fixedCacheKey:I}))})},[L,I,E,H]),Y=kM($,...UM,"endpointName");G.useDebugValue(Y);const Q=G.useMemo(()=>({...$,originalArgs:ie,reset:W}),[$,ie,W]);return G.useMemo(()=>[U,Q],[U,Q])}}}var JZ=Symbol(),YZ=({batch:t=aZ,hooks:e={useDispatch:X4,useSelector:oZ,useStore:W4},createSelector:n=UR,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:JZ,init(s,{serializeQueryArgs:o},a){const l=s,{buildQueryHooks:u,buildInfiniteQueryHooks:f,buildMutationHook:d,usePrefetch:p}=KZ({api:s,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:o,context:a});return Kg(l,{usePrefetch:p}),Kg(a,{batch:t}),{injectEndpoint(g,y){if(zZ(y)){const{useQuery:S,useLazyQuery:_,useLazyQuerySubscription:x,useQueryState:b,useQuerySubscription:w}=u(g);Kg(l.endpoints[g],{useQuery:S,useLazyQuery:_,useLazyQuerySubscription:x,useQueryState:b,useQuerySubscription:w}),s[`use${Ox(g)}Query`]=S,s[`useLazy${Ox(g)}Query`]=_}if(GZ(y)){const S=d(g);Kg(l.endpoints[g],{useMutation:S}),s[`use${Ox(g)}Mutation`]=S}else if(rz(y)){const{useInfiniteQuery:S,useInfiniteQuerySubscription:_,useInfiniteQueryState:x}=f(g);Kg(l.endpoints[g],{useInfiniteQuery:S,useInfiniteQuerySubscription:_,useInfiniteQueryState:x}),s[`use${Ox(g)}InfiniteQuery`]=S}}}}}),$Z=tz(nz(),YZ());const qC=$Z({baseQuery:_Z({baseUrl:"https://pokeapi.co/api/v2/"}),endpoints:()=>({})}),QZ=LR({settings:cZ,[qC.reducerPath]:qC.reducer}),ZZ=j$({reducer:QZ,middleware:t=>t().concat([qC.middleware])}),eee=X4,iz=G.createContext({});function sz(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const JR=G.createContext(null),eA=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tee(t=!0){const e=G.useContext(JR);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=G.useId();G.useEffect(()=>{if(t)return i(s)},[t]);const o=G.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const YR=typeof window<"u",nee=YR?G.useLayoutEffect:G.useEffect,Lo=t=>t;let oz=Lo;function $R(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ju=t=>t*1e3,Wu=t=>t/1e3,ree={useManualTiming:!1},Ux=["read","resolveKeyframes","update","preRender","render","postRender"];function iee(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(f){o.has(f)&&(u.schedule(f),t()),f(a)}const u={schedule:(f,d=!1,p=!1)=>{const y=p&&i?n:r;return d&&o.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const see=40;function az(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ux.reduce((x,b)=>(x[b]=iee(s),x),{}),{read:a,resolveKeyframes:l,update:u,preRender:f,render:d,postRender:p}=o,g=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,see),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),f.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},y=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:Ux.reduce((x,b)=>{const w=o[b];return x[b]=(M,C=!1,I=!1)=>(n||y(),w.schedule(M,C,I)),x},{}),cancel:x=>{for(let b=0;b<Ux.length;b++)o[Ux[b]].cancel(x)},state:i,steps:o}}const{schedule:vr,cancel:Zu,state:ss,steps:NM}=az(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lo,!0),lz=G.createContext({strict:!1}),E3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Am={};for(const t in E3)Am[t]={isEnabled:e=>E3[t].some(n=>!!e[n])};function oee(t){for(const e in t)Am[e]={...Am[e],...t[e]}}const aee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function w1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aee.has(t)}let uz=t=>!w1(t);function lee(t){t&&(uz=e=>e.startsWith("on")?!w1(e):t(e))}try{lee(require("@emotion/is-prop-valid").default)}catch{}function uee(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(uz(i)||n===!0&&w1(i)||!e&&!w1(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function cee(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const tA=G.createContext({});function nA(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xy(t){return typeof t=="string"||Array.isArray(t)}const QR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ZR=["initial",...QR];function rA(t){return nA(t.animate)||ZR.some(e=>xy(t[e]))}function cz(t){return!!(rA(t)||t.variants)}function fee(t,e){if(rA(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xy(n)?n:void 0,animate:xy(r)?r:void 0}}return t.inherit!==!1?e:{}}function dee(t){const{initial:e,animate:n}=fee(t,G.useContext(tA));return G.useMemo(()=>({initial:e,animate:n}),[C3(e),C3(n)])}function C3(t){return Array.isArray(t)?t.join(" "):t}const hee=Symbol.for("motionComponentSymbol");function Jp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pee(t,e,n){return G.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Jp(n)&&(n.current=r))},[e])}const e2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mee="framerAppearId",fz="data-"+e2(mee),{schedule:t2}=az(queueMicrotask,!1),dz=G.createContext({});function gee(t,e,n,r,i){var s,o;const{visualElement:a}=G.useContext(tA),l=G.useContext(lz),u=G.useContext(JR),f=G.useContext(eA).reducedMotion,d=G.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=d.current,g=G.useContext(dz);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&vee(d.current,n,i,g);const y=G.useRef(!1);G.useInsertionEffect(()=>{p&&y.current&&p.update(n,u)});const S=n[fz],_=G.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return nee(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),t2.render(p.render),_.current&&p.animationState&&p.animationState.animateChanges())}),G.useEffect(()=>{p&&(!_.current&&p.animationState&&p.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,S)}),_.current=!1))}),p}function vee(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hz(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Jp(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function hz(t){if(t)return t.options.allowProjection!==!1?t.projection:hz(t.parent)}function yee({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&oee(t);function a(u,f){let d;const p={...G.useContext(eA),...u,layoutId:xee(u)},{isStatic:g}=p,y=dee(u),S=r(u,g);if(!g&&YR){_ee();const _=See(p);d=_.MeasureLayout,y.visualElement=gee(i,S,p,e,_.ProjectionNode)}return V.jsxs(tA.Provider,{value:y,children:[d&&y.visualElement?V.jsx(d,{visualElement:y.visualElement,...p}):null,n(i,u,pee(S,y.visualElement,f),S,g,y.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=G.forwardRef(a);return l[hee]=i,l}function xee({layoutId:t}){const e=G.useContext(iz).id;return e&&t!==void 0?e+"-"+t:t}function _ee(t,e){G.useContext(lz).strict}function See(t){const{drag:e,layout:n}=Am;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pz=t=>e=>typeof e=="string"&&e.startsWith(t),n2=pz("--"),Aee=pz("var(--"),r2=t=>Aee(t)?wee.test(t.split("/*")[0].trim()):!1,wee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_y={};function bee(t){for(const e in t)_y[e]=t[e],n2(e)&&(_y[e].isCSSVariable=!0)}const Um=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_h=new Set(Um);function mz(t,{layout:e,layoutId:n}){return _h.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_y[t]||t==="opacity")}const As=t=>!!(t&&t.getVelocity),gz=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ec=(t,e,n)=>n>e?e:n<t?t:n,Nm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sy={...Nm,transform:t=>ec(0,1,t)},Nx={...Nm,default:1},o0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yc=o0("deg"),Gl=o0("%"),cn=o0("px"),Mee=o0("vh"),Eee=o0("vw"),T3={...Gl,parse:t=>Gl.parse(t)/100,transform:t=>Gl.transform(t*100)},Cee={borderWidth:cn,borderTopWidth:cn,borderRightWidth:cn,borderBottomWidth:cn,borderLeftWidth:cn,borderRadius:cn,radius:cn,borderTopLeftRadius:cn,borderTopRightRadius:cn,borderBottomRightRadius:cn,borderBottomLeftRadius:cn,width:cn,maxWidth:cn,height:cn,maxHeight:cn,top:cn,right:cn,bottom:cn,left:cn,padding:cn,paddingTop:cn,paddingRight:cn,paddingBottom:cn,paddingLeft:cn,margin:cn,marginTop:cn,marginRight:cn,marginBottom:cn,marginLeft:cn,backgroundPositionX:cn,backgroundPositionY:cn},Tee={rotate:Yc,rotateX:Yc,rotateY:Yc,rotateZ:Yc,scale:Nx,scaleX:Nx,scaleY:Nx,scaleZ:Nx,skew:Yc,skewX:Yc,skewY:Yc,distance:cn,translateX:cn,translateY:cn,translateZ:cn,x:cn,y:cn,z:cn,perspective:cn,transformPerspective:cn,opacity:Sy,originX:T3,originY:T3,originZ:cn},R3={...Nm,transform:Math.round},i2={...Cee,...Tee,zIndex:R3,size:cn,fillOpacity:Sy,strokeOpacity:Sy,numOctaves:R3},Ree={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pee=Um.length;function Iee(t,e,n){let r="",i=!0;for(let s=0;s<Pee;s++){const o=Um[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=gz(a,i2[o]);if(!l){i=!1;const f=Ree[o]||o;r+=`${f}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function s2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(_h.has(l)){o=!0;continue}else if(n2(l)){i[l]=u;continue}else{const f=gz(u,i2[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(e.transform||(o||n?r.transform=Iee(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${u} ${f}`}}const o2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vz(t,e,n){for(const r in e)!As(e[r])&&!mz(r,n)&&(t[r]=e[r])}function Bee({transformTemplate:t},e){return G.useMemo(()=>{const n=o2();return s2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Dee(t,e){const n=t.style||{},r={};return vz(r,n,t),Object.assign(r,Bee(t,e)),r}function Lee(t,e){const n={},r=Dee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Fee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a2(t){return typeof t!="string"||t.includes("-")?!1:!!(Fee.indexOf(t)>-1||/[A-Z]/u.test(t))}const Oee={offset:"stroke-dashoffset",array:"stroke-dasharray"},kee={offset:"strokeDashoffset",array:"strokeDasharray"};function Uee(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Oee:kee;t[s.offset]=cn.transform(-r);const o=cn.transform(e),a=cn.transform(n);t[s.array]=`${o} ${a}`}function P3(t,e,n){return typeof t=="string"?t:cn.transform(e+n*t)}function Nee(t,e,n){const r=P3(e,t.x,t.width),i=P3(n,t.y,t.height);return`${r} ${i}`}function l2(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,d){if(s2(t,u,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:y}=t;p.transform&&(y&&(g.transform=p.transform),delete p.transform),y&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=Nee(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Uee(p,o,a,l,!1)}const yz=()=>({...o2(),attrs:{}}),u2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zee(t,e,n,r){const i=G.useMemo(()=>{const s=yz();return l2(s,e,u2(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};vz(s,t.style,t),i.style={...s,...i.style}}return i}function Gee(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(a2(n)?zee:Lee)(r,s,o,n),u=uee(r,typeof n=="string",t),f=n!==G.Fragment?{...u,...l,ref:i}:{},{children:d}=r,p=G.useMemo(()=>As(d)?d.get():d,[d]);return G.createElement(n,{...f,children:p})}}function I3(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function c2(t,e,n,r){if(typeof e=="function"){const[i,s]=I3(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=I3(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const KC=t=>Array.isArray(t),Hee=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Vee=t=>KC(t)?t[t.length-1]||0:t;function $_(t){const e=As(t)?t.get():t;return Hee(e)?e.toValue():e}function jee({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:Wee(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const xz=t=>(e,n)=>{const r=G.useContext(tA),i=G.useContext(JR),s=()=>jee(t,e,r,i);return n?s():sz(s)};function Wee(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=$_(s[p]);let{initial:o,animate:a}=t;const l=rA(t),u=cz(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const d=f?a:o;if(d&&typeof d!="boolean"&&!nA(d)){const p=Array.isArray(d)?d:[d];for(let g=0;g<p.length;g++){const y=c2(t,p[g]);if(y){const{transitionEnd:S,transition:_,...x}=y;for(const b in x){let w=x[b];if(Array.isArray(w)){const M=f?w.length-1:0;w=w[M]}w!==null&&(i[b]=w)}for(const b in S)i[b]=S[b]}}}return i}function f2(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(As(i[o])||e.style&&As(e.style[o])||mz(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const Xee={useVisualState:xz({scrapeMotionValuesFromProps:f2,createRenderState:o2})};function _z(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function Sz(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Az=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wz(t,e,n,r){Sz(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Az.has(i)?i:e2(i),e.attrs[i])}function bz(t,e,n){const r=f2(t,e,n);for(const i in t)if(As(t[i])||As(e[i])){const s=Um.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const B3=["x","y","width","height","cx","cy","r"],qee={useVisualState:xz({scrapeMotionValuesFromProps:bz,createRenderState:yz,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(_h.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<B3.length;a++){const l=B3[a];t[l]!==e[l]&&(o=!0)}o&&vr.read(()=>{_z(n,r),vr.render(()=>{l2(r,i,u2(n.tagName),t.transformTemplate),wz(n,r)})})}})};function Kee(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...a2(r)?qee:Xee,preloadedFeatures:t,useRender:Gee(i),createVisualElement:e,Component:r};return yee(o)}}function Ay(t,e,n){const r=t.getProps();return c2(r,e,n!==void 0?n:r.custom,t)}const Jee=$R(()=>window.ScrollTimeline!==void 0);class Yee{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Jee()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class $ee extends Yee{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function d2(t,e){return t?t[e]||t.default||t:void 0}const JC=2e4;function Mz(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<JC;)e+=n,r=t.next(e);return e>=JC?1/0:e}function h2(t){return typeof t=="function"}function D3(t,e){t.timeline=e,t.onfinish=null}const p2=t=>Array.isArray(t)&&typeof t[0]=="number",Qee={linearEasing:void 0};function Zee(t,e){const n=$R(t);return()=>{var r;return(r=Qee[e])!==null&&r!==void 0?r:n()}}const b1=Zee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ez=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Sm(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Cz(t){return!!(typeof t=="function"&&b1()||!t||typeof t=="string"&&(t in YC||b1())||p2(t)||Array.isArray(t)&&t.every(Cz))}const Mv=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,YC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mv([0,.65,.55,1]),circOut:Mv([.55,0,1,.45]),backIn:Mv([.31,.01,.66,-.59]),backOut:Mv([.33,1.53,.69,.99])};function Tz(t,e){if(t)return typeof t=="function"&&b1()?Ez(t,e):p2(t)?Mv(t):Array.isArray(t)?t.map(n=>Tz(n,e)||YC.easeOut):YC[t]}const Wa={x:!1,y:!1};function Rz(){return Wa.x||Wa.y}function ete(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function Pz(t,e){const n=ete(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function L3(t){return!(t.pointerType==="touch"||Rz())}function tte(t,e,n={}){const[r,i,s]=Pz(t,n),o=a=>{if(!L3(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const f=d=>{L3(d)&&(u(d),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}function Ov(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const Iz=(t,e)=>e?t===e?!0:Iz(t,e.parentElement):!1,m2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,nte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rte(t){return nte.has(t.tagName)||t.tabIndex!==-1}const Ev=new WeakSet;function F3(t){return e=>{e.key==="Enter"&&t(e)}}function zM(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ite=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=F3(()=>{if(Ev.has(n))return;zM(n,"down");const i=F3(()=>{zM(n,"up")}),s=()=>zM(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function O3(t){return m2(t)&&!Rz()}function ste(t,e,n={}){const[r,i,s]=Pz(t,n),o=a=>{const l=a.currentTarget;if(!l||!O3(a)||Ev.has(l))return;Ev.add(l),Ov(a,"set");const u=e(l,a),f=(g,y)=>{l.removeEventListener("pointerup",d),l.removeEventListener("pointercancel",p),Ov(g,"release"),!(!O3(g)||!Ev.has(l))&&(Ev.delete(l),typeof u=="function"&&u(g,{success:y}))},d=g=>{(g.isTrusted?ote(g,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?f(g,!1):f(g,!(l instanceof Element)||Iz(l,g.target))},p=g=>{f(g,!1)};l.addEventListener("pointerup",d,i),l.addEventListener("pointercancel",p,i),l.addEventListener("lostpointercapture",p,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!rte(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,i),l&&a.addEventListener("focus",u=>ite(u,i),i)}),s}function ote(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function ate(t){return t==="x"||t==="y"?Wa[t]?null:(Wa[t]=!0,()=>{Wa[t]=!1}):Wa.x||Wa.y?null:(Wa.x=Wa.y=!0,()=>{Wa.x=Wa.y=!1})}const Bz=new Set(["width","height","top","left","right","bottom",...Um]);let Q_;function lte(){Q_=void 0}const Hl={now:()=>(Q_===void 0&&Hl.set(ss.isProcessing||ree.useManualTiming?ss.timestamp:performance.now()),Q_),set:t=>{Q_=t,queueMicrotask(lte)}};function g2(t,e){t.indexOf(e)===-1&&t.push(e)}function v2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class y2{constructor(){this.subscriptions=[]}add(e){return g2(this.subscriptions,e),()=>v2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Dz(t,e){return e?t*(1e3/e):0}const k3=30,ute=t=>!isNaN(parseFloat(t));class cte{constructor(e,n={}){this.version="12.4.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Hl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Hl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ute(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new y2);const r=this.events[e].add(n);return e==="change"?()=>{r(),vr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,k3);return Dz(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wm(t,e){return new cte(t,e)}function fte(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wm(n))}function dte(t,e){const n=Ay(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Vee(s[o]);fte(t,o,a)}}function hte(t){return!!(As(t)&&t.add)}function $C(t,e){const n=t.getValue("willChange");if(hte(n))return n.add(e)}function Lz(t){return t.props[fz]}const Fz=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pte=1e-7,mte=12;function gte(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Fz(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>pte&&++a<mte);return o}function a0(t,e,n,r){if(t===e&&n===r)return Lo;const i=s=>gte(s,0,1,t,n);return s=>s===0||s===1?s:Fz(i(s),e,r)}const Oz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kz=t=>e=>1-t(1-e),Uz=a0(.33,1.53,.69,.99),x2=kz(Uz),Nz=Oz(x2),zz=t=>(t*=2)<1?.5*x2(t):.5*(2-Math.pow(2,-10*(t-1))),_2=t=>1-Math.sin(Math.acos(t)),Gz=kz(_2),Hz=Oz(_2),Vz=t=>/^0[^.\s]+$/u.test(t);function vte(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Vz(t):!0}const kv=t=>Math.round(t*1e5)/1e5,S2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yte(t){return t==null}const xte=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,A2=(t,e)=>n=>!!(typeof n=="string"&&xte.test(n)&&n.startsWith(t)||e&&!yte(n)&&Object.prototype.hasOwnProperty.call(n,e)),jz=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(S2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_te=t=>ec(0,255,t),GM={...Nm,transform:t=>Math.round(_te(t))},Gd={test:A2("rgb","red"),parse:jz("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+GM.transform(t)+", "+GM.transform(e)+", "+GM.transform(n)+", "+kv(Sy.transform(r))+")"};function Ste(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const QC={test:A2("#"),parse:Ste,transform:Gd.transform},Yp={test:A2("hsl","hue"),parse:jz("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Gl.transform(kv(e))+", "+Gl.transform(kv(n))+", "+kv(Sy.transform(r))+")"},Ss={test:t=>Gd.test(t)||QC.test(t)||Yp.test(t),parse:t=>Gd.test(t)?Gd.parse(t):Yp.test(t)?Yp.parse(t):QC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gd.transform(t):Yp.transform(t)},Ate=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wte(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(S2))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Ate))===null||n===void 0?void 0:n.length)||0)>0}const Wz="number",Xz="color",bte="var",Mte="var(",U3="${}",Ete=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Ete,l=>(Ss.test(l)?(r.color.push(s),i.push(Xz),n.push(Ss.parse(l))):l.startsWith(Mte)?(r.var.push(s),i.push(bte),n.push(l)):(r.number.push(s),i.push(Wz),n.push(parseFloat(l))),++s,U3)).split(U3);return{values:n,split:a,indexes:r,types:i}}function qz(t){return wy(t).values}function Kz(t){const{split:e,types:n}=wy(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Wz?s+=kv(i[o]):a===Xz?s+=Ss.transform(i[o]):s+=i[o]}return s}}const Cte=t=>typeof t=="number"?0:t;function Tte(t){const e=qz(t);return Kz(t)(e.map(Cte))}const mf={test:wte,parse:qz,createTransformer:Kz,getAnimatableNone:Tte},Rte=new Set(["brightness","contrast","saturate","opacity"]);function Pte(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(S2)||[];if(!r)return t;const i=n.replace(r,"");let s=Rte.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Ite=/\b([a-z-]*)\(.*?\)/gu,ZC={...mf,getAnimatableNone:t=>{const e=t.match(Ite);return e?e.map(Pte).join(" "):t}},Bte={...i2,color:Ss,backgroundColor:Ss,outlineColor:Ss,fill:Ss,stroke:Ss,borderColor:Ss,borderTopColor:Ss,borderRightColor:Ss,borderBottomColor:Ss,borderLeftColor:Ss,filter:ZC,WebkitFilter:ZC},w2=t=>Bte[t];function Jz(t,e){let n=w2(t);return n!==ZC&&(n=mf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Dte=new Set(["auto","none","0"]);function Lte(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Dte.has(s)&&wy(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Jz(n,i)}const N3=t=>t===Nm||t===cn,z3=(t,e)=>parseFloat(t.split(", ")[e]),G3=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return z3(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?z3(s[1],t):0}},Fte=new Set(["x","y","z"]),Ote=Um.filter(t=>!Fte.has(t));function kte(t){const e=[];return Ote.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const bm={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:G3(4,13),y:G3(5,14)};bm.translateX=bm.x;bm.translateY=bm.y;const Jd=new Set;let eT=!1,tT=!1;function Yz(){if(tT){const t=Array.from(Jd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=kte(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tT=!1,eT=!1,Jd.forEach(t=>t.complete()),Jd.clear()}function $z(){Jd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tT=!0)})}function Ute(){$z(),Yz()}class b2{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jd.add(this),eT||(eT=!0,vr.read($z),vr.resolveKeyframes(Yz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Qz=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Nte=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zte(t){const e=Nte.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Zz(t,e,n=1){const[r,i]=zte(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Qz(o)?parseFloat(o):o}return r2(i)?Zz(i,e,n+1):i}const e5=t=>e=>e.test(t),Gte={test:t=>t==="auto",parse:t=>t},t5=[Nm,cn,Gl,Yc,Eee,Mee,Gte],H3=t=>t5.find(e5(t));class n5 extends b2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),r2(u))){const f=Zz(u,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Bz.has(r)||e.length!==2)return;const[i,s]=e,o=H3(i),a=H3(s);if(o!==a)if(N3(o)&&N3(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)vte(e[i])&&r.push(i);r.length&&Lte(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bm[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=bm[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const V3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mf.test(t)||t==="0")&&!t.startsWith("url("));function Hte(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Vte(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=V3(i,e),a=V3(s,e);return!o||!a?!1:Hte(t)||(n==="spring"||h2(n))&&r}const jte=t=>t!==null;function iA(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(jte),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Wte=40;class r5{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Hl.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Wte?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ute(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Hl.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Vte(e,r,i,s))if(o)this.options.duration=0;else{l&&l(iA(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ur=(t,e,n)=>t+(e-t)*n;function HM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Xte({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=HM(l,a,t+1/3),s=HM(l,a,t),o=HM(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function M1(t,e){return n=>n>0?e:t}const VM=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},qte=[QC,Gd,Yp],Kte=t=>qte.find(e=>e.test(t));function j3(t){const e=Kte(t);if(!e)return!1;let n=e.parse(t);return e===Yp&&(n=Xte(n)),n}const W3=(t,e)=>{const n=j3(t),r=j3(e);if(!n||!r)return M1(t,e);const i={...n};return s=>(i.red=VM(n.red,r.red,s),i.green=VM(n.green,r.green,s),i.blue=VM(n.blue,r.blue,s),i.alpha=Ur(n.alpha,r.alpha,s),Gd.transform(i))},Jte=(t,e)=>n=>e(t(n)),l0=(...t)=>t.reduce(Jte),nT=new Set(["none","hidden"]);function Yte(t,e){return nT.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $te(t,e){return n=>Ur(t,e,n)}function M2(t){return typeof t=="number"?$te:typeof t=="string"?r2(t)?M1:Ss.test(t)?W3:ene:Array.isArray(t)?i5:typeof t=="object"?Ss.test(t)?W3:Qte:M1}function i5(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>M2(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Qte(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=M2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Zte(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const ene=(t,e)=>{const n=mf.createTransformer(e),r=wy(t),i=wy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?nT.has(t)&&!i.values.length||nT.has(e)&&!r.values.length?Yte(t,e):l0(i5(Zte(r,i),i.values),n):M1(t,e)};function s5(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ur(t,e,n):M2(t)(t,e)}const tne=5;function o5(t,e,n){const r=Math.max(e-tne,0);return Dz(n-t(r),e-r)}const $r={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},X3=.001;function nne({duration:t=$r.duration,bounce:e=$r.bounce,velocity:n=$r.velocity,mass:r=$r.mass}){let i,s,o=1-e;o=ec($r.minDamping,$r.maxDamping,o),t=ec($r.minDuration,$r.maxDuration,Wu(t)),o<1?(i=u=>{const f=u*o,d=f*t,p=f-n,g=rT(u,o),y=Math.exp(-d);return X3-p/g*y},s=u=>{const d=u*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),S=rT(Math.pow(u,2),o);return(-i(u)+X3>0?-1:1)*((p-g)*y)/S}):(i=u=>{const f=Math.exp(-u*t),d=(u-n)*t+1;return-.001+f*d},s=u=>{const f=Math.exp(-u*t),d=(n-u)*(t*t);return f*d});const a=5/t,l=ine(i,s,a);if(t=ju(t),isNaN(l))return{stiffness:$r.stiffness,damping:$r.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const rne=12;function ine(t,e,n){let r=n;for(let i=1;i<rne;i++)r=r-t(r)/e(r);return r}function rT(t,e){return t*Math.sqrt(1-e*e)}const sne=["duration","bounce"],one=["stiffness","damping","mass"];function q3(t,e){return e.some(n=>t[n]!==void 0)}function ane(t){let e={velocity:$r.velocity,stiffness:$r.stiffness,damping:$r.damping,mass:$r.mass,isResolvedFromDuration:!1,...t};if(!q3(t,one)&&q3(t,sne))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ec(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:$r.mass,stiffness:i,damping:s}}else{const n=nne(t);e={...e,...n,mass:$r.mass},e.isResolvedFromDuration=!0}return e}function a5(t=$r.visualDuration,e=$r.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:f,duration:d,velocity:p,isResolvedFromDuration:g}=ane({...n,velocity:-Wu(n.velocity||0)}),y=p||0,S=u/(2*Math.sqrt(l*f)),_=o-s,x=Wu(Math.sqrt(l/f)),b=Math.abs(_)<5;r||(r=b?$r.restSpeed.granular:$r.restSpeed.default),i||(i=b?$r.restDelta.granular:$r.restDelta.default);let w;if(S<1){const C=rT(x,S);w=I=>{const B=Math.exp(-S*x*I);return o-B*((y+S*x*_)/C*Math.sin(C*I)+_*Math.cos(C*I))}}else if(S===1)w=C=>o-Math.exp(-x*C)*(_+(y+x*_)*C);else{const C=x*Math.sqrt(S*S-1);w=I=>{const B=Math.exp(-S*x*I),P=Math.min(C*I,300);return o-B*((y+S*x*_)*Math.sinh(P)+C*_*Math.cosh(P))/C}}const M={calculatedDuration:g&&d||null,next:C=>{const I=w(C);if(g)a.done=C>=d;else{let B=0;S<1&&(B=C===0?ju(y):o5(w,C,I));const P=Math.abs(B)<=r,L=Math.abs(o-I)<=i;a.done=P&&L}return a.value=a.done?o:I,a},toString:()=>{const C=Math.min(Mz(M),JC),I=Ez(B=>M.next(C*B).value,C,30);return C+"ms "+I}};return M}function K3({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const d=t[0],p={done:!1,value:d},g=P=>a!==void 0&&P<a||l!==void 0&&P>l,y=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let S=n*e;const _=d+S,x=o===void 0?_:o(_);x!==_&&(S=x-d);const b=P=>-S*Math.exp(-P/r),w=P=>x+b(P),M=P=>{const L=b(P),E=w(P);p.done=Math.abs(L)<=u,p.value=p.done?x:E};let C,I;const B=P=>{g(p.value)&&(C=P,I=a5({keyframes:[p.value,y(p.value)],velocity:o5(w,P,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return B(0),{calculatedDuration:null,next:P=>{let L=!1;return!I&&C===void 0&&(L=!0,M(P),B(P)),C!==void 0&&P>=C?I.next(P-C):(!L&&M(P),p)}}}const lne=a0(.42,0,1,1),une=a0(0,0,.58,1),l5=a0(.42,0,.58,1),cne=t=>Array.isArray(t)&&typeof t[0]!="number",fne={linear:Lo,easeIn:lne,easeInOut:l5,easeOut:une,circIn:_2,circInOut:Hz,circOut:Gz,backIn:x2,backInOut:Nz,backOut:Uz,anticipate:zz},J3=t=>{if(p2(t)){oz(t.length===4);const[e,n,r,i]=t;return a0(e,n,r,i)}else if(typeof t=="string")return fne[t];return t};function dne(t,e,n){const r=[],i=n||s5,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Lo:e;a=l0(l,a)}r.push(a)}return r}function hne(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(oz(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=dne(e,r,i),l=a.length,u=f=>{if(o&&f<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(f<t[d+1]);d++);const p=Sm(t[d],t[d+1],f);return a[d](p)};return n?f=>u(ec(t[0],t[s-1],f)):u}function pne(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Sm(0,e,r);t.push(Ur(n,1,i))}}function mne(t){const e=[0];return pne(e,t.length-1),e}function gne(t,e){return t.map(n=>n*e)}function vne(t,e){return t.map(()=>e||l5).splice(0,t.length-1)}function E1({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=cne(r)?r.map(J3):J3(r),s={done:!1,value:e[0]},o=gne(n&&n.length===e.length?n:mne(e),t),a=hne(o,e,{ease:Array.isArray(i)?i:vne(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const yne=t=>{const e=({timestamp:n})=>t(n);return{start:()=>vr.update(e,!0),stop:()=>Zu(e),now:()=>ss.isProcessing?ss.timestamp:Hl.now()}},xne={decay:K3,inertia:K3,tween:E1,keyframes:E1,spring:a5},_ne=t=>t/100;class E2 extends r5{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||b2,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=h2(n)?n:xne[n]||E1;let l,u;a!==E1&&typeof e[0]!="number"&&(l=l0(_ne,s5(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=Mz(f));const{calculatedDuration:d}=f,p=d+i,g=p*(r+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:f,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:g,repeatType:y,repeatDelay:S,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>f;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let w=this.currentTime,M=s;if(g){const P=Math.min(this.currentTime,f)/d;let L=Math.floor(P),E=P%1;!E&&P>=1&&(E=1),E===1&&L--,L=Math.min(L,g+1),!!(L%2)&&(y==="reverse"?(E=1-E,S&&(E-=S/d)):y==="mirror"&&(M=o)),w=ec(0,1,E)*d}const C=b?{done:!1,value:l[0]}:M.next(w);a&&(C.value=a(C.value));let{done:I}=C;!b&&u!==null&&(I=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return B&&i!==void 0&&(C.value=iA(l,this.options,i)),_&&_(C.value),B&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Wu(e.calculatedDuration):0}get time(){return Wu(this.currentTime)}set time(e){e=ju(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wu(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=yne,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Sne=new Set(["opacity","clipPath","filter","transform"]);function Ane(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const f=Tz(a,i);return Array.isArray(f)&&(u.easing=f),t.animate(u,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const wne=$R(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),C1=10,bne=2e4;function Mne(t){return h2(t.type)||t.type==="spring"||!Cz(t.ease)}function Ene(t,e){const n=new E2({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<bne;)r=n.sample(s),i.push(r.value),s+=C1;return{times:void 0,keyframes:i,duration:s-C1,ease:"linear"}}const u5={anticipate:zz,backInOut:Nz,circInOut:Hz};function Cne(t){return t in u5}class Y3 extends r5{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new n5(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&b1()&&Cne(s)&&(s=u5[s]),Mne(this.options)){const{onComplete:d,onUpdate:p,motionValue:g,element:y,...S}=this.options,_=Ene(e,S);e=_.keyframes,e.length===1&&(e[1]=e[0]),r=_.duration,i=_.times,s=_.ease,o="keyframes"}const f=Ane(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(D3(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:d}=this.options;a.set(iA(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Wu(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Wu(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ju(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Lo;const{animation:r}=n;D3(r,e)}return Lo}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:d,element:p,...g}=this.options,y=new E2({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),S=ju(this.time);u.setWithVelocity(y.sample(S-C1).value,y.sample(S).value,C1)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return wne()&&r&&Sne.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Tne={type:"spring",stiffness:500,damping:25,restSpeed:10},Rne=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Pne={type:"keyframes",duration:.8},Ine={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bne=(t,{keyframes:e})=>e.length>2?Pne:_h.has(t)?t.startsWith("scale")?Rne(e[1]):Tne:Ine;function Dne({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const C2=(t,e,n,r={},i,s)=>o=>{const a=d2(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ju(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Dne(a)||(f={...f,...Bne(t,f)}),f.duration&&(f.duration=ju(f.duration)),f.repeatDelay&&(f.repeatDelay=ju(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const p=iA(f.keyframes,a);if(p!==void 0)return vr.update(()=>{f.onUpdate(p),f.onComplete()}),new $ee([])}return!s&&Y3.supports(f)?new Y3(f):new E2(f)};function Lne({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function c5(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const p=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),g=l[d];if(g===void 0||f&&Lne(f,d))continue;const y={delay:n,...d2(o||{},d)};let S=!1;if(window.MotionHandoffAnimation){const x=Lz(t);if(x){const b=window.MotionHandoffAnimation(x,d,vr);b!==null&&(y.startTime=b,S=!0)}}$C(t,d),p.start(C2(d,p,g,t.shouldReduceMotion&&Bz.has(d)?{type:!1}:y,t,S));const _=p.animation;_&&u.push(_)}return a&&Promise.all(u).then(()=>{vr.update(()=>{a&&dte(t,a)})}),u}function iT(t,e,n={}){var r;const i=Ay(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(c5(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:p}=s;return Fne(t,e,f+u,d,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,f]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function Fne(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(One).forEach((u,f)=>{u.notify("AnimationStart",e),o.push(iT(u,e,{...s,delay:n+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function One(t,e){return t.sortNodePosition(e)}function kne(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>iT(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=iT(t,e,n);else{const i=typeof e=="function"?Ay(t,e,n.custom):e;r=Promise.all(c5(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function f5(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Une=ZR.length;function d5(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?d5(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Une;n++){const r=ZR[n],i=t.props[r];(xy(i)||i===!1)&&(e[r]=i)}return e}const Nne=[...QR].reverse(),zne=QR.length;function Gne(t){return e=>Promise.all(e.map(({animation:n,options:r})=>kne(t,n,r)))}function Hne(t){let e=Gne(t),n=$3(),r=!0;const i=l=>(u,f)=>{var d;const p=Ay(t,f,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:g,transitionEnd:y,...S}=p;u={...u,...S,...y}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,f=d5(t.parent)||{},d=[],p=new Set;let g={},y=1/0;for(let _=0;_<zne;_++){const x=Nne[_],b=n[x],w=u[x]!==void 0?u[x]:f[x],M=xy(w),C=x===l?b.isActive:null;C===!1&&(y=_);let I=w===f[x]&&w!==u[x]&&M;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),b.protectedKeys={...g},!b.isActive&&C===null||!w&&!b.prevProp||nA(w)||typeof w=="boolean")continue;const B=Vne(b.prevProp,w);let P=B||x===l&&b.isActive&&!I&&M||_>y&&M,L=!1;const E=Array.isArray(w)?w:[w];let O=E.reduce(i(x),{});C===!1&&(O={});const{prevResolvedValues:U={}}=b,H={...U,...O},q=ie=>{P=!0,p.has(ie)&&(L=!0,p.delete(ie)),b.needsAnimating[ie]=!0;const W=t.getValue(ie);W&&(W.liveStyle=!1)};for(const ie in H){const W=O[ie],Y=U[ie];if(g.hasOwnProperty(ie))continue;let Q=!1;KC(W)&&KC(Y)?Q=!f5(W,Y):Q=W!==Y,Q?W!=null?q(ie):p.add(ie):W!==void 0&&p.has(ie)?q(ie):b.protectedKeys[ie]=!0}b.prevProp=w,b.prevResolvedValues=O,b.isActive&&(g={...g,...O}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(I&&B)||L)&&d.push(...E.map(ie=>({animation:ie,options:{type:x}})))}if(p.size){const _={};if(typeof u.initial!="boolean"){const x=Ay(t,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(_.transition=x.transition)}p.forEach(x=>{const b=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),_[x]=b??null}),d.push({animation:_})}let S=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=$3(),r=!0}}}function Vne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!f5(e,t):!1}function ld(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $3(){return{animate:ld(!0),whileInView:ld(),whileHover:ld(),whileTap:ld(),whileDrag:ld(),whileFocus:ld(),exit:ld()}}class Af{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jne extends Af{constructor(e){super(e),e.animationState||(e.animationState=Hne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Wne=0;class Xne extends Af{constructor(){super(...arguments),this.id=Wne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qne={animation:{Feature:jne},exit:{Feature:Xne}};function by(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function u0(t){return{point:{x:t.pageX,y:t.pageY}}}const Kne=t=>e=>m2(e)&&t(e,u0(e));function $p(t,e,n,r){return by(t,e,Kne(n),r)}function h5({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Jne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Yne(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const p5=1e-4,$ne=1-p5,Qne=1+p5,m5=.01,Zne=0-m5,ere=0+m5;function Vs(t){return t.max-t.min}function tre(t,e,n){return Math.abs(t-e)<=n}function Q3(t,e,n,r=.5){t.origin=r,t.originPoint=Ur(e.min,e.max,t.origin),t.scale=Vs(n)/Vs(e),t.translate=Ur(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$ne&&t.scale<=Qne||isNaN(t.scale))&&(t.scale=1),(t.translate>=Zne&&t.translate<=ere||isNaN(t.translate))&&(t.translate=0)}function Uv(t,e,n,r){Q3(t.x,e.x,n.x,r?r.originX:void 0),Q3(t.y,e.y,n.y,r?r.originY:void 0)}function Z3(t,e,n){t.min=n.min+e.min,t.max=t.min+Vs(e)}function nre(t,e,n){Z3(t.x,e.x,n.x),Z3(t.y,e.y,n.y)}function eF(t,e,n){t.min=e.min-n.min,t.max=t.min+Vs(e)}function Nv(t,e,n){eF(t.x,e.x,n.x),eF(t.y,e.y,n.y)}const tF=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qp=()=>({x:tF(),y:tF()}),nF=()=>({min:0,max:0}),si=()=>({x:nF(),y:nF()});function ea(t){return[t("x"),t("y")]}function jM(t){return t===void 0||t===1}function sT({scale:t,scaleX:e,scaleY:n}){return!jM(t)||!jM(e)||!jM(n)}function Rd(t){return sT(t)||g5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function g5(t){return rF(t.x)||rF(t.y)}function rF(t){return t&&t!=="0%"}function T1(t,e,n){const r=t-n,i=e*r;return n+i}function iF(t,e,n,r,i){return i!==void 0&&(t=T1(t,i,r)),T1(t,n,r)+e}function oT(t,e=0,n=1,r,i){t.min=iF(t.min,e,n,r,i),t.max=iF(t.max,e,n,r,i)}function v5(t,{x:e,y:n}){oT(t.x,e.translate,e.scale,e.originPoint),oT(t.y,n.translate,n.scale,n.originPoint)}const sF=.999999999999,oF=1.0000000000001;function rre(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&em(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,v5(t,o)),r&&Rd(s.latestValues)&&em(t,s.latestValues))}e.x<oF&&e.x>sF&&(e.x=1),e.y<oF&&e.y>sF&&(e.y=1)}function Zp(t,e){t.min=t.min+e,t.max=t.max+e}function aF(t,e,n,r,i=.5){const s=Ur(t.min,t.max,i);oT(t,e,n,s,r)}function em(t,e){aF(t.x,e.x,e.scaleX,e.scale,e.originX),aF(t.y,e.y,e.scaleY,e.scale,e.originY)}function y5(t,e){return h5(Yne(t.getBoundingClientRect(),e))}function ire(t,e,n){const r=y5(t,n),{scroll:i}=e;return i&&(Zp(r.x,i.offset.x),Zp(r.y,i.offset.y)),r}const lF=(t,e)=>Math.abs(t-e);function sre(t,e){const n=lF(t.x,e.x),r=lF(t.y,e.y);return Math.sqrt(n**2+r**2)}class x5{constructor(e,n,{transformPagePoint:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=XM(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=sre(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:g}=f,{timestamp:y}=ss;this.history.push({...g,timestamp:y});const{onStart:S,onMove:_}=this.handlers;d||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{if(this.index=cF(f.currentTarget),f.target instanceof Element&&f.target.hasPointerCapture&&f.pointerId!==void 0)try{if(!f.target.hasPointerCapture(f.pointerId))return}catch{}this.lastMoveEvent=f,this.lastMoveEventInfo=WM(d,this.transformPagePoint),vr.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{Ov(f,"release"),this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=XM(f.type==="pointercancel"||f.type==="lostpointercapture"?this.lastMoveEventInfo:WM(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,S),g&&g(f,S)},!m2(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r;const s=u0(e),o=WM(s,this.transformPagePoint),{point:a}=o,{timestamp:l}=ss;this.history=[{...a,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,XM(o,this.history)),Ov(e,"set"),this.removeListeners=l0($p(e.currentTarget,"pointermove",this.handlePointerMove),$p(e.currentTarget,"pointerup",this.handlePointerUp),$p(e.currentTarget,"pointercancel",this.handlePointerUp),$p(e.currentTarget,"lostpointercapture",(f,d)=>{cF(f.currentTarget)!==this.index?Ov(f,"set"):this.handlePointerUp(f,d)}))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zu(this.updatePoint)}}function WM(t,e){return e?{point:e(t.point)}:t}function uF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function XM({point:t},e){return{point:t,delta:uF(t,_5(e)),offset:uF(t,ore(e)),velocity:are(e,.1)}}function ore(t){return t[0]}function _5(t){return t[t.length-1]}function are(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=_5(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ju(e)));)n--;if(!r)return{x:0,y:0};const s=Wu(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cF(t){return t.parentNode?Array.from(t.parentNode.children).indexOf(t):-1}function lre(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ur(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ur(n,t,r.max):Math.min(t,n)),t}function fF(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ure(t,{top:e,left:n,bottom:r,right:i}){return{x:fF(t.x,n,i),y:fF(t.y,e,r)}}function dF(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cre(t,e){return{x:dF(t.x,e.x),y:dF(t.y,e.y)}}function fre(t,e){let n=.5;const r=Vs(t),i=Vs(e);return i>r?n=Sm(e.min,e.max-r,t.min):r>i&&(n=Sm(t.min,t.max-i,e.min)),ec(0,1,n)}function dre(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const aT=.35;function hre(t=aT){return t===!1?t=0:t===!0&&(t=aT),{x:hF(t,"left","right"),y:hF(t,"top","bottom")}}function hF(t,e,n){return{min:pF(t,e),max:pF(t,n)}}function pF(t,e){return typeof t=="number"?t:t[e]||0}const pre=new WeakMap;class mre{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=si(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(u0(f).point)},s=(f,d)=>{const{drag:p,dragPropagation:g,onDragStart:y}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ate(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ea(_=>{let x=this.getAxisMotionValue(_).get()||0;if(Gl.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[_];w&&(x=Vs(w)*(parseFloat(x)/100))}}this.originPoint[_]=x}),y&&vr.postRender(()=>y(f,d)),$C(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:y,onDrag:S}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:_}=d;if(g&&this.currentDirection===null){this.currentDirection=gre(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),S&&S(f,d)},a=(f,d)=>this.stop(f,d),l=()=>ea(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new x5(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&vr.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!zx(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=lre(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Jp(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ure(i.layoutBox,n):this.constraints=!1,this.elastic=hre(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ea(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dre(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ire(r,i.root,this.visualElement.getTransformPagePoint());let o=cre(i.layout.layoutBox,s);if(n){const a=n(Jne(o));this.hasMutatedConstraints=!!a,a&&(o=h5(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ea(f=>{if(!zx(f,n,this.currentDirection))return;let d=l&&l[f]||{};o&&(d={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,y={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $C(this.visualElement,e),r.start(C2(e,r,0,n,this.visualElement,!1))}stopAnimation(){ea(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ea(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ea(n=>{const{drag:r}=this.getProps();if(!zx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ur(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ea(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=fre({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ea(o=>{if(!zx(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ur(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;pre.set(this.visualElement,this);const e=this.visualElement.current,n=$p(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Jp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vr.read(r);const o=by(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ea(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=aT,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gre(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vre extends Af{constructor(e){super(e),this.removeGroupControls=Lo,this.removeListeners=Lo,this.controls=new mre(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lo}unmount(){this.removeGroupControls(),this.removeListeners()}}const mF=t=>(e,n)=>{t&&vr.postRender(()=>t(e,n))};class yre extends Af{constructor(){super(...arguments),this.removePointerDownListener=Lo}onPointerDown(e){this.session=new x5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:mF(e),onStart:mF(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&vr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=$p(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Z_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gF(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(cn.test(t))t=parseFloat(t);else return t;const n=gF(t,e.target.x),r=gF(t,e.target.y);return`${n}% ${r}%`}},xre={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=mf.parse(t);if(i.length>5)return r;const s=mf.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ur(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class _re extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;bee(Sre),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Z_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||vr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),t2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function S5(t){const[e,n]=tee(),r=G.useContext(iz);return V.jsx(_re,{...t,layoutGroup:r,switchLayoutGroup:G.useContext(dz),isPresent:e,safeToRemove:n})}const Sre={borderRadius:{...Jg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jg,borderTopRightRadius:Jg,borderBottomLeftRadius:Jg,borderBottomRightRadius:Jg,boxShadow:xre};function Are(t,e,n){const r=As(t)?t:wm(t);return r.start(C2("",r,e,n)),r.animation}function wre(t){return t instanceof SVGElement&&t.tagName!=="svg"}const bre=(t,e)=>t.depth-e.depth;class Mre{constructor(){this.children=[],this.isDirty=!1}add(e){g2(this.children,e),this.isDirty=!0}remove(e){v2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bre),this.isDirty=!1,this.children.forEach(e)}}function Ere(t,e){const n=Hl.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Zu(r),t(s-e))};return vr.read(r,!0),()=>Zu(r)}const A5=["TopLeft","TopRight","BottomLeft","BottomRight"],Cre=A5.length,vF=t=>typeof t=="string"?parseFloat(t):t,yF=t=>typeof t=="number"||cn.test(t);function Tre(t,e,n,r,i,s){i?(t.opacity=Ur(0,n.opacity!==void 0?n.opacity:1,Rre(r)),t.opacityExit=Ur(e.opacity!==void 0?e.opacity:1,0,Pre(r))):s&&(t.opacity=Ur(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Cre;o++){const a=`border${A5[o]}Radius`;let l=xF(e,a),u=xF(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||yF(l)===yF(u)?(t[a]=Math.max(Ur(vF(l),vF(u),r),0),(Gl.test(u)||Gl.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ur(e.rotate||0,n.rotate||0,r))}function xF(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Rre=w5(0,.5,Gz),Pre=w5(.5,.95,Lo);function w5(t,e,n){return r=>r<t?0:r>e?1:n(Sm(t,e,r))}function _F(t,e){t.min=e.min,t.max=e.max}function Qo(t,e){_F(t.x,e.x),_F(t.y,e.y)}function SF(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function AF(t,e,n,r,i){return t-=e,t=T1(t,1/n,r),i!==void 0&&(t=T1(t,1/i,r)),t}function Ire(t,e=0,n=1,r=.5,i,s=t,o=t){if(Gl.test(e)&&(e=parseFloat(e),e=Ur(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ur(s.min,s.max,r);t===s&&(a-=e),t.min=AF(t.min,e,n,a,i),t.max=AF(t.max,e,n,a,i)}function wF(t,e,[n,r,i],s,o){Ire(t,e[n],e[r],e[i],e.scale,s,o)}const Bre=["x","scaleX","originX"],Dre=["y","scaleY","originY"];function bF(t,e,n,r){wF(t.x,e,Bre,n?n.x:void 0,r?r.x:void 0),wF(t.y,e,Dre,n?n.y:void 0,r?r.y:void 0)}function MF(t){return t.translate===0&&t.scale===1}function b5(t){return MF(t.x)&&MF(t.y)}function EF(t,e){return t.min===e.min&&t.max===e.max}function Lre(t,e){return EF(t.x,e.x)&&EF(t.y,e.y)}function CF(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function M5(t,e){return CF(t.x,e.x)&&CF(t.y,e.y)}function TF(t){return Vs(t.x)/Vs(t.y)}function RF(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Fre{constructor(){this.members=[]}add(e){g2(this.members,e),e.scheduleRender()}remove(e){if(v2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ore(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:d,rotateY:p,skewX:g,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const qM=["","X","Y","Z"],kre={visibility:"hidden"},PF=1e3;let Ure=0;function KM(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function E5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Lz(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&E5(r)}function C5({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Ure++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gre),this.nodes.forEach(Xre),this.nodes.forEach(qre),this.nodes.forEach(Hre)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mre)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new y2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wre(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Ere(p,250),Z_.hasAnimatedSinceResize&&(Z_.hasAnimatedSinceResize=!1,this.nodes.forEach(BF))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||Qre,{onLayoutAnimationStart:_,onLayoutAnimationComplete:x}=f.getProps(),b=!this.targetLayout||!M5(this.targetLayout,y),w=!p&&g;if(this.options.layoutRoot||this.resumeFrom||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const M={...d2(S,"layout"),onPlay:_,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else p||BF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IF);return}this.isUpdating||this.nodes.forEach(jre),this.isUpdating=!1,this.nodes.forEach(Wre),this.nodes.forEach(Nre),this.nodes.forEach(zre),this.clearAllSnapshots();const a=Hl.now();ss.delta=ec(0,1e3/60,a-ss.timestamp),ss.timestamp=a,ss.isProcessing=!0,NM.update.process(ss),NM.preRender.process(ss),NM.render.process(ss),ss.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Vre),this.sharedNodes.forEach(Jre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vs(this.snapshot.measuredBox.x)&&!Vs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=si(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!b5(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||Rd(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Zre(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return si();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(eie))){const{scroll:f}=this.root;f&&(Zp(l.x,f.offset.x),Zp(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=si();if(Qo(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:p}=f;f!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Qo(l,o),Zp(l.x,d.offset.x),Zp(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=si();Qo(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&em(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Rd(f.latestValues)&&em(l,f.latestValues)}return Rd(this.latestValues)&&em(l,this.latestValues),l}removeTransform(o){const a=si();Qo(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Rd(u.latestValues))continue;sT(u.latestValues)&&u.updateSnapshot();const f=si(),d=u.measurePageBox();Qo(f,d),bF(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Rd(this.latestValues)&&bF(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ss.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=ss.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=si(),this.relativeTargetOrigin=si(),Nv(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Qo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=si(),this.targetWithTransforms=si()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nre(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qo(this.target,this.layout.layoutBox),v5(this.target,this.targetDelta)):Qo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=si(),this.relativeTargetOrigin=si(),Nv(this.relativeTargetOrigin,this.target,g.target),Qo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sT(this.parent.latestValues)||g5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ss.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Qo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;rre(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=si());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SF(this.prevProjectionDelta.x,this.projectionDelta.x),SF(this.prevProjectionDelta.y,this.projectionDelta.y)),Uv(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!RF(this.projectionDelta.x,this.prevProjectionDelta.x)||!RF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qp(),this.projectionDelta=Qp(),this.projectionDeltaWithTransform=Qp()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},d=Qp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=si(),g=l?l.source:void 0,y=this.layout?this.layout.source:void 0,S=g!==y,_=this.getStack(),x=!_||_.members.length<=1,b=!!(S&&!x&&this.options.crossfade===!0&&!this.path.some($re));this.animationProgress=0;let w;this.mixTargetDelta=M=>{const C=M/1e3;DF(d.x,o.x,C),DF(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yre(this.relativeTarget,this.relativeTargetOrigin,p,C),w&&Lre(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=si()),Qo(w,this.relativeTarget)),S&&(this.animationValues=f,Tre(f,u,this.latestValues,C,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vr.update(()=>{Z_.hasAnimatedSinceResize=!0,this.currentAnimation=Are(0,PF,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&T5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||si();const d=Vs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Vs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Qo(a,l),em(a,f),Uv(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Fre),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&KM("z",o,u,this.animationValues);for(let f=0;f<qM.length;f++)KM(`rotate${qM[f]}`,o,u,this.animationValues),KM(`skew${qM[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kre;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$_(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=$_(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Rd(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Ore(this.projectionDeltaWithTransform,this.treeScale,p),f&&(u.transform=f(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in _y){if(p[S]===void 0)continue;const{correct:_,applyTo:x,isCSSVariable:b}=_y[S],w=u.transform==="none"?p[S]:_(p[S],d);if(x){const M=x.length;for(let C=0;C<M;C++)u[x[C]]=w}else b?this.options.visualElement.renderState.vars[S]=w:u[S]=w}return this.options.layoutId&&(u.pointerEvents=d===this?$_(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(IF),this.root.sharedNodes.clear()}}}function Nre(t){t.updateLayout()}function zre(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ea(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Vs(p);p.min=r[d].min,p.max=p.min+g}):T5(s,n.layoutBox,r)&&ea(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Vs(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Qp();Uv(a,r,n.layoutBox);const l=Qp();o?Uv(l,t.applyTransform(i,!0),n.measuredBox):Uv(l,r,n.layoutBox);const u=!b5(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const y=si();Nv(y,n.layoutBox,p.layoutBox);const S=si();Nv(S,r,g.layoutBox),M5(y,S)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Gre(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Hre(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Vre(t){t.clearSnapshot()}function IF(t){t.clearMeasurements()}function jre(t){t.isLayoutDirty=!1}function Wre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BF(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Xre(t){t.resolveTargetDelta()}function qre(t){t.calcProjection()}function Kre(t){t.resetSkewAndRotation()}function Jre(t){t.removeLeadSnapshot()}function DF(t,e,n){t.translate=Ur(e.translate,0,n),t.scale=Ur(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LF(t,e,n,r){t.min=Ur(e.min,n.min,r),t.max=Ur(e.max,n.max,r)}function Yre(t,e,n,r){LF(t.x,e.x,n.x,r),LF(t.y,e.y,n.y,r)}function $re(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qre={duration:.45,ease:[.4,0,.1,1]},FF=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),OF=FF("applewebkit/")&&!FF("chrome/")?Math.round:Lo;function kF(t){t.min=OF(t.min),t.max=OF(t.max)}function Zre(t){kF(t.x),kF(t.y)}function T5(t,e,n){return t==="position"||t==="preserve-aspect"&&!tre(TF(e),TF(n),.2)}function eie(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const tie=C5({attachResizeListener:(t,e)=>by(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),JM={current:void 0},R5=C5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!JM.current){const t=new tie({});t.mount(window),t.setOptions({layoutScroll:!0}),JM.current=t}return JM.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nie={pan:{Feature:yre},drag:{Feature:vre,ProjectionNode:R5,MeasureLayout:S5}};function UF(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&vr.postRender(()=>s(e,u0(e)))}class rie extends Af{mount(){const{current:e}=this.node;e&&(this.unmount=tte(e,(n,r)=>(UF(this.node,r,"Start"),i=>UF(this.node,i,"End"))))}unmount(){}}class iie extends Af{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=l0(by(this.node.current,"focus",()=>this.onFocus()),by(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function NF(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&vr.postRender(()=>s(e,u0(e)))}class sie extends Af{mount(){const{current:e}=this.node;e&&(this.unmount=ste(e,(n,r)=>(NF(this.node,r,"Start"),(i,{success:s})=>NF(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lT=new WeakMap,YM=new WeakMap,oie=t=>{const e=lT.get(t.target);e&&e(t)},aie=t=>{t.forEach(oie)};function lie({root:t,...e}){const n=t||document;YM.has(n)||YM.set(n,{});const r=YM.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(aie,{root:t,...e})),r[i]}function uie(t,e,n){const r=lie(e);return lT.set(t,n),r.observe(t),()=>{lT.delete(t),r.unobserve(t)}}const cie={some:0,all:1};class fie extends Af{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:cie[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),p=u?f:d;p&&p(l)};return uie(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(die(e,n))&&this.startObserver()}unmount(){}}function die({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hie={inView:{Feature:fie},tap:{Feature:sie},focus:{Feature:iie},hover:{Feature:rie}},pie={layout:{ProjectionNode:R5,MeasureLayout:S5}},uT={current:null},P5={current:!1};function mie(){if(P5.current=!0,!!YR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>uT.current=t.matches;t.addListener(e),e()}else uT.current=!1}const gie=[...t5,Ss,mf],vie=t=>gie.find(e5(t)),yie=new WeakMap;function xie(t,e,n){for(const r in e){const i=e[r],s=n[r];if(As(i))t.addValue(r,i);else if(As(s))t.addValue(r,wm(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,wm(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _ie{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=b2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Hl.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,vr.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=rA(n),this.isVariantNode=cz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const y=p[g];l[g]!==void 0&&As(y)&&y.set(l[g],!1)}}mount(e){this.current=e,yie.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),P5.current||mie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zu(this.notifyUpdate),Zu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_h.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&vr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Am){const n=Am[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):si()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zF.length;r++){const i=zF[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=xie(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=wm(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Qz(i)||Vz(i))?i=parseFloat(i):!vie(i)&&mf.test(n)&&(i=Jz(e,n)),this.setBaseTarget(e,As(i)?i.get():i)),As(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=c2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!As(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new y2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class I5 extends _ie{constructor(){super(...arguments),this.KeyframeResolver=n5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;As(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Sie(t){return window.getComputedStyle(t)}class Aie extends I5{constructor(){super(...arguments),this.type="html",this.renderInstance=Sz}readValueFromInstance(e,n){if(_h.has(n)){const r=w2(n);return r&&r.default||0}else{const r=Sie(e),i=(n2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return y5(e,n)}build(e,n,r){s2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return f2(e,n,r)}}class wie extends I5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=si,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&_z(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_h.has(n)){const r=w2(n);return r&&r.default||0}return n=Az.has(n)?n:e2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return bz(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&vr.postRender(this.updateDimensions)}build(e,n,r){l2(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){wz(e,n,r,i)}mount(e){this.isSVGTag=u2(e.tagName),super.mount(e)}}const bie=(t,e)=>a2(t)?new wie(e):new Aie(e,{allowProjection:t!==G.Fragment}),Mie=Kee({...qne,...hie,...nie,...pie},bie),Eie=cee(Mie);function Cie(t){const e=sz(()=>wm(t)),{isStatic:n}=G.useContext(eA);if(n){const[,r]=G.useState(t);G.useEffect(()=>e.on("change",r),[])}return e}function Tie(t){const e=G.useRef(0),{isStatic:n}=G.useContext(eA);G.useEffect(()=>{if(n)return;const r=({timestamp:i,delta:s})=>{e.current||(e.current=i),t(i-e.current,s)};return vr.update(r,!0),()=>Zu(r)},[t])}const Rie=["Code never lies; it reveals the truth behind the logic.","Embrace the curly braces.","Programmers dream in code, but their coffee runs on dreams.","Coding is like art: everyone has their unique style.","Perseverance is the key to conquering complex algorithms.","Why do programmers always mix up Christmas and Halloween? Because Oct 31 == Dec 25!","Byte by byte, we build the world.","Code with passion, debug with patience.","Handle errors gracefully; provide informative error messages.","The best thing about a boolean is even if you are wrong, you are only off by a bit.","Be careful when deleting files. Remember, in the digital world, there's no such thing as a 'Recycle Bin' for mistakes.","Failure is not an error, it's a step towards success in programming.","Stay humble, for there's always more to learn in coding.","Debugging is like solving a puzzle with invisible pieces.","Practice code review to learn from others and improve code quality.","Keep dependencies up to date to benefit from bug fixes and improvements.","Why did the programmer quit his job? Because he didn't get arrays!","Coding is like solving puzzles that you create for yourself.","The best code is self-explanatory, like a well-written story.","Why do Java developers wear glasses? Because they don't C#!","Follow the SOLID principles for better software design.","Test your code thoroughly. Unit tests are your safety net against unexpected bugs.","Always validate and sanitize user input to prevent security vulnerabilities.","Write modular code to promote reusability.","Don't repeat yourself (DRY principle). Write reusable code to avoid duplication and make maintenance easier.","Programmers make the world go binary.","What's a programmer's favorite dance move? The if-else shuffle!","Life is like coding, don't forget to comment on the good parts.","A byte saved is a byte earned. Optimize your code!","Code is power, wield it wisely.","Remember, every bug is an opportunity to learn and grow.","Profile and optimize bottlenecks for better performance.","Why did the programmer get stuck in the shower? The instructions said: 'Lather, Rinse, Repeat' but they couldn't find the base case!","Stay curious, keep coding, and never stop learning.","Document your code to make it easier for others to understand.","In coding, precision is key; even a small typo can cause big trouble.","Syntax error: Coffee not found. Deploy more caffeine!","Avoid deep nesting; aim for flatter code structures.","Keep your code DRY (Don't Repeat Yourself) to avoid redundancy.","Use meaningful variable names. Remember, code is read more often than it's written.","Programming is the art of turning coffee into code.","Avoid unnecessary complexity; simplicity is key.","Why do programmers prefer dark mode? Because light attracts bugs!","The beauty of programming lies in its endless possibilities.","Programming languages evolve, but logic remains timeless.","Coding is a language that connects humans and machines.","Debugging: the art of finding someone else's mistakes.","Programmers never die, they just get deprecated.","Optimize for readability; code is read more often than it's written.","A SQL query walks into a bar, walks up to two tables, and asks, 'Can I join you?'","Use meaningful names for variables, functions, and classes.","Use version control to track changes and collaborate effectively.","Refactor regularly to improve code maintainability.","Don't fear bugs, embrace them as learning opportunities.","The best programs are written with passion, not just instructions.","Test your code early and frequently to catch bugs sooner.","Did you know that 80% of the bugs in a software system come from 20% of the code? It's called the Pareto bug principle.","If debugging is the process of removing bugs, then programming must be the process of creating them in the first place!","Pro tip: When in doubt, add more coffee. It's the magical fuel that powers us programmers.","Write comments to explain the why, not the what. Good comments provide insights into the thought process.","Knock, knock. Who's there? Java. Java who? I'd tell you a joke about Java, but it's not your type.","Break down complex tasks into smaller, reusable functions.","A good programmer writes code that others can understand.","Write self-documenting code; make your intentions clear.","In programming, imagination is your greatest asset.","Don't optimize prematurely; focus on writing clean, working code first.","They say money can't buy happiness, but have you ever tried using the 'sudo' command?","Keep calm and refactor.","Roses are #FF0000, violets are #0000FF. I'm stuck in an infinite loop, and my love for coding is true.","The keyboard is mightier than the sword in the digital realm.","I told a joke in binary, but only 10 types of people understood it.","Keep calm and code on!","Why do programmers always mix up Christmas and Halloween? Because Oct 31 == Dec 25!","Remember, a byte saved is a byte earned. Optimize your code and optimize your life.","Code is the universal language of problem-solving.","Practice version control. Git can save you from countless headaches and help collaborate effectively.","Two bytes meet. The first byte asks, 'Are you ill?' The second byte replies, 'No, just feeling a bit off.'","Programming: turning ideas into reality, one line at a time.","Keep learning and exploring new technologies; embrace lifelong learning.","Why did the programmer go broke? Because he lost his domain in a bet!"];function Pie(t){const e=Math.floor(Math.random()*t.length);return t[e]}const Iie=async()=>Pie(Rie),cT=28,Bie=49,Die=8,Lie=64,Fie=49,Oie=5,kie=375-cT;function Uie(t){switch(t){case"walking":return Die;case"idle":return Oie}}const Nie=()=>{const[t,e]=G.useState("walking"),[n,r]=G.useState({walking:0,idle:0}),[i,s]=G.useState("left"),o=Cie(0),[a,l]=G.useState(""),u=t==="walking",[f,d]=G.useState(null),p=async _=>{f||(e("idle"),d(_.currentTarget),l(await Iie()),setTimeout(()=>{e("walking"),l(""),d(null)},8e3))},g=!!f;G.useEffect(()=>{setTimeout(()=>{const _=n[t],x=Uie(t);_<x-1?r({...n,[t]:_+1}):r({...n,[t]:0})},150)},[t,n[t]]),Tie(()=>{if(u){const _=o.get(),x=1/2,b=_+(i==="left"?1:-1)*x;o.set(b),_<=0?s("left"):_>=kie&&s("right")}});const y=new Image,S=new Image;return y.src="/DudeWalking.png",S.src="/DudeLookingUp.png",V.jsxs(V.Fragment,{children:[V.jsx(Eie.div,{onClick:p,style:{zIndex:2,cursor:"url('/Link select.cur'), auto",width:`${cT}px`,minHeight:`${u?Bie:Fie}px`,backgroundRepeat:"no-repeat",background:u?`url(${y.src}) -${n.walking*cT}px 0px`:`url(${S.src}) -${n.idle*Lie}px 0px`,position:"fixed",bottom:0,right:o,scaleX:i==="left"?-1:1}}),V.jsx(LX,{placement:"top-end",open:g,anchorEl:f,modifiers:[{name:"offset",options:{offset:[-20,10]}}],sx:{maxWidth:{xxs:"80%",sm:"50%"}},children:V.jsx(os,{component:"div",sx:{borderImage:"url(/balloon.png) 40 50 60 50 round",borderWidth:"28px 17px 40px 21px",borderStyle:"solid",bgcolor:"transparent",filter:_=>`drop-shadow(${_.shadows[3]})`},children:V.jsx(os,{component:"div",sx:{backgroundColor:"white",color:"black"},children:a})})})]})},zie=()=>{const[t,e]=G.useState(!1),n=eee(),r=RR();return G.useEffect(()=>{const i=localStorage.getItem("path");i&&(localStorage.removeItem("path"),r(i))},[]),V.jsxs(os,{component:"div",sx:{width:"100%",height:"100%",overflowX:"hidden",position:"relative",py:{xxs:10,sm:12,xl:16},px:{xxs:3.6,sm:14,xl:18},backgroundColor:i=>i.palette.background.paper,display:"flex",flexDirection:"column"},children:[V.jsx(Nie,{}),V.jsxs(os,{component:"div",sx:{position:"fixed",top:0,left:0,p:3.6,zIndex:i=>i.zIndex.drawer+1,width:"100%",display:"flex"},children:[V.jsx(Kp,{sx:{mr:3.3},onClick:()=>e(!t),children:V.jsx(Gs,{icon:"menu"})}),V.jsx(Kp,{sx:{mr:.3},LinkComponent:"a",target:"_blank",href:"https://www.linkedin.com/in/vlad-mosienko-766910186/",children:V.jsx(Gs,{icon:"linkedin"})}),V.jsx(Kp,{LinkComponent:"a",target:"_blank",href:"https://github.com/nfjdu",children:V.jsx(Gs,{icon:"github"})}),V.jsx(Kp,{sx:{ml:"auto"},onClick:()=>n(uZ()),children:V.jsx(Gs,{icon:"theme"})})]}),V.jsx(os,{component:"div",sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:i=>i.palette.menuBackground.main,opacity:t?1:0,zIndex:t?i=>i.zIndex.drawer:-1,transition:"all 0.3s ease-in-out",transform:t?"translateX(0)":"translateX(-100%)",overflowX:"hidden"},children:V.jsxs(pq,{sx:{py:{xxs:12,sm:14,xl:18},px:{xxs:1.5,sm:14,xl:18}},children:[V.jsx(ad,{to:"/home",text:"Home",onClick:()=>e(!1)}),V.jsx(ad,{to:"/projects",text:"Projects",onClick:()=>e(!1)}),V.jsxs(jL,{title:"Dev",children:[V.jsx(ad,{to:"/dev/styleguide",text:"Style­guide",onClick:()=>e(!1),typographyVariant:"h2",paddingMultiplier:1}),V.jsxs(jL,{title:"Examples",typographyVariant:"h2",paddingMultiplier:1,children:[V.jsx(ad,{typographyVariant:"h3",paddingMultiplier:2,to:"/dev/examples/css",text:"CSS",onClick:()=>e(!1)}),V.jsx(ad,{typographyVariant:"h3",paddingMultiplier:2,to:"/dev/examples/2d",text:"2D",onClick:()=>e(!1)}),V.jsx(ad,{typographyVariant:"h3",paddingMultiplier:2,to:"/dev/examples/3d",text:"3D",onClick:()=>e(!1)})]})]}),V.jsx(ad,{to:"/contacts",text:"Contacts",onClick:()=>e(!1)})]})}),V.jsx(qS,{})]})},Gie=({to:t,text:e})=>{const{pathname:n}=oc();return V.jsx(an,{component:JS,to:t,sx:{fontWeight:n.includes(t)?"bold":"unset",color:r=>r.palette.text.primary,"&:visited":{color:r=>r.palette.text.primary}},children:e})},Hie=({sx:t,links:e})=>V.jsx(Un,{direction:"column",sx:{flex:{xxs:"0 0 auto",md:"0 0 200px"},...t},children:e.map((n,r)=>V.jsx(Gie,{to:n.to,text:n.text},r))}),Vie=()=>V.jsxs(V.Fragment,{children:[V.jsx(Yr,{variant:"h1",children:"Style­giude"}),V.jsxs(Un,{direction:{xxs:"column",md:"row"},sx:{mt:2},gap:2,children:[V.jsx(Hie,{links:[{text:"Buttons",to:"/dev/styleguide/buttons"},{text:"Colors",to:"/dev/styleguide/colors"},{text:"Dividers",to:"/dev/styleguide/dividers"},{text:"Icons",to:"/dev/styleguide/icons"},{text:"Tags",to:"/dev/styleguide/tags"},{text:"Typography",to:"/dev/styleguide/typography"}]}),V.jsx(Un,{direction:"column",sx:{flex:1},children:V.jsx(qS,{})})]})]}),or=({children:t,sx:e,...n})=>V.jsx(an,{sx:{m:0,...e},...n,children:t}),zm=({variant:t="h1",dividerVariant:e="dashed",children:n,...r})=>V.jsxs(or,{variant:t,...r,sx:{display:"flex",flexDirection:"column",...r.sx},children:[n,V.jsx(xm,{sx:{borderBottomWidth:"0.08em",borderStyle:e,mt:"0.1em",mb:"0.2em"}})]}),jie=()=>V.jsxs(V.Fragment,{children:[V.jsx(zm,{variant:"h2",children:"Buttons"}),V.jsxs(Un,{sx:{mt:2},gap:1,children:[V.jsxs(Un,{direction:"row",sx:{alignItems:"center"},gap:1,children:[V.jsx(or,{children:"Icon button: "}),V.jsx(Kp,{children:V.jsx(Gs,{icon:"linkedin"})})]}),V.jsxs(Un,{direction:"row",sx:{alignItems:"center"},gap:1,children:[V.jsx(or,{children:"Button: "}),V.jsx(cy,{children:"I'm button"})]})]})]}),Wie=()=>V.jsxs(V.Fragment,{children:[V.jsx(zm,{variant:"h2",children:"Colors"}),V.jsxs(Un,{sx:{mt:2},spacing:2,children:[V.jsxs(Un,{direction:"row",spacing:2,children:[V.jsx(or,{children:"Background: "}),V.jsx(os,{component:"div",sx:{width:"150px",border:"1px solid black",backgroundColor:"background.paper"}})]}),V.jsxs(Un,{direction:"row",spacing:1,children:[V.jsx(or,{children:"Menu background: "}),V.jsx(os,{component:"div",sx:{width:"150px",border:"1px solid black",backgroundColor:"menuBackground.main"}})]}),V.jsxs(Un,{direction:"row",spacing:1,children:[V.jsx(or,{children:"Text: "}),V.jsx(os,{component:"div",sx:{width:"150px",border:"1px solid black",backgroundColor:"text.primary"}})]}),V.jsxs(Un,{direction:"row",spacing:1,children:[V.jsx(or,{children:"Divider: "}),V.jsx(os,{component:"div",sx:{width:"150px",border:"1px solid black",backgroundColor:"divider"}})]}),V.jsxs(Un,{direction:"row",spacing:1,children:[V.jsx(or,{children:"Error: "}),V.jsx(os,{component:"div",sx:{width:"150px",border:"1px solid black",backgroundColor:"error.main"}})]}),V.jsxs(Un,{direction:"row",spacing:1,children:[V.jsx(or,{children:"Warning: "}),V.jsx(os,{component:"div",sx:{width:"150px",border:"1px solid black",backgroundColor:"warning.main"}})]}),V.jsxs(Un,{direction:"row",spacing:1,children:[V.jsx(or,{children:"Info: "}),V.jsx(os,{component:"div",sx:{width:"150px",border:"1px solid black",backgroundColor:"info.main"}})]}),V.jsxs(Un,{direction:"row",spacing:1,children:[V.jsx(or,{children:"Success: "}),V.jsx(os,{component:"div",sx:{width:"150px",border:"1px solid black",backgroundColor:"success.main"}})]})]})]}),Xie=()=>V.jsxs(V.Fragment,{children:[V.jsx(zm,{variant:"h2",children:"Icons"}),V.jsxs(Un,{direction:"row",sx:{mt:2,flexWrap:"wrap"},gap:4,children:[V.jsxs(Un,{sx:{alignItems:"center"},children:[V.jsx(Gs,{icon:"menu"}),V.jsx(an,{children:"Menu"})]}),V.jsxs(Un,{sx:{alignItems:"center"},children:[V.jsx(Gs,{icon:"linkedin"}),V.jsx(an,{children:"LinkedIn"})]}),V.jsxs(Un,{sx:{alignItems:"center"},children:[V.jsx(Gs,{icon:"github"}),V.jsx(an,{children:"GitHub"})]}),V.jsxs(Un,{sx:{alignItems:"center"},children:[V.jsx(Gs,{icon:"theme"}),V.jsx(an,{children:"Theme"})]}),V.jsxs(Un,{sx:{alignItems:"center"},children:[V.jsx(Gs,{icon:"expand-more"}),V.jsx(an,{children:"ExpandMore"})]}),V.jsxs(Un,{sx:{alignItems:"center"},children:[V.jsx(Gs,{icon:"expand-less"}),V.jsx(an,{children:"ExpandLess"})]}),V.jsxs(Un,{sx:{alignItems:"center"},children:[V.jsx(Gs,{icon:"email"}),V.jsx(an,{children:"Email"})]})]})]}),qie=()=>V.jsxs(V.Fragment,{children:[V.jsx(zm,{variant:"h2",children:"Typography"}),V.jsx(Yr,{variant:"h3",children:"Variants overview"}),V.jsx(an,{variant:"h1",children:"Heading 1"}),V.jsx(an,{variant:"h2",children:"Heading 2"}),V.jsx(an,{variant:"h3",children:"Heading 3"}),V.jsx(an,{variant:"h4",children:"Heading 4"}),V.jsx(an,{variant:"h5",children:"Heading 5"}),V.jsx(an,{variant:"h6",children:"Heading 6"}),V.jsx(an,{variant:"subtitle1",children:"Subtitle 1"}),V.jsx(an,{variant:"body1",children:"Body1. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),V.jsx(an,{variant:"subtitle2",children:"Subtitle 2"}),V.jsx(an,{variant:"body2",children:"Body2. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),V.jsx(an,{variant:"caption",children:"Caption. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),V.jsx(Yr,{variant:"h3",children:"Typography with no margin"}),V.jsx(or,{variant:"h1",children:"Heading 1"}),V.jsx(or,{variant:"h2",children:"Heading 2"}),V.jsx(or,{variant:"h3",children:"Heading 3"}),V.jsx(or,{variant:"h4",children:"Heading 4"}),V.jsx(or,{variant:"h5",children:"Heading 5"}),V.jsx(or,{variant:"h6",children:"Heading 6"}),V.jsx(or,{variant:"subtitle1",children:"Subtitle 1"}),V.jsx(or,{variant:"body1",children:"Body1. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),V.jsx(or,{variant:"subtitle2",children:"Subtitle 2"}),V.jsx(or,{variant:"body2",children:"Body2. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),V.jsx(or,{variant:"caption",children:"Caption. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),V.jsx(Yr,{variant:"h3",children:"Typography with divider"}),V.jsx(Yr,{variant:"h1",sx:{width:"fit-content"},children:"Heading 1"}),V.jsx(Yr,{variant:"h2",sx:{width:"fit-content"},children:"Heading 2"}),V.jsx(Yr,{variant:"h3",sx:{width:"fit-content"},children:"Heading 3"}),V.jsx(Yr,{variant:"h4",sx:{width:"fit-content"},children:"Heading 4"}),V.jsx(Yr,{variant:"h5",sx:{width:"fit-content"},children:"Heading 5"}),V.jsx(Yr,{variant:"h6",sx:{width:"fit-content"},children:"Heading 6"}),V.jsx(Yr,{variant:"subtitle1",sx:{width:"fit-content"},children:"Subtitle 1"}),V.jsx(Yr,{variant:"body1",sx:{width:"fit-content"},children:"Body1. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),V.jsx(Yr,{variant:"subtitle2",sx:{width:"fit-content"},children:"Subtitle 2"}),V.jsx(Yr,{variant:"body2",sx:{width:"fit-content"},children:"Body2. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),V.jsx(Yr,{variant:"caption",sx:{width:"fit-content"},children:"Caption. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]}),T2=({sx:t})=>V.jsx(xm,{sx:{borderStyle:"dashed",...t}}),Yg=({src:t,alt:e})=>V.jsx(os,{sx:{mt:1,ml:"auto",mr:"auto",width:{xxs:"100%",lg:"70%"},height:"auto"},component:"img",src:t,onError:n=>{n.currentTarget.src="/no-image.png"},alt:e}),B5=({text:t})=>V.jsx(zX,{label:t}),Gx=({title:t,dates:e,tags:n})=>V.jsxs(V.Fragment,{children:[V.jsx(an,{variant:"h2",sx:{mb:0},children:t}),V.jsx(or,{variant:"subtitle1",sx:{mb:.8},children:`(${e})`}),V.jsx(Un,{direction:"row",sx:{flexWrap:"wrap",mt:.5,mb:2},gap:1,children:n.map(r=>V.jsx(B5,{text:r},r))}),V.jsx(T2,{sx:{mb:1}})]}),Kie=()=>V.jsxs(V.Fragment,{children:[V.jsx(Yr,{variant:"h1",children:"Projects"}),V.jsx(Gx,{title:"NexusFleet",dates:"2022 - present",tags:["React","MUI","Redux","SignalR",".NET Core"]}),V.jsxs(an,{children:[V.jsx(Fw,{target:"_blank",href:"https://www.nexusfleet.io/",children:"NexusFleet"})," ","represents the forefront of fleet return management automation software, meticulously engineered to optimize workflows, centralize document management, and enhance seamless communication across all stakeholders within the fleet ecosystem. This platform facilitates the complete digitalization of all fleet return processes and interactions with partners."]}),V.jsxs(an,{children:["Being closely connected with this platform development, I was responsible for tasks like: designing a part of frontend core architecture, implementing a comprehensive style guide, and creating some(tons omg",V.jsx(an,{component:"span",sx:{fontSize:"1.2rem !important"},children:"🥲"}),") views and forms. Talking about more interesting tasks - I had opportunity to develop, for example, vehicle damage detection module, or generating some PDF reports about the vehicle condition on the backend side."]}),V.jsx(an,{children:"To accomplish these objectives, technologies like React, MUI React (Material-UI), Formik, Redux, and SignalR were used."}),V.jsx(Yg,{src:"/nexus-screenshot1.png",alt:"Seequre"}),V.jsx(an,{variant:"caption",sx:{textAlign:"center"},children:"Picture 1. Screenshot of NexusFleet №1"}),V.jsx(Yg,{src:"/nexus-screenshot2.png",alt:"Seequre"}),V.jsx(an,{variant:"caption",sx:{textAlign:"center"},children:"Picture 2. Screenshot of NexusFleet №2"}),V.jsx(Gx,{title:"Drivalia (internal CMS)",dates:"2021 - 2022",tags:["React","MUI","Redux","RTK Query","SignalR"]}),V.jsxs(an,{children:["Another project I worked on is an internal tool for"," ",V.jsx(Fw,{target:"_blank",href:"https://www.drivalia.es/en/",children:"Drivalia"}),". It is difficult to explain what my specific tasks were, as I cannot disclose details about the tool's purpose due to its private nature, but in general, the purpose of the application was related to cars management, and my key tasks were designing the frontend core architecture, developing a comprehensive style guide, and creating views and forms to provide clear user interaction."]}),V.jsx(an,{children:"To accomplish these tasks, I leveraged a range of cutting-edge technologies. React served as the foundation of the frontend development, providing a robust and efficient library. I utilized Material-UI to ensure a visually appealing and cohesive user interface. Additionally, Redux and Redux Toolkit empowered me to manage state effectively and RTK Query and SignalR, to facilitate seamless data fetching, synchronization, and real-time communication. These technologies allowed for dynamic and collaborative experiences, enhancing the overall usability and productivity of the application."}),V.jsx(Yg,{src:"/ald-screenshot.png",alt:"Drivalia"}),V.jsx(an,{variant:"caption",sx:{textAlign:"center"},children:"Picture 1. Very informative screenshot of Drivalia internal tool application =)"}),V.jsx(Gx,{title:"Seequre",dates:"2019 - 2021",tags:["React","SCSS","Redux","SignalR","SocketIO","Mediasoup"]}),V.jsxs(an,{children:["I had the privilege of working on an exciting project involving the development of a video communication system, named"," ",V.jsx(Fw,{target:"_blank",href:"https://www.linkedin.com/company/seequre/",children:"Seequre"}),". My key tasks revolved around improving, and bug fixing the video calls feature to ensure seamless and high-quality communication between users."]}),V.jsx(an,{children:"Additionally, I was responsible for the implementation of the chatting feature, enabling users to exchange messages and stay connected beyond video calls. This feature provided a convenient way for users to communicate and share information in real-time."}),V.jsx(an,{children:"Another significant aspect of the project was the implementation of a meetings calendar feature. This functionality allowed users to schedule and manage their video meetings efficiently. By integrating a user-friendly calendar interface, users could effortlessly organize their video communication sessions."}),V.jsx(an,{children:"Throughout the project, I also contributed to various UI aspects, including the development of forms, views, and common components. By focusing on the user experience and visual appeal, an intuitive and visually appealing interface that enhanced usability and engagement were created."}),V.jsx(Yg,{src:"/seequre-screenshot2.jpg",alt:"Seequre"}),V.jsx(an,{variant:"caption",sx:{textAlign:"center"},children:"Picture 1. Screenshot of Seequre №1"}),V.jsx(Yg,{src:"/seequre-screenshot.png",alt:"Seequre"}),V.jsx(an,{variant:"caption",sx:{textAlign:"center"},children:"Picture 2. Screenshot of Seequre №2"}),V.jsx(Gx,{title:"Company internal management tool",dates:"2018 - 2019",tags:["React","SCSS","Redux","SignalR",".NET Framework"]}),V.jsx(an,{children:"I was involved in the development of an internal system for a company, focusing on project documentation, estimates, and plans. This platform streamlined project management processes, centralizing crucial information for efficient collaboration. It provided intuitive interfaces for creating, updating, and accessing project documents. The system also facilitated accurate estimation, resource allocation, and real-time visibility into project timelines. Within this project, my primary responsibilities included developing features such as a markdown editor, an estimates table, and some backend CRUD operations. The estimates table feature played a crucial role in project planning and resource allocation. I implemented a dynamic table that enabled project stakeholders to enter, modify, and review estimates for various project tasks. This functionality provided a clear overview of resource requirements and helped teams make informed decisions based on accurate estimates."}),V.jsx(T2,{sx:{mt:1,mb:3}}),V.jsx(an,{variant:"caption",children:"This is just a small glimpse into the comercial projects I have worked on during my programming career. There are numerous other projects that I have developed both during my time in university and for personal endeavors."})]}),Jie=()=>V.jsxs(V.Fragment,{children:[V.jsx(Yr,{variant:"h1",children:"Contacts"}),V.jsxs(Un,{direction:"row",sx:{flexWrap:"wrap",alignItems:"center"},children:[V.jsx(or,{sx:{mr:1.5},children:"Feel free to contact me with any questions:"}),V.jsx(cy,{sx:{mr:1},LinkComponent:"a",target:"_blank",href:"https://www.linkedin.com/in/vlad-mosienko-766910186/",startIcon:V.jsx(Gs,{icon:"linkedin"}),children:"LinkedIn"}),V.jsx(cy,{LinkComponent:"a",href:"mailto:mosienko20133@gmail.com",startIcon:V.jsx(Gs,{icon:"email"}),children:"Email"})]})]}),Yie=()=>V.jsxs(V.Fragment,{children:[V.jsx(zm,{variant:"h2",children:"Dividers"}),V.jsxs(Un,{spacing:2,children:[V.jsxs(Un,{direction:"row",sx:{alignItems:"center"},spacing:2,children:[V.jsx(or,{children:"Default divider:"}),V.jsx(xm,{sx:{flex:1}})]}),V.jsxs(Un,{direction:"row",sx:{alignItems:"center"},spacing:2,children:[V.jsx(or,{children:"Dashed divider:"}),V.jsx(T2,{sx:{flex:1}})]})]})]}),$ie=()=>V.jsxs(V.Fragment,{children:[V.jsx(zm,{variant:"h2",children:"Tags"}),V.jsx(Un,{spacing:2,children:V.jsxs(Un,{direction:"row",sx:{alignItems:"center"},spacing:2,children:[V.jsx(or,{children:"Default tag:"}),V.jsx(B5,{text:"Lorem ipsum"})]})})]}),Qie=()=>V.jsx(V.Fragment,{children:V.jsx(qS,{})}),Zie=()=>V.jsxs(V.Fragment,{children:[V.jsx(Yr,{variant:"h1",children:"Examples"}),V.jsx(qS,{})]});function zv({children:t}){return V.jsx(os,{component:"div",sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px",borderRadius:"6px",border:e=>`2px dashed ${e.palette.divider}`,position:"relative"},children:t})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const c0="174",Pd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Id={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},D5=0,fT=1,L5=2,ese=3,F5=0,sA=1,Gv=2,Xa=3,Kl=0,Ws=1,oa=2,Xu=0,Yd=1,dT=2,hT=3,pT=4,O5=5,Zc=100,k5=101,U5=102,N5=103,z5=104,G5=200,H5=201,V5=202,j5=203,R1=204,P1=205,W5=206,X5=207,q5=208,K5=209,J5=210,Y5=211,$5=212,Q5=213,Z5=214,I1=0,B1=1,D1=2,uh=3,L1=4,F1=5,O1=6,k1=7,f0=0,eG=1,tG=2,Vl=0,nG=1,rG=2,iG=3,R2=4,sG=5,oG=6,aG=7,mT="attached",lG="detached",oA=300,tc=301,gf=302,My=303,Ey=304,Gm=306,vf=1e3,Bo=1001,Mm=1002,Wi=1003,aA=1004,tse=1004,Hd=1005,nse=1005,zr=1006,lm=1007,rse=1007,la=1008,ise=1008,il=1009,P2=1010,I2=1011,Em=1012,lA=1013,nc=1014,uo=1015,Hm=1016,uA=1017,cA=1018,ch=1020,B2=35902,D2=1021,L2=1022,ws=1023,F2=1024,O2=1025,$d=1026,fh=1027,fA=1028,d0=1029,k2=1030,dA=1031,sse=1032,hA=1033,Hv=33776,Vv=33777,jv=33778,Wv=33779,U1=35840,N1=35841,z1=35842,G1=35843,H1=36196,V1=37492,j1=37496,W1=37808,X1=37809,q1=37810,K1=37811,J1=37812,Y1=37813,$1=37814,Q1=37815,Z1=37816,eS=37817,tS=37818,nS=37819,rS=37820,iS=37821,Xv=36492,sS=36494,oS=36495,U2=36283,aS=36284,lS=36285,uS=36286,uG=2200,cG=2201,fG=2202,Cm=2300,Tm=2301,e1=2302,Vd=2400,jd=2401,Cy=2402,pA=2500,N2=2501,dG=0,z2=1,cS=2,hG=3200,G2=3201,ose=3202,ase=3203,wf=0,pG=1,Nu="",ao="srgb",dh="srgb-linear",Ty="linear",sr="srgb",lse=0,Bd=7680,use=7681,cse=7682,fse=7683,dse=34055,hse=34056,pse=5386,mse=512,gse=513,vse=514,yse=515,xse=516,_se=517,Sse=518,gT=519,mG=512,gG=513,vG=514,H2=515,yG=516,xG=517,_G=518,SG=519,Ry=35044,Ase=35048,wse=35040,bse=35045,Mse=35049,Ese=35041,Cse=35046,Tse=35050,Rse=35042,Pse="100",vT="300 es",$a=2e3,Py=2001,Ise={COMPUTE:"compute",RENDER:"render"};let Yl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const vs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let GF=1234567;const Qd=Math.PI/180,Rm=180/Math.PI;function Fo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(vs[t&255]+vs[t>>8&255]+vs[t>>16&255]+vs[t>>24&255]+"-"+vs[e&255]+vs[e>>8&255]+"-"+vs[e>>16&15|64]+vs[e>>24&255]+"-"+vs[n&63|128]+vs[n>>8&255]+"-"+vs[n>>16&255]+vs[n>>24&255]+vs[r&255]+vs[r>>8&255]+vs[r>>16&255]+vs[r>>24&255]).toLowerCase()}function Sn(t,e,n){return Math.max(e,Math.min(n,t))}function V2(t,e){return(t%e+e)%e}function Bse(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Dse(t,e,n){return t!==e?(n-t)/(e-t):0}function qv(t,e,n){return(1-n)*t+n*e}function Lse(t,e,n,r){return qv(t,e,1-Math.exp(-n*r))}function Fse(t,e=1){return e-Math.abs(V2(t,e*2)-e)}function Ose(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function kse(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Use(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Nse(t,e){return t+Math.random()*(e-t)}function zse(t){return t*(.5-Math.random())}function Gse(t){t!==void 0&&(GF=t);let e=GF+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Hse(t){return t*Qd}function Vse(t){return t*Rm}function jse(t){return(t&t-1)===0&&t!==0}function Wse(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Xse(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function qse(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),f=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),g=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(a*f,l*d,l*p,a*u);break;case"YZY":t.set(l*p,a*f,l*d,a*u);break;case"ZXZ":t.set(l*d,l*p,a*f,a*u);break;case"XZX":t.set(a*f,l*y,l*g,a*u);break;case"YXY":t.set(l*g,a*f,l*y,a*u);break;case"ZYZ":t.set(l*y,l*g,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Hs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Tn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const AG={DEG2RAD:Qd,RAD2DEG:Rm,generateUUID:Fo,clamp:Sn,euclideanModulo:V2,mapLinear:Bse,inverseLerp:Dse,lerp:qv,damp:Lse,pingpong:Fse,smoothstep:Ose,smootherstep:kse,randInt:Use,randFloat:Nse,randFloatSpread:zse,seededRandom:Gse,degToRad:Hse,radToDeg:Vse,isPowerOfTwo:jse,ceilPowerOfTwo:Wse,floorPowerOfTwo:Xse,setQuaternionFromProperEuler:qse,normalize:Tn,denormalize:Hs};class it{constructor(e=0,n=0){it.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Sn(this.x,e.x,n.x),this.y=Sn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Sn(this.x,e,n),this.y=Sn(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Sn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Sn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _n{constructor(e,n,r,i,s,o,a,l,u){_n.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=n,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],f=r[4],d=r[7],p=r[2],g=r[5],y=r[8],S=i[0],_=i[3],x=i[6],b=i[1],w=i[4],M=i[7],C=i[2],I=i[5],B=i[8];return s[0]=o*S+a*b+l*C,s[3]=o*_+a*w+l*I,s[6]=o*x+a*M+l*B,s[1]=u*S+f*b+d*C,s[4]=u*_+f*w+d*I,s[7]=u*x+f*M+d*B,s[2]=p*S+g*b+y*C,s[5]=p*_+g*w+y*I,s[8]=p*x+g*M+y*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return n*o*f-n*a*u-r*s*f+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=f*o-a*u,p=a*l-f*s,g=u*s-o*l,y=n*d+r*p+i*g;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/y;return e[0]=d*S,e[1]=(i*u-f*r)*S,e[2]=(a*r-i*o)*S,e[3]=p*S,e[4]=(f*n-i*l)*S,e[5]=(i*s-a*n)*S,e[6]=g*S,e[7]=(r*l-u*n)*S,e[8]=(o*n-r*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply($M.makeScale(e,n)),this}rotate(e){return this.premultiply($M.makeRotation(-e)),this}translate(e,n){return this.premultiply($M.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const $M=new _n;function wG(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Kse={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function tm(t,e){return new Kse[t](e)}function Iy(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function bG(){const t=Iy("canvas");return t.style.display="block",t}const HF={};function Dd(t){t in HF||(HF[t]=!0,console.warn(t))}function Jse(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}function Yse(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function $se(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const VF=new _n().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),jF=new _n().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Qse(){const t={enabled:!0,workingColorSpace:dh,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===sr&&(i.r=qu(i.r),i.g=qu(i.g),i.b=qu(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===sr&&(i.r=um(i.r),i.g=um(i.g),i.b=um(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Nu?Ty:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[dh]:{primaries:e,whitePoint:r,transfer:Ty,toXYZ:VF,fromXYZ:jF,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:ao},outputColorSpaceConfig:{drawingBufferColorSpace:ao}},[ao]:{primaries:e,whitePoint:r,transfer:sr,toXYZ:VF,fromXYZ:jF,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:ao}}}),t}const Wn=Qse();function qu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function um(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let wp;class MG{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{wp===void 0&&(wp=Iy("canvas")),wp.width=e.width,wp.height=e.height;const r=wp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=wp}return n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Iy("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=qu(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(qu(n[r]/255)*255):n[r]=qu(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Zse=0;class tf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Zse++}),this.uuid=Fo(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(QM(i[o].image)):s.push(QM(i[o]))}else s=QM(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function QM(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?MG.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let eoe=0;class Rr extends Yl{constructor(e=Rr.DEFAULT_IMAGE,n=Rr.DEFAULT_MAPPING,r=Bo,i=Bo,s=zr,o=la,a=ws,l=il,u=Rr.DEFAULT_ANISOTROPY,f=Nu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:eoe++}),this.uuid=Fo(),this.name="",this.source=new tf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==oA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vf:e.x=e.x-Math.floor(e.x);break;case Bo:e.x=e.x<0?0:1;break;case Mm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vf:e.y=e.y-Math.floor(e.y);break;case Bo:e.y=e.y<0?0:1;break;case Mm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Rr.DEFAULT_IMAGE=null;Rr.DEFAULT_MAPPING=oA;Rr.DEFAULT_ANISOTROPY=1;class Nn{constructor(e=0,n=0,r=0,i=1){Nn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],f=l[4],d=l[8],p=l[1],g=l[5],y=l[9],S=l[2],_=l[6],x=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-S)<.01&&Math.abs(y-_)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+S)<.1&&Math.abs(y+_)<.1&&Math.abs(u+g+x-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,M=(g+1)/2,C=(x+1)/2,I=(f+p)/4,B=(d+S)/4,P=(y+_)/4;return w>M&&w>C?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=I/r,s=B/r):M>C?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=I/i,s=P/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=B/s,i=P/s),this.set(r,i,s,n),this}let b=Math.sqrt((_-y)*(_-y)+(d-S)*(d-S)+(p-f)*(p-f));return Math.abs(b)<.001&&(b=1),this.x=(_-y)/b,this.y=(d-S)/b,this.z=(p-f)/b,this.w=Math.acos((u+g+x-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Sn(this.x,e.x,n.x),this.y=Sn(this.y,e.y,n.y),this.z=Sn(this.z,e.z,n.z),this.w=Sn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Sn(this.x,e,n),this.y=Sn(this.y,e,n),this.z=Sn(this.z,e,n),this.w=Sn(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Sn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mA extends Yl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Nn(0,0,e,n),this.scissorTest=!1,this.viewport=new Nn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:zr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Rr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new tf(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Jl extends mA{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class h0 extends Rr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Wi,this.minFilter=Wi,this.wrapR=Bo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class toe extends Jl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new h0(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class gA extends Rr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Wi,this.minFilter=Wi,this.wrapR=Bo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class noe extends Jl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new gA(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Xi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],f=r[i+2],d=r[i+3];const p=s[o+0],g=s[o+1],y=s[o+2],S=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=f,e[n+3]=d;return}if(a===1){e[n+0]=p,e[n+1]=g,e[n+2]=y,e[n+3]=S;return}if(d!==S||l!==p||u!==g||f!==y){let _=1-a;const x=l*p+u*g+f*y+d*S,b=x>=0?1:-1,w=1-x*x;if(w>Number.EPSILON){const C=Math.sqrt(w),I=Math.atan2(C,x*b);_=Math.sin(_*I)/C,a=Math.sin(a*I)/C}const M=a*b;if(l=l*_+p*M,u=u*_+g*M,f=f*_+y*M,d=d*_+S*M,_===1-a){const C=1/Math.sqrt(l*l+u*u+f*f+d*d);l*=C,u*=C,f*=C,d*=C}}e[n]=l,e[n+1]=u,e[n+2]=f,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],f=r[i+3],d=s[o],p=s[o+1],g=s[o+2],y=s[o+3];return e[n]=a*y+f*d+l*g-u*p,e[n+1]=l*y+f*p+u*d-a*g,e[n+2]=u*y+f*g+a*p-l*d,e[n+3]=f*y-a*d-l*p-u*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),f=a(i/2),d=a(s/2),p=l(r/2),g=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*f*d+u*g*y,this._y=u*g*d-p*f*y,this._z=u*f*y+p*g*d,this._w=u*f*d-p*g*y;break;case"YXZ":this._x=p*f*d+u*g*y,this._y=u*g*d-p*f*y,this._z=u*f*y-p*g*d,this._w=u*f*d+p*g*y;break;case"ZXY":this._x=p*f*d-u*g*y,this._y=u*g*d+p*f*y,this._z=u*f*y+p*g*d,this._w=u*f*d-p*g*y;break;case"ZYX":this._x=p*f*d-u*g*y,this._y=u*g*d+p*f*y,this._z=u*f*y-p*g*d,this._w=u*f*d+p*g*y;break;case"YZX":this._x=p*f*d+u*g*y,this._y=u*g*d+p*f*y,this._z=u*f*y-p*g*d,this._w=u*f*d-p*g*y;break;case"XZY":this._x=p*f*d-u*g*y,this._y=u*g*d-p*f*y,this._z=u*f*y+p*g*d,this._w=u*f*d+p*g*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],f=n[6],d=n[10],p=r+a+d;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(f-l)*g,this._y=(s-u)*g,this._z=(o-i)*g}else if(r>a&&r>d){const g=2*Math.sqrt(1+r-a-d);this._w=(f-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+u)/g}else if(a>d){const g=2*Math.sqrt(1+a-r-d);this._w=(s-u)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+f)/g}else{const g=2*Math.sqrt(1+d-r-a);this._w=(o-i)/g,this._x=(s+u)/g,this._y=(l+f)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,f=n._w;return this._x=r*f+o*a+i*u-s*l,this._y=i*f+o*l+s*a-r*u,this._z=s*f+o*u+r*l-i*a,this._w=o*f-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-n;return this._w=g*o+n*this._w,this._x=g*r+n*this._x,this._y=g*i+n*this._y,this._z=g*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),d=Math.sin((1-n)*f)/u,p=Math.sin(n*f)/u;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,n=0,r=0){le.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(WF.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(WF.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*r),f=2*(a*n-s*i),d=2*(s*r-o*n);return this.x=n+l*u+o*d-a*f,this.y=r+l*f+a*u-s*d,this.z=i+l*d+s*f-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Sn(this.x,e.x,n.x),this.y=Sn(this.y,e.y,n.y),this.z=Sn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Sn(this.x,e,n),this.y=Sn(this.y,e,n),this.z=Sn(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Sn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return ZM.copy(this).projectOnVector(e),this.sub(ZM)}reflect(e){return this.sub(ZM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Sn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ZM=new le,WF=new Xi;class qi{constructor(e=new le(1/0,1/0,1/0),n=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ha.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ha.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ha.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Ha):Ha.fromBufferAttribute(s,o),Ha.applyMatrix4(e.matrixWorld),this.expandByPoint(Ha);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Hx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Hx.copy(r.boundingBox)),Hx.applyMatrix4(e.matrixWorld),this.union(Hx)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ha),Ha.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter($g),Vx.subVectors(this.max,$g),bp.subVectors(e.a,$g),Mp.subVectors(e.b,$g),Ep.subVectors(e.c,$g),Nc.subVectors(Mp,bp),zc.subVectors(Ep,Mp),ud.subVectors(bp,Ep);let n=[0,-Nc.z,Nc.y,0,-zc.z,zc.y,0,-ud.z,ud.y,Nc.z,0,-Nc.x,zc.z,0,-zc.x,ud.z,0,-ud.x,-Nc.y,Nc.x,0,-zc.y,zc.x,0,-ud.y,ud.x,0];return!eE(n,bp,Mp,Ep,Vx)||(n=[1,0,0,0,1,0,0,0,1],!eE(n,bp,Mp,Ep,Vx))?!1:(jx.crossVectors(Nc,zc),n=[jx.x,jx.y,jx.z],eE(n,bp,Mp,Ep,Vx))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ha).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ha).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Tu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Tu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Tu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Tu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Tu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Tu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Tu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Tu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Tu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Tu=[new le,new le,new le,new le,new le,new le,new le,new le],Ha=new le,Hx=new qi,bp=new le,Mp=new le,Ep=new le,Nc=new le,zc=new le,ud=new le,$g=new le,Vx=new le,jx=new le,cd=new le;function eE(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){cd.fromArray(t,s);const a=i.x*Math.abs(cd.x)+i.y*Math.abs(cd.y)+i.z*Math.abs(cd.z),l=e.dot(cd),u=n.dot(cd),f=r.dot(cd);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const roe=new qi,Qg=new le,tE=new le;class Ki{constructor(e=new le,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):roe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Qg.subVectors(e,this.center);const n=Qg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Qg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(tE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Qg.copy(e.center).add(tE)),this.expandByPoint(Qg.copy(e.center).sub(tE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ru=new le,nE=new le,Wx=new le,Gc=new le,rE=new le,Xx=new le,iE=new le;class Sh{constructor(e=new le,n=new le(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ru)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ru.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ru.copy(this.origin).addScaledVector(this.direction,n),Ru.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){nE.copy(e).add(n).multiplyScalar(.5),Wx.copy(n).sub(e).normalize(),Gc.copy(this.origin).sub(nE);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Wx),a=Gc.dot(this.direction),l=-Gc.dot(Wx),u=Gc.lengthSq(),f=Math.abs(1-o*o);let d,p,g,y;if(f>0)if(d=o*l-a,p=o*a-l,y=s*f,d>=0)if(p>=-y)if(p<=y){const S=1/f;d*=S,p*=S,g=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),g=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),g=-d*d+p*(p+2*l)+u;else p<=-y?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),g=-d*d+p*(p+2*l)+u):p<=y?(d=0,p=Math.min(Math.max(-s,-l),s),g=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),g=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),g=-d*d+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(nE).addScaledVector(Wx,p),g}intersectSphere(e,n){Ru.subVectors(e.center,this.origin);const r=Ru.dot(this.direction),i=Ru.dot(Ru)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ru)!==null}intersectTriangle(e,n,r,i,s){rE.subVectors(n,e),Xx.subVectors(r,e),iE.crossVectors(rE,Xx);let o=this.direction.dot(iE),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Gc.subVectors(this.origin,e);const l=a*this.direction.dot(Xx.crossVectors(Gc,Xx));if(l<0)return null;const u=a*this.direction.dot(rE.cross(Gc));if(u<0||l+u>o)return null;const f=-a*Gc.dot(iE);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class tn{constructor(e,n,r,i,s,o,a,l,u,f,d,p,g,y,S,_){tn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,f,d,p,g,y,S,_)}set(e,n,r,i,s,o,a,l,u,f,d,p,g,y,S,_){const x=this.elements;return x[0]=e,x[4]=n,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=u,x[6]=f,x[10]=d,x[14]=p,x[3]=g,x[7]=y,x[11]=S,x[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new tn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Cp.setFromMatrixColumn(e,0).length(),s=1/Cp.setFromMatrixColumn(e,1).length(),o=1/Cp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*f,g=o*d,y=a*f,S=a*d;n[0]=l*f,n[4]=-l*d,n[8]=u,n[1]=g+y*u,n[5]=p-S*u,n[9]=-a*l,n[2]=S-p*u,n[6]=y+g*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*f,g=l*d,y=u*f,S=u*d;n[0]=p+S*a,n[4]=y*a-g,n[8]=o*u,n[1]=o*d,n[5]=o*f,n[9]=-a,n[2]=g*a-y,n[6]=S+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*f,g=l*d,y=u*f,S=u*d;n[0]=p-S*a,n[4]=-o*d,n[8]=y+g*a,n[1]=g+y*a,n[5]=o*f,n[9]=S-p*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*f,g=o*d,y=a*f,S=a*d;n[0]=l*f,n[4]=y*u-g,n[8]=p*u+S,n[1]=l*d,n[5]=S*u+p,n[9]=g*u-y,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,g=o*u,y=a*l,S=a*u;n[0]=l*f,n[4]=S-p*d,n[8]=y*d+g,n[1]=d,n[5]=o*f,n[9]=-a*f,n[2]=-u*f,n[6]=g*d+y,n[10]=p-S*d}else if(e.order==="XZY"){const p=o*l,g=o*u,y=a*l,S=a*u;n[0]=l*f,n[4]=-d,n[8]=u*f,n[1]=p*d+S,n[5]=o*f,n[9]=g*d-y,n[2]=y*d-g,n[6]=a*f,n[10]=S*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ioe,e,soe)}lookAt(e,n,r){const i=this.elements;return Co.subVectors(e,n),Co.lengthSq()===0&&(Co.z=1),Co.normalize(),Hc.crossVectors(r,Co),Hc.lengthSq()===0&&(Math.abs(r.z)===1?Co.x+=1e-4:Co.z+=1e-4,Co.normalize(),Hc.crossVectors(r,Co)),Hc.normalize(),qx.crossVectors(Co,Hc),i[0]=Hc.x,i[4]=qx.x,i[8]=Co.x,i[1]=Hc.y,i[5]=qx.y,i[9]=Co.y,i[2]=Hc.z,i[6]=qx.z,i[10]=Co.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],f=r[1],d=r[5],p=r[9],g=r[13],y=r[2],S=r[6],_=r[10],x=r[14],b=r[3],w=r[7],M=r[11],C=r[15],I=i[0],B=i[4],P=i[8],L=i[12],E=i[1],O=i[5],U=i[9],H=i[13],q=i[2],te=i[6],$=i[10],ie=i[14],W=i[3],Y=i[7],Q=i[11],z=i[15];return s[0]=o*I+a*E+l*q+u*W,s[4]=o*B+a*O+l*te+u*Y,s[8]=o*P+a*U+l*$+u*Q,s[12]=o*L+a*H+l*ie+u*z,s[1]=f*I+d*E+p*q+g*W,s[5]=f*B+d*O+p*te+g*Y,s[9]=f*P+d*U+p*$+g*Q,s[13]=f*L+d*H+p*ie+g*z,s[2]=y*I+S*E+_*q+x*W,s[6]=y*B+S*O+_*te+x*Y,s[10]=y*P+S*U+_*$+x*Q,s[14]=y*L+S*H+_*ie+x*z,s[3]=b*I+w*E+M*q+C*W,s[7]=b*B+w*O+M*te+C*Y,s[11]=b*P+w*U+M*$+C*Q,s[15]=b*L+w*H+M*ie+C*z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],d=e[6],p=e[10],g=e[14],y=e[3],S=e[7],_=e[11],x=e[15];return y*(+s*l*d-i*u*d-s*a*p+r*u*p+i*a*g-r*l*g)+S*(+n*l*g-n*u*p+s*o*p-i*o*g+i*u*f-s*l*f)+_*(+n*u*d-n*a*g-s*o*d+r*o*g+s*a*f-r*u*f)+x*(-i*a*f-n*l*d+n*a*p+i*o*d-r*o*p+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=e[9],p=e[10],g=e[11],y=e[12],S=e[13],_=e[14],x=e[15],b=d*_*u-S*p*u+S*l*g-a*_*g-d*l*x+a*p*x,w=y*p*u-f*_*u-y*l*g+o*_*g+f*l*x-o*p*x,M=f*S*u-y*d*u+y*a*g-o*S*g-f*a*x+o*d*x,C=y*d*l-f*S*l-y*a*p+o*S*p+f*a*_-o*d*_,I=n*b+r*w+i*M+s*C;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/I;return e[0]=b*B,e[1]=(S*p*s-d*_*s-S*i*g+r*_*g+d*i*x-r*p*x)*B,e[2]=(a*_*s-S*l*s+S*i*u-r*_*u-a*i*x+r*l*x)*B,e[3]=(d*l*s-a*p*s-d*i*u+r*p*u+a*i*g-r*l*g)*B,e[4]=w*B,e[5]=(f*_*s-y*p*s+y*i*g-n*_*g-f*i*x+n*p*x)*B,e[6]=(y*l*s-o*_*s-y*i*u+n*_*u+o*i*x-n*l*x)*B,e[7]=(o*p*s-f*l*s+f*i*u-n*p*u-o*i*g+n*l*g)*B,e[8]=M*B,e[9]=(y*d*s-f*S*s-y*r*g+n*S*g+f*r*x-n*d*x)*B,e[10]=(o*S*s-y*a*s+y*r*u-n*S*u-o*r*x+n*a*x)*B,e[11]=(f*a*s-o*d*s-f*r*u+n*d*u+o*r*g-n*a*g)*B,e[12]=C*B,e[13]=(f*S*i-y*d*i+y*r*p-n*S*p-f*r*_+n*d*_)*B,e[14]=(y*a*i-o*S*i-y*r*l+n*S*l+o*r*_-n*a*_)*B,e[15]=(o*d*i-f*a*i+f*r*l-n*d*l-o*r*p+n*a*p)*B,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,f*a+r,f*l-i*o,0,u*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,f=o+o,d=a+a,p=s*u,g=s*f,y=s*d,S=o*f,_=o*d,x=a*d,b=l*u,w=l*f,M=l*d,C=r.x,I=r.y,B=r.z;return i[0]=(1-(S+x))*C,i[1]=(g+M)*C,i[2]=(y-w)*C,i[3]=0,i[4]=(g-M)*I,i[5]=(1-(p+x))*I,i[6]=(_+b)*I,i[7]=0,i[8]=(y+w)*B,i[9]=(_-b)*B,i[10]=(1-(p+S))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Cp.set(i[0],i[1],i[2]).length();const o=Cp.set(i[4],i[5],i[6]).length(),a=Cp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Va.copy(this);const u=1/s,f=1/o,d=1/a;return Va.elements[0]*=u,Va.elements[1]*=u,Va.elements[2]*=u,Va.elements[4]*=f,Va.elements[5]*=f,Va.elements[6]*=f,Va.elements[8]*=d,Va.elements[9]*=d,Va.elements[10]*=d,n.setFromRotationMatrix(Va),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=$a){const l=this.elements,u=2*s/(n-e),f=2*s/(r-i),d=(n+e)/(n-e),p=(r+i)/(r-i);let g,y;if(a===$a)g=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===Py)g=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=g,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=$a){const l=this.elements,u=1/(n-e),f=1/(r-i),d=1/(o-s),p=(n+e)*u,g=(r+i)*f;let y,S;if(a===$a)y=(o+s)*d,S=-2*d;else if(a===Py)y=s*d,S=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-g,l[2]=0,l[6]=0,l[10]=S,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Cp=new le,Va=new tn,ioe=new le(0,0,0),soe=new le(1,1,1),Hc=new le,qx=new le,Co=new le,XF=new tn,qF=new Xi;class Uo{constructor(e=0,n=0,r=0,i=Uo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],f=i[9],d=i[2],p=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(Sn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Sn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Sn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,g),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Sn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Sn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Sn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return XF.makeRotationFromQuaternion(e),this.setFromRotationMatrix(XF,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return qF.setFromEuler(this),this.setFromQuaternion(qF,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Uo.DEFAULT_ORDER="XYZ";class Zd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let ooe=0;const KF=new le,Tp=new Xi,Pu=new tn,Kx=new le,Zg=new le,aoe=new le,loe=new Xi,JF=new le(1,0,0),YF=new le(0,1,0),$F=new le(0,0,1),QF={type:"added"},uoe={type:"removed"},Rp={type:"childadded",child:null},sE={type:"childremoved",child:null};class zn extends Yl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ooe++}),this.uuid=Fo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=zn.DEFAULT_UP.clone();const e=new le,n=new Uo,r=new Xi,i=new le(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new tn},normalMatrix:{value:new _n}}),this.matrix=new tn,this.matrixWorld=new tn,this.matrixAutoUpdate=zn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Zd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Tp.setFromAxisAngle(e,n),this.quaternion.multiply(Tp),this}rotateOnWorldAxis(e,n){return Tp.setFromAxisAngle(e,n),this.quaternion.premultiply(Tp),this}rotateX(e){return this.rotateOnAxis(JF,e)}rotateY(e){return this.rotateOnAxis(YF,e)}rotateZ(e){return this.rotateOnAxis($F,e)}translateOnAxis(e,n){return KF.copy(e).applyQuaternion(this.quaternion),this.position.add(KF.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(JF,e)}translateY(e){return this.translateOnAxis(YF,e)}translateZ(e){return this.translateOnAxis($F,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pu.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Kx.copy(e):Kx.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Zg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pu.lookAt(Zg,Kx,this.up):Pu.lookAt(Kx,Zg,this.up),this.quaternion.setFromRotationMatrix(Pu),i&&(Pu.extractRotation(i.matrixWorld),Tp.setFromRotationMatrix(Pu),this.quaternion.premultiply(Tp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(QF),Rp.child=e,this.dispatchEvent(Rp),Rp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(uoe),sE.child=e,this.dispatchEvent(sE),sE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Pu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(QF),Rp.child=e,this.dispatchEvent(Rp),Rp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zg,e,aoe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zg,loe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),d=o(e.shapes),p=o(e.skeletons),g=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}zn.DEFAULT_UP=new le(0,1,0);zn.DEFAULT_MATRIX_AUTO_UPDATE=!0;zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ja=new le,Iu=new le,oE=new le,Bu=new le,Pp=new le,Ip=new le,ZF=new le,aE=new le,lE=new le,uE=new le,cE=new Nn,fE=new Nn,dE=new Nn;class lo{constructor(e=new le,n=new le,r=new le){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ja.subVectors(e,n),i.cross(ja);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){ja.subVectors(i,n),Iu.subVectors(r,n),oE.subVectors(e,n);const o=ja.dot(ja),a=ja.dot(Iu),l=ja.dot(oE),u=Iu.dot(Iu),f=Iu.dot(oE),d=o*u-a*a;if(d===0)return s.set(0,0,0),null;const p=1/d,g=(u*l-a*f)*p,y=(o*f-a*l)*p;return s.set(1-g-y,y,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Bu)===null?!1:Bu.x>=0&&Bu.y>=0&&Bu.x+Bu.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Bu)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Bu.x),l.addScaledVector(o,Bu.y),l.addScaledVector(a,Bu.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return cE.setScalar(0),fE.setScalar(0),dE.setScalar(0),cE.fromBufferAttribute(e,n),fE.fromBufferAttribute(e,r),dE.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(cE,s.x),o.addScaledVector(fE,s.y),o.addScaledVector(dE,s.z),o}static isFrontFacing(e,n,r,i){return ja.subVectors(r,n),Iu.subVectors(e,n),ja.cross(Iu).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ja.subVectors(this.c,this.b),Iu.subVectors(this.a,this.b),ja.cross(Iu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return lo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return lo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return lo.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return lo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return lo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Pp.subVectors(i,r),Ip.subVectors(s,r),aE.subVectors(e,r);const l=Pp.dot(aE),u=Ip.dot(aE);if(l<=0&&u<=0)return n.copy(r);lE.subVectors(e,i);const f=Pp.dot(lE),d=Ip.dot(lE);if(f>=0&&d<=f)return n.copy(i);const p=l*d-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(Pp,o);uE.subVectors(e,s);const g=Pp.dot(uE),y=Ip.dot(uE);if(y>=0&&g<=y)return n.copy(s);const S=g*u-l*y;if(S<=0&&u>=0&&y<=0)return a=u/(u-y),n.copy(r).addScaledVector(Ip,a);const _=f*y-g*d;if(_<=0&&d-f>=0&&g-y>=0)return ZF.subVectors(s,i),a=(d-f)/(d-f+(g-y)),n.copy(i).addScaledVector(ZF,a);const x=1/(_+S+p);return o=S*x,a=p*x,n.copy(r).addScaledVector(Pp,o).addScaledVector(Ip,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const EG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vc={h:0,s:0,l:0},Jx={h:0,s:0,l:0};function hE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Tt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ao){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Wn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Wn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Wn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Wn.workingColorSpace){if(e=V2(e,1),n=Sn(n,0,1),r=Sn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=hE(o,s,e+1/3),this.g=hE(o,s,e),this.b=hE(o,s,e-1/3)}return Wn.toWorkingColorSpace(this,i),this}setStyle(e,n=ao){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ao){const r=EG[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=qu(e.r),this.g=qu(e.g),this.b=qu(e.b),this}copyLinearToSRGB(e){return this.r=um(e.r),this.g=um(e.g),this.b=um(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ao){return Wn.fromWorkingColorSpace(ys.copy(this),e),Math.round(Sn(ys.r*255,0,255))*65536+Math.round(Sn(ys.g*255,0,255))*256+Math.round(Sn(ys.b*255,0,255))}getHexString(e=ao){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Wn.workingColorSpace){Wn.fromWorkingColorSpace(ys.copy(this),n);const r=ys.r,i=ys.g,s=ys.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=f<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,n=Wn.workingColorSpace){return Wn.fromWorkingColorSpace(ys.copy(this),n),e.r=ys.r,e.g=ys.g,e.b=ys.b,e}getStyle(e=ao){Wn.fromWorkingColorSpace(ys.copy(this),e);const n=ys.r,r=ys.g,i=ys.b;return e!==ao?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Vc),this.setHSL(Vc.h+e,Vc.s+n,Vc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Vc),e.getHSL(Jx);const r=qv(Vc.h,Jx.h,n),i=qv(Vc.s,Jx.s,n),s=qv(Vc.l,Jx.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ys=new Tt;Tt.NAMES=EG;let coe=0;class Bi extends Yl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:coe++}),this.uuid=Fo(),this.name="",this.type="Material",this.blending=Yd,this.side=Kl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=R1,this.blendDst=P1,this.blendEquation=Zc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Tt(0,0,0),this.blendAlpha=0,this.depthFunc=uh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=gT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bd,this.stencilZFail=Bd,this.stencilZPass=Bd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Yd&&(r.blending=this.blending),this.side!==Kl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==R1&&(r.blendSrc=this.blendSrc),this.blendDst!==P1&&(r.blendDst=this.blendDst),this.blendEquation!==Zc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==uh&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==gT&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Bd&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Bd&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Bd&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class co extends Bi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Uo,this.combine=f0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const zu=foe();function foe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;(u&8388608)===0;)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function oo(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Sn(t,-65504,65504),zu.floatView[0]=t;const e=zu.uint32View[0],n=e>>23&511;return zu.baseTable[n]+((e&8388607)>>zu.shiftTable[n])}function Cv(t){const e=t>>10;return zu.uint32View[0]=zu.mantissaTable[zu.offsetTable[e]+(t&1023)]+zu.exponentTable[e],zu.floatView[0]}class doe{static toHalfFloat(e){return oo(e)}static fromHalfFloat(e){return Cv(e)}}const xi=new le,Yx=new it;let hoe=0;class Kn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:hoe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Ry,this.updateRanges=[],this.gpuType=uo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Yx.fromBufferAttribute(this,n),Yx.applyMatrix3(e),this.setXY(n,Yx.x,Yx.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)xi.fromBufferAttribute(this,n),xi.applyMatrix3(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)xi.fromBufferAttribute(this,n),xi.applyMatrix4(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)xi.fromBufferAttribute(this,n),xi.applyNormalMatrix(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)xi.fromBufferAttribute(this,n),xi.transformDirection(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Hs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Tn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Hs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Tn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Hs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Tn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Hs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Tn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Hs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Tn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Tn(n,this.array),r=Tn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Tn(n,this.array),r=Tn(r,this.array),i=Tn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Tn(n,this.array),r=Tn(r,this.array),i=Tn(i,this.array),s=Tn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ry&&(e.usage=this.usage),e}}class poe extends Kn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class moe extends Kn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class goe extends Kn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class voe extends Kn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class j2 extends Kn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class yoe extends Kn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class W2 extends Kn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class xoe extends Kn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Cv(this.array[e*this.itemSize]);return this.normalized&&(n=Hs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Tn(n,this.array)),this.array[e*this.itemSize]=oo(n),this}getY(e){let n=Cv(this.array[e*this.itemSize+1]);return this.normalized&&(n=Hs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Tn(n,this.array)),this.array[e*this.itemSize+1]=oo(n),this}getZ(e){let n=Cv(this.array[e*this.itemSize+2]);return this.normalized&&(n=Hs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Tn(n,this.array)),this.array[e*this.itemSize+2]=oo(n),this}getW(e){let n=Cv(this.array[e*this.itemSize+3]);return this.normalized&&(n=Hs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Tn(n,this.array)),this.array[e*this.itemSize+3]=oo(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Tn(n,this.array),r=Tn(r,this.array)),this.array[e+0]=oo(n),this.array[e+1]=oo(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Tn(n,this.array),r=Tn(r,this.array),i=Tn(i,this.array)),this.array[e+0]=oo(n),this.array[e+1]=oo(r),this.array[e+2]=oo(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Tn(n,this.array),r=Tn(r,this.array),i=Tn(i,this.array),s=Tn(s,this.array)),this.array[e+0]=oo(n),this.array[e+1]=oo(r),this.array[e+2]=oo(i),this.array[e+3]=oo(s),this}}class Yt extends Kn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let _oe=0;const Zo=new tn,pE=new zn,Bp=new le,To=new qi,ev=new qi,Vi=new le;class Mn extends Yl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_oe++}),this.uuid=Fo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(wG(e)?W2:j2)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new _n().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zo.makeRotationFromQuaternion(e),this.applyMatrix4(Zo),this}rotateX(e){return Zo.makeRotationX(e),this.applyMatrix4(Zo),this}rotateY(e){return Zo.makeRotationY(e),this.applyMatrix4(Zo),this}rotateZ(e){return Zo.makeRotationZ(e),this.applyMatrix4(Zo),this}translate(e,n,r){return Zo.makeTranslation(e,n,r),this.applyMatrix4(Zo),this}scale(e,n,r){return Zo.makeScale(e,n,r),this.applyMatrix4(Zo),this}lookAt(e){return pE.lookAt(e),pE.updateMatrix(),this.applyMatrix4(pE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bp).negate(),this.translate(Bp.x,Bp.y,Bp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Yt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];To.setFromBufferAttribute(s),this.morphTargetsRelative?(Vi.addVectors(this.boundingBox.min,To.min),this.boundingBox.expandByPoint(Vi),Vi.addVectors(this.boundingBox.max,To.max),this.boundingBox.expandByPoint(Vi)):(this.boundingBox.expandByPoint(To.min),this.boundingBox.expandByPoint(To.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ki);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const r=this.boundingSphere.center;if(To.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];ev.setFromBufferAttribute(a),this.morphTargetsRelative?(Vi.addVectors(To.min,ev.min),To.expandByPoint(Vi),Vi.addVectors(To.max,ev.max),To.expandByPoint(Vi)):(To.expandByPoint(ev.min),To.expandByPoint(ev.max))}To.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Vi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Vi));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)Vi.fromBufferAttribute(a,u),l&&(Bp.fromBufferAttribute(e,u),Vi.add(Bp)),i=Math.max(i,r.distanceToSquared(Vi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kn(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let P=0;P<r.count;P++)a[P]=new le,l[P]=new le;const u=new le,f=new le,d=new le,p=new it,g=new it,y=new it,S=new le,_=new le;function x(P,L,E){u.fromBufferAttribute(r,P),f.fromBufferAttribute(r,L),d.fromBufferAttribute(r,E),p.fromBufferAttribute(s,P),g.fromBufferAttribute(s,L),y.fromBufferAttribute(s,E),f.sub(u),d.sub(u),g.sub(p),y.sub(p);const O=1/(g.x*y.y-y.x*g.y);isFinite(O)&&(S.copy(f).multiplyScalar(y.y).addScaledVector(d,-g.y).multiplyScalar(O),_.copy(d).multiplyScalar(g.x).addScaledVector(f,-y.x).multiplyScalar(O),a[P].add(S),a[L].add(S),a[E].add(S),l[P].add(_),l[L].add(_),l[E].add(_))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let P=0,L=b.length;P<L;++P){const E=b[P],O=E.start,U=E.count;for(let H=O,q=O+U;H<q;H+=3)x(e.getX(H+0),e.getX(H+1),e.getX(H+2))}const w=new le,M=new le,C=new le,I=new le;function B(P){C.fromBufferAttribute(i,P),I.copy(C);const L=a[P];w.copy(L),w.sub(C.multiplyScalar(C.dot(L))).normalize(),M.crossVectors(I,L);const O=M.dot(l[P])<0?-1:1;o.setXYZW(P,w.x,w.y,w.z,O)}for(let P=0,L=b.length;P<L;++P){const E=b[P],O=E.start,U=E.count;for(let H=O,q=O+U;H<q;H+=3)B(e.getX(H+0)),B(e.getX(H+1)),B(e.getX(H+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Kn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,g=r.count;p<g;p++)r.setXYZ(p,0,0,0);const i=new le,s=new le,o=new le,a=new le,l=new le,u=new le,f=new le,d=new le;if(e)for(let p=0,g=e.count;p<g;p+=3){const y=e.getX(p+0),S=e.getX(p+1),_=e.getX(p+2);i.fromBufferAttribute(n,y),s.fromBufferAttribute(n,S),o.fromBufferAttribute(n,_),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,S),u.fromBufferAttribute(r,_),a.add(f),l.add(f),u.add(f),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(_,u.x,u.y,u.z)}else for(let p=0,g=n.count;p<g;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Vi.fromBufferAttribute(e,n),Vi.normalize(),e.setXYZ(n,Vi.x,Vi.y,Vi.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,d=a.normalized,p=new u.constructor(l.length*f);let g=0,y=0;for(let S=0,_=l.length;S<_;S++){a.isInterleavedBufferAttribute?g=l[S]*a.data.stride+a.offset:g=l[S]*f;for(let x=0;x<f;x++)p[y++]=u[g++]}return new Kn(p,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Mn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,d=u.length;f<d;f++){const p=u[f],g=e(p,r);l.push(g)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let d=0,p=u.length;d<p;d++){const g=u[d];f.push(g.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(n))}const s=e.morphAttributes;for(const u in s){const f=[],d=s[u];for(let p=0,g=d.length;p<g;p++)f.push(d[p].clone(n));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const eO=new tn,fd=new Sh,$x=new Ki,tO=new le,Qx=new le,Zx=new le,e_=new le,mE=new le,t_=new le,nO=new le,n_=new le;class Lr extends zn{constructor(e=new Mn,n=new co){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){t_.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const f=a[l],d=s[l];f!==0&&(mE.fromBufferAttribute(d,e),o?t_.addScaledVector(mE,f):t_.addScaledVector(mE.sub(n),f))}n.add(t_)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$x.copy(r.boundingSphere),$x.applyMatrix4(s),fd.copy(e.ray).recast(e.near),!($x.containsPoint(fd.origin)===!1&&(fd.intersectSphere($x,tO)===null||fd.origin.distanceToSquared(tO)>(e.far-e.near)**2))&&(eO.copy(s).invert(),fd.copy(e.ray).applyMatrix4(eO),!(r.boundingBox!==null&&fd.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,fd)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,f=s.attributes.uv1,d=s.attributes.normal,p=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,S=p.length;y<S;y++){const _=p[y],x=o[_.materialIndex],b=Math.max(_.start,g.start),w=Math.min(a.count,Math.min(_.start+_.count,g.start+g.count));for(let M=b,C=w;M<C;M+=3){const I=a.getX(M),B=a.getX(M+1),P=a.getX(M+2);i=r_(this,x,e,r,u,f,d,I,B,P),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,n.push(i))}}else{const y=Math.max(0,g.start),S=Math.min(a.count,g.start+g.count);for(let _=y,x=S;_<x;_+=3){const b=a.getX(_),w=a.getX(_+1),M=a.getX(_+2);i=r_(this,o,e,r,u,f,d,b,w,M),i&&(i.faceIndex=Math.floor(_/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,S=p.length;y<S;y++){const _=p[y],x=o[_.materialIndex],b=Math.max(_.start,g.start),w=Math.min(l.count,Math.min(_.start+_.count,g.start+g.count));for(let M=b,C=w;M<C;M+=3){const I=M,B=M+1,P=M+2;i=r_(this,x,e,r,u,f,d,I,B,P),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,n.push(i))}}else{const y=Math.max(0,g.start),S=Math.min(l.count,g.start+g.count);for(let _=y,x=S;_<x;_+=3){const b=_,w=_+1,M=_+2;i=r_(this,o,e,r,u,f,d,b,w,M),i&&(i.faceIndex=Math.floor(_/3),n.push(i))}}}}function Soe(t,e,n,r,i,s,o,a){let l;if(e.side===Ws?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Kl,a),l===null)return null;n_.copy(a),n_.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(n_);return u<n.near||u>n.far?null:{distance:u,point:n_.clone(),object:t}}function r_(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,Qx),t.getVertexPosition(l,Zx),t.getVertexPosition(u,e_);const f=Soe(t,e,n,r,Qx,Zx,e_,nO);if(f){const d=new le;lo.getBarycoord(nO,Qx,Zx,e_,d),i&&(f.uv=lo.getInterpolatedAttribute(i,a,l,u,d,new it)),s&&(f.uv1=lo.getInterpolatedAttribute(s,a,l,u,d,new it)),o&&(f.normal=lo.getInterpolatedAttribute(o,a,l,u,d,new le),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const p={a,b:l,c:u,normal:new le,materialIndex:0};lo.getNormal(Qx,Zx,e_,p.normal),f.face=p,f.barycoord=d}return f}class Ah extends Mn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],d=[];let p=0,g=0;y("z","y","x",-1,-1,r,n,e,o,s,0),y("z","y","x",1,-1,r,n,-e,o,s,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,s,4),y("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Yt(u,3)),this.setAttribute("normal",new Yt(f,3)),this.setAttribute("uv",new Yt(d,2));function y(S,_,x,b,w,M,C,I,B,P,L){const E=M/B,O=C/P,U=M/2,H=C/2,q=I/2,te=B+1,$=P+1;let ie=0,W=0;const Y=new le;for(let Q=0;Q<$;Q++){const z=Q*O-H;for(let K=0;K<te;K++){const ae=K*E-U;Y[S]=ae*b,Y[_]=z*w,Y[x]=q,u.push(Y.x,Y.y,Y.z),Y[S]=0,Y[_]=0,Y[x]=I>0?1:-1,f.push(Y.x,Y.y,Y.z),d.push(K/B),d.push(1-Q/P),ie+=1}}for(let Q=0;Q<P;Q++)for(let z=0;z<B;z++){const K=p+z+te*Q,ae=p+z+te*(Q+1),Z=p+(z+1)+te*(Q+1),se=p+(z+1)+te*Q;l.push(K,ae,se),l.push(ae,Z,se),W+=6}a.addGroup(g,W,L),g+=W,p+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ah(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Pm(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function zs(t){const e={};for(let n=0;n<t.length;n++){const r=Pm(t[n]);for(const i in r)e[i]=r[i]}return e}function Aoe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function CG(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Wn.workingColorSpace}const X2={clone:Pm,merge:zs};var woe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,boe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class sl extends Bi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=woe,this.fragmentShader=boe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Pm(e.uniforms),this.uniformsGroups=Aoe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class p0 extends zn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new tn,this.projectionMatrix=new tn,this.projectionMatrixInverse=new tn,this.coordinateSystem=$a}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const jc=new le,rO=new it,iO=new it;class Qr extends p0{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Rm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Qd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Rm*2*Math.atan(Math.tan(Qd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){jc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(jc.x,jc.y).multiplyScalar(-e/jc.z),jc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(jc.x,jc.y).multiplyScalar(-e/jc.z)}getViewSize(e,n){return this.getViewBounds(e,rO,iO),n.subVectors(iO,rO)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Qd*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Dp=-90,Lp=1;class TG extends zn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Qr(Dp,Lp,e,n);i.layers=this.layers,this.add(i);const s=new Qr(Dp,Lp,e,n);s.layers=this.layers,this.add(s);const o=new Qr(Dp,Lp,e,n);o.layers=this.layers,this.add(o);const a=new Qr(Dp,Lp,e,n);a.layers=this.layers,this.add(a);const l=new Qr(Dp,Lp,e,n);l.layers=this.layers,this.add(l);const u=new Qr(Dp,Lp,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===$a)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Py)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,f]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(d,p,g),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class m0 extends Rr{constructor(e,n,r,i,s,o,a,l,u,f){e=e!==void 0?e:[],n=n!==void 0?n:tc,super(e,n,r,i,s,o,a,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class RG extends Jl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new m0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:zr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ah(5,5,5),s=new sl({name:"CubemapFromEquirect",uniforms:Pm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ws,blending:Xu});s.uniforms.tEquirect.value=n;const o=new Lr(i,s),a=n.minFilter;return n.minFilter===la&&(n.minFilter=zr),new TG(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}class Hu extends zn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Moe={type:"move"};class t1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Hu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Hu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Hu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const S of e.hand.values()){const _=n.getJointPose(S,r),x=this._getHandJoint(u,S);_!==null&&(x.matrix.fromArray(_.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=_.radius),x.visible=_!==null}const f=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=f.position.distanceTo(d.position),g=.02,y=.005;u.inputState.pinching&&p>g+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=g-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Moe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Hu;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class vA{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Tt(e),this.density=n}clone(){return new vA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class yA{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Tt(e),this.near=n,this.far=r}clone(){return new yA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class q2 extends zn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Uo,this.environmentIntensity=1,this.environmentRotation=new Uo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class g0{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Ry,this.updateRanges=[],this.version=0,this.uuid=Fo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ns=new le;class yf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Ns.fromBufferAttribute(this,n),Ns.applyMatrix4(e),this.setXYZ(n,Ns.x,Ns.y,Ns.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ns.fromBufferAttribute(this,n),Ns.applyNormalMatrix(e),this.setXYZ(n,Ns.x,Ns.y,Ns.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ns.fromBufferAttribute(this,n),Ns.transformDirection(e),this.setXYZ(n,Ns.x,Ns.y,Ns.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Hs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Tn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Tn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Tn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Tn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Tn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Hs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Hs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Hs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Hs(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Tn(n,this.array),r=Tn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Tn(n,this.array),r=Tn(r,this.array),i=Tn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Tn(n,this.array),r=Tn(r,this.array),i=Tn(i,this.array),s=Tn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Kn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new yf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class K2 extends Bi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Tt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Fp;const tv=new le,Op=new le,kp=new le,Up=new it,nv=new it,PG=new tn,i_=new le,rv=new le,s_=new le,sO=new it,gE=new it,oO=new it;class IG extends zn{constructor(e=new K2){if(super(),this.isSprite=!0,this.type="Sprite",Fp===void 0){Fp=new Mn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new g0(n,5);Fp.setIndex([0,1,2,0,2,3]),Fp.setAttribute("position",new yf(r,3,0,!1)),Fp.setAttribute("uv",new yf(r,2,3,!1))}this.geometry=Fp,this.material=e,this.center=new it(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Op.setFromMatrixScale(this.matrixWorld),PG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),kp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Op.multiplyScalar(-kp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;o_(i_.set(-.5,-.5,0),kp,o,Op,i,s),o_(rv.set(.5,-.5,0),kp,o,Op,i,s),o_(s_.set(.5,.5,0),kp,o,Op,i,s),sO.set(0,0),gE.set(1,0),oO.set(1,1);let a=e.ray.intersectTriangle(i_,rv,s_,!1,tv);if(a===null&&(o_(rv.set(-.5,.5,0),kp,o,Op,i,s),gE.set(0,1),a=e.ray.intersectTriangle(i_,s_,rv,!1,tv),a===null))return;const l=e.ray.origin.distanceTo(tv);l<e.near||l>e.far||n.push({distance:l,point:tv.clone(),uv:lo.getInterpolation(tv,i_,rv,s_,sO,gE,oO,new it),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function o_(t,e,n,r,i,s){Up.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(nv.x=s*Up.x-i*Up.y,nv.y=i*Up.x+s*Up.y):nv.copy(Up),t.copy(e),t.x+=nv.x,t.y+=nv.y,t.applyMatrix4(PG)}const a_=new le,aO=new le;class BG extends zn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){a_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(a_);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){a_.setFromMatrixPosition(e.matrixWorld),aO.setFromMatrixPosition(this.matrixWorld);const r=a_.distanceTo(aO)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const lO=new le,uO=new Nn,cO=new Nn,Eoe=new le,fO=new tn,l_=new le,vE=new Ki,dO=new tn,yE=new Sh;class J2 extends Lr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=mT,this.bindMatrix=new tn,this.bindMatrixInverse=new tn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new qi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,l_),this.boundingBox.expandByPoint(l_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ki),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,l_),this.boundingSphere.expandByPoint(l_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),vE.copy(this.boundingSphere),vE.applyMatrix4(i),e.ray.intersectsSphere(vE)!==!1&&(dO.copy(i).invert(),yE.copy(e.ray).applyMatrix4(dO),!(this.boundingBox!==null&&yE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,yE)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Nn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===mT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===lG?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;uO.fromBufferAttribute(i.attributes.skinIndex,e),cO.fromBufferAttribute(i.attributes.skinWeight,e),lO.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=cO.getComponent(s);if(o!==0){const a=uO.getComponent(s);fO.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Eoe.copy(lO).applyMatrix4(fO),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class xA extends zn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class jl extends Rr{constructor(e=null,n=1,r=1,i,s,o,a,l,u=Wi,f=Wi,d,p){super(null,o,a,l,u,f,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const hO=new tn,Coe=new tn;class v0{constructor(e=[],n=[]){this.uuid=Fo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new tn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new tn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Coe;hO.multiplyMatrices(a,n[s]),hO.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new v0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new jl(n,e,e,ws,uo);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new xA),this.bones.push(o),this.boneInverses.push(new tn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class xf extends Kn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Np=new tn,pO=new tn,u_=[],mO=new qi,Toe=new tn,iv=new Lr,sv=new Ki;class Y2 extends Lr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new xf(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Toe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new qi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Np),mO.copy(e.boundingBox).applyMatrix4(Np),this.boundingBox.union(mO)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ki),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Np),sv.copy(e.boundingSphere).applyMatrix4(Np),this.boundingSphere.union(sv)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(iv.geometry=this.geometry,iv.material=this.material,iv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),sv.copy(this.boundingSphere),sv.applyMatrix4(r),e.ray.intersectsSphere(sv)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Np),pO.multiplyMatrices(r,Np),iv.matrixWorld=pO,iv.raycast(e,u_);for(let o=0,a=u_.length;o<a;o++){const l=u_[o];l.instanceId=s,l.object=this,n.push(l)}u_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new xf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new jl(new Float32Array(i*this.count),i,this.count,fA,uo));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const xE=new le,Roe=new le,Poe=new _n;class Uu{constructor(e=new le(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=xE.subVectors(r,n).cross(Roe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(xE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Poe.getNormalMatrix(e),i=this.coplanarPoint(xE).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const dd=new Ki,c_=new le;class y0{constructor(e=new Uu,n=new Uu,r=new Uu,i=new Uu,s=new Uu,o=new Uu){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=$a){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],f=i[5],d=i[6],p=i[7],g=i[8],y=i[9],S=i[10],_=i[11],x=i[12],b=i[13],w=i[14],M=i[15];if(r[0].setComponents(l-s,p-u,_-g,M-x).normalize(),r[1].setComponents(l+s,p+u,_+g,M+x).normalize(),r[2].setComponents(l+o,p+f,_+y,M+b).normalize(),r[3].setComponents(l-o,p-f,_-y,M-b).normalize(),r[4].setComponents(l-a,p-d,_-S,M-w).normalize(),n===$a)r[5].setComponents(l+a,p+d,_+S,M+w).normalize();else if(n===Py)r[5].setComponents(a,d,S,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),dd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),dd.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(dd)}intersectsSprite(e){return dd.center.set(0,0,0),dd.radius=.7071067811865476,dd.applyMatrix4(e.matrixWorld),this.intersectsSphere(dd)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(c_.x=i.normal.x>0?e.max.x:e.min.x,c_.y=i.normal.y>0?e.max.y:e.min.y,c_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(c_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function _E(t,e){return t-e}function Ioe(t,e){return t.z-e.z}function Boe(t,e){return e.z-t.z}class Doe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const so=new tn,Loe=new Tt(1,1,1),SE=new y0,f_=new qi,hd=new Ki,ov=new le,gO=new le,Foe=new le,AE=new Doe,xs=new Lr,d_=[];function Ooe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function pd(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class DG extends Lr{constructor(e,n,r=n*2,i){super(new Mn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new jl(n,e,e,ws,uo);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new jl(n,e,e,d0,nc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new jl(n,e,e,ws,uo);r.colorSpace=Wn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:u}=o,f=new a.constructor(r*l),d=new Kn(f,l,u);n.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Kn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qi);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,so),this.getBoundingBoxAt(s,f_).applyMatrix4(so),e.union(f_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ki);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,so),this.getBoundingSphereAt(s,hd).applyMatrix4(so),e.union(hd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(_E),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;so.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(Loe.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(_E),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,u=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const f in r.attributes){const d=n.getAttribute(f),p=r.getAttribute(f);Ooe(d,p,l);const g=d.itemSize;for(let y=d.count,S=u;y<S;y++){const _=l+y;for(let x=0;x<g;x++)p.setComponent(_,x,0)}p.needsUpdate=!0,p.addUpdateRange(l*g,u*g)}if(i){const f=a.indexStart,d=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let p=0;p<o.count;p++)s.setX(f+p,l+o.getX(p));for(let p=o.count,g=d;p<g;p++)s.setX(f+p,l);s.needsUpdate=!0,s.addUpdateRange(f,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],u=r[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==n){const{indexStart:f,vertexStart:d,reservedIndexCount:p}=u,g=s.index,y=g.array,S=e-d;for(let _=f;_<f+p;_++)y[_]=y[_]+S;g.array.copyWithin(n,f,f+p),g.addUpdateRange(n,p),u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:f,reservedVertexCount:d}=u,p=s.attributes;for(const g in p){const y=p[g],{array:S,itemSize:_}=y;S.copyWithin(e*_,f*_,(f+d)*_),y.addUpdateRange(e*_,d*_)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new qi,o=r.index,a=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let f=l;o&&(f=o.getX(f)),s.expandByPoint(ov.fromBufferAttribute(a,f))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Ki;this.getBoundingBoxAt(e,f_),f_.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let u=i.start,f=i.start+i.count;u<f;u++){let d=u;o&&(d=o.getX(d)),ov.fromBufferAttribute(a,d),l=Math.max(l,s.center.distanceToSquared(ov))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(_E);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);pd(this._multiDrawCounts,i),pd(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),pd(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),pd(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),pd(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Mn,this._initializeGeometry(s));const o=this.geometry;s.index&&pd(s.index.array,o.index.array);for(const a in s.attributes)pd(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;xs.material=this.material,xs.geometry.index=o.index,xs.geometry.attributes=o.attributes,xs.geometry.boundingBox===null&&(xs.geometry.boundingBox=new qi),xs.geometry.boundingSphere===null&&(xs.geometry.boundingSphere=new Ki);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const u=r[a].geometryIndex,f=i[u];xs.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(a,xs.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,xs.geometry.boundingBox),this.getBoundingSphereAt(u,xs.geometry.boundingSphere),xs.raycast(e,d_);for(let d=0,p=d_.length;d<p;d++){const g=d_[d];g.object=this,g.batchId=a,n.push(g)}d_.length=0}xs.material=null,xs.geometry.index=null,xs.geometry.attributes={},xs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,f=this._multiDrawCounts,d=this._geometryInfo,p=this.perObjectFrustumCulled,g=this._indirectTexture,y=g.image.data;p&&(so.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),SE.setFromProjectionMatrix(so,e.coordinateSystem));let S=0;if(this.sortObjects){so.copy(this.matrixWorld).invert(),ov.setFromMatrixPosition(r.matrixWorld).applyMatrix4(so),gO.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(so);for(let b=0,w=l.length;b<w;b++)if(l[b].visible&&l[b].active){const M=l[b].geometryIndex;this.getMatrixAt(b,so),this.getBoundingSphereAt(M,hd).applyMatrix4(so);let C=!1;if(p&&(C=!SE.intersectsSphere(hd)),!C){const I=d[M],B=Foe.subVectors(hd.center,ov).dot(gO);AE.push(I.start,I.count,B,b)}}const _=AE.list,x=this.customSort;x===null?_.sort(s.transparent?Boe:Ioe):x.call(this,_,r);for(let b=0,w=_.length;b<w;b++){const M=_[b];u[S]=M.start*a,f[S]=M.count,y[S]=M.index,S++}AE.reset()}else for(let _=0,x=l.length;_<x;_++)if(l[_].visible&&l[_].active){const b=l[_].geometryIndex;let w=!1;if(p&&(this.getMatrixAt(_,so),this.getBoundingSphereAt(b,hd).applyMatrix4(so),w=!SE.intersectsSphere(hd)),!w){const M=d[b];u[S]=M.start*a,f[S]=M.count,y[S]=_,S++}}g.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Ms extends Bi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Tt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const fS=new le,dS=new le,vO=new tn,av=new Sh,h_=new Ki,wE=new le,yO=new le;class rc extends zn{constructor(e=new Mn,n=new Ms){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)fS.fromBufferAttribute(n,i-1),dS.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=fS.distanceTo(dS);e.setAttribute("lineDistance",new Yt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),h_.copy(r.boundingSphere),h_.applyMatrix4(i),h_.radius+=s,e.ray.intersectsSphere(h_)===!1)return;vO.copy(i).invert(),av.copy(e.ray).applyMatrix4(vO);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=this.isLineSegments?2:1,f=r.index,p=r.attributes.position;if(f!==null){const g=Math.max(0,o.start),y=Math.min(f.count,o.start+o.count);for(let S=g,_=y-1;S<_;S+=u){const x=f.getX(S),b=f.getX(S+1),w=p_(this,e,av,l,x,b,S);w&&n.push(w)}if(this.isLineLoop){const S=f.getX(y-1),_=f.getX(g),x=p_(this,e,av,l,S,_,y-1);x&&n.push(x)}}else{const g=Math.max(0,o.start),y=Math.min(p.count,o.start+o.count);for(let S=g,_=y-1;S<_;S+=u){const x=p_(this,e,av,l,S,S+1,S);x&&n.push(x)}if(this.isLineLoop){const S=p_(this,e,av,l,y-1,g,y-1);S&&n.push(S)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function p_(t,e,n,r,i,s,o){const a=t.geometry.attributes.position;if(fS.fromBufferAttribute(a,i),dS.fromBufferAttribute(a,s),n.distanceSqToSegment(fS,dS,wE,yO)>r)return;wE.applyMatrix4(t.matrixWorld);const u=e.ray.origin.distanceTo(wE);if(!(u<e.near||u>e.far))return{distance:u,point:yO.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const xO=new le,_O=new le;class ul extends rc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)xO.fromBufferAttribute(n,i),_O.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+xO.distanceTo(_O);e.setAttribute("lineDistance",new Yt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class $2 extends rc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class _A extends Bi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Tt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const SO=new tn,yT=new Sh,m_=new Ki,g_=new le;class Q2 extends zn{constructor(e=new Mn,n=new _A){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),m_.copy(r.boundingSphere),m_.applyMatrix4(i),m_.radius+=s,e.ray.intersectsSphere(m_)===!1)return;SO.copy(i).invert(),yT.copy(e.ray).applyMatrix4(SO);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,d=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let y=p,S=g;y<S;y++){const _=u.getX(y);g_.fromBufferAttribute(d,_),AO(g_,_,l,i,e,n,this)}}else{const p=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let y=p,S=g;y<S;y++)g_.fromBufferAttribute(d,y),AO(g_,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function AO(t,e,n,r,i,s,o){const a=yT.distanceSqToPoint(t);if(a<n){const l=new le;yT.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class LG extends Rr{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:zr,this.magFilter=s!==void 0?s:zr,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class koe extends LG{constructor(e,n,r,i,s,o,a,l){super({},e,n,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Uoe extends Rr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Wi,this.minFilter=Wi,this.generateMipmaps=!1,this.needsUpdate=!0}}class SA extends Rr{constructor(e,n,r,i,s,o,a,l,u,f,d,p){super(null,o,a,l,u,f,i,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Noe extends SA{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Bo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class zoe extends SA{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,tc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Goe extends Rr{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Z2 extends Rr{constructor(e,n,r,i,s,o,a,l,u,f=$d){if(f!==$d&&f!==fh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===$d&&(r=nc),r===void 0&&f===fh&&(r=ch),super(null,i,s,o,a,l,f,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Wi,this.minFilter=l!==void 0?l:Wi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new tf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class cl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,g=(o-f)/p;return(i+g)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new it:new le);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new le,i=[],s=[],o=[],a=new le,l=new tn;for(let g=0;g<=e;g++){const y=g/e;i[g]=this.getTangentAt(y,new le)}s[0]=new le,o[0]=new le;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Sn(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,y))}o[g].crossVectors(i[g],s[g])}if(n===!0){let g=Math.acos(Sn(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],g*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class AA extends cl{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new it){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,g=u-this.aY;l=p*f-g*d+this.aX,u=p*d+g*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class FG extends AA{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function eP(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,d){let p=(o-s)/u-(a-s)/(u+f)+(a-o)/f,g=(a-o)/f-(l-o)/(f+d)+(l-a)/d;p*=f,g*=f,i(o,a,p,g)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const v_=new le,bE=new eP,ME=new eP,EE=new eP;class OG extends cl{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new le){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=i[(a-1)%s]:(v_.subVectors(i[0],i[1]).add(i[0]),u=v_);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(v_.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=v_),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(d),g),S=Math.pow(d.distanceToSquared(p),g),_=Math.pow(p.distanceToSquared(f),g);S<1e-4&&(S=1),y<1e-4&&(y=S),_<1e-4&&(_=S),bE.initNonuniformCatmullRom(u.x,d.x,p.x,f.x,y,S,_),ME.initNonuniformCatmullRom(u.y,d.y,p.y,f.y,y,S,_),EE.initNonuniformCatmullRom(u.z,d.z,p.z,f.z,y,S,_)}else this.curveType==="catmullrom"&&(bE.initCatmullRom(u.x,d.x,p.x,f.x,this.tension),ME.initCatmullRom(u.y,d.y,p.y,f.y,this.tension),EE.initCatmullRom(u.z,d.z,p.z,f.z,this.tension));return r.set(bE.calc(l),ME.calc(l),EE.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new le().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function wO(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Hoe(t,e){const n=1-t;return n*n*e}function Voe(t,e){return 2*(1-t)*t*e}function joe(t,e){return t*t*e}function Kv(t,e,n,r){return Hoe(t,e)+Voe(t,n)+joe(t,r)}function Woe(t,e){const n=1-t;return n*n*n*e}function Xoe(t,e){const n=1-t;return 3*n*n*t*e}function qoe(t,e){return 3*(1-t)*t*t*e}function Koe(t,e){return t*t*t*e}function Jv(t,e,n,r,i){return Woe(t,e)+Xoe(t,n)+qoe(t,r)+Koe(t,i)}class tP extends cl{constructor(e=new it,n=new it,r=new it,i=new it){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new it){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Jv(e,i.x,s.x,o.x,a.x),Jv(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class kG extends cl{constructor(e=new le,n=new le,r=new le,i=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Jv(e,i.x,s.x,o.x,a.x),Jv(e,i.y,s.y,o.y,a.y),Jv(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nP extends cl{constructor(e=new it,n=new it){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new it){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new it){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UG extends cl{constructor(e=new le,n=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new le){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new le){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rP extends cl{constructor(e=new it,n=new it,r=new it){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new it){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Kv(e,i.x,s.x,o.x),Kv(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iP extends cl{constructor(e=new le,n=new le,r=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Kv(e,i.x,s.x,o.x),Kv(e,i.y,s.y,o.y),Kv(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sP extends cl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new it){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(wO(a,l.x,u.x,f.x,d.x),wO(a,l.y,u.y,f.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new it().fromArray(i))}return this}}var hS=Object.freeze({__proto__:null,ArcCurve:FG,CatmullRomCurve3:OG,CubicBezierCurve:tP,CubicBezierCurve3:kG,EllipseCurve:AA,LineCurve:nP,LineCurve3:UG,QuadraticBezierCurve:rP,QuadraticBezierCurve3:iP,SplineCurve:sP});class NG extends cl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new hS[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new hS[i.type]().fromJSON(i))}return this}}class By extends NG{constructor(e){super(),this.type="Path",this.currentPoint=new it,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new nP(this.currentPoint.clone(),new it(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new rP(this.currentPoint.clone(),new it(e,n),new it(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new tP(this.currentPoint.clone(),new it(e,n),new it(r,i),new it(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new sP(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,n+f,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new AA(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class x0 extends Mn{constructor(e=[new it(0,-.5),new it(.5,0),new it(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Sn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/n,d=new le,p=new it,g=new le,y=new le,S=new le;let _=0,x=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:_=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,g.x=x*1,g.y=-_,g.z=x*0,S.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:_=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,g.x=x*1,g.y=-_,g.z=x*0,y.copy(g),g.x+=S.x,g.y+=S.y,g.z+=S.z,g.normalize(),l.push(g.x,g.y,g.z),S.copy(y)}for(let b=0;b<=n;b++){const w=r+b*f*i,M=Math.sin(w),C=Math.cos(w);for(let I=0;I<=e.length-1;I++){d.x=e[I].x*M,d.y=e[I].y,d.z=e[I].x*C,o.push(d.x,d.y,d.z),p.x=b/n,p.y=I/(e.length-1),a.push(p.x,p.y);const B=l[3*I+0]*M,P=l[3*I+1],L=l[3*I+0]*C;u.push(B,P,L)}}for(let b=0;b<n;b++)for(let w=0;w<e.length-1;w++){const M=w+b*e.length,C=M,I=M+e.length,B=M+e.length+1,P=M+1;s.push(C,I,P),s.push(B,P,I)}this.setIndex(s),this.setAttribute("position",new Yt(o,3)),this.setAttribute("uv",new Yt(a,2)),this.setAttribute("normal",new Yt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x0(e.points,e.segments,e.phiStart,e.phiLength)}}class wA extends x0{constructor(e=1,n=1,r=4,i=8){const s=new By;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new wA(e.radius,e.length,e.capSegments,e.radialSegments)}}class bA extends Mn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new le,f=new it;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const g=r+d/n*i;u.x=e*Math.cos(g),u.y=e*Math.sin(g),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Yt(o,3)),this.setAttribute("normal",new Yt(a,3)),this.setAttribute("uv",new Yt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Vm extends Mn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const f=[],d=[],p=[],g=[];let y=0;const S=[],_=r/2;let x=0;b(),o===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(f),this.setAttribute("position",new Yt(d,3)),this.setAttribute("normal",new Yt(p,3)),this.setAttribute("uv",new Yt(g,2));function b(){const M=new le,C=new le;let I=0;const B=(n-e)/r;for(let P=0;P<=s;P++){const L=[],E=P/s,O=E*(n-e)+e;for(let U=0;U<=i;U++){const H=U/i,q=H*l+a,te=Math.sin(q),$=Math.cos(q);C.x=O*te,C.y=-E*r+_,C.z=O*$,d.push(C.x,C.y,C.z),M.set(te,B,$).normalize(),p.push(M.x,M.y,M.z),g.push(H,1-E),L.push(y++)}S.push(L)}for(let P=0;P<i;P++)for(let L=0;L<s;L++){const E=S[L][P],O=S[L+1][P],U=S[L+1][P+1],H=S[L][P+1];(e>0||L!==0)&&(f.push(E,O,H),I+=3),(n>0||L!==s-1)&&(f.push(O,U,H),I+=3)}u.addGroup(x,I,0),x+=I}function w(M){const C=y,I=new it,B=new le;let P=0;const L=M===!0?e:n,E=M===!0?1:-1;for(let U=1;U<=i;U++)d.push(0,_*E,0),p.push(0,E,0),g.push(.5,.5),y++;const O=y;for(let U=0;U<=i;U++){const q=U/i*l+a,te=Math.cos(q),$=Math.sin(q);B.x=L*$,B.y=_*E,B.z=L*te,d.push(B.x,B.y,B.z),p.push(0,E,0),I.x=te*.5+.5,I.y=$*.5*E+.5,g.push(I.x,I.y),y++}for(let U=0;U<i;U++){const H=C+U,q=O+U;M===!0?f.push(q,q+1,H):f.push(q+1,q,H),P+=3}u.addGroup(x,P,M===!0?1:2),x+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class MA extends Vm{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new MA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bf extends Mn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),f(),this.setAttribute("position",new Yt(s,3)),this.setAttribute("normal",new Yt(s.slice(),3)),this.setAttribute("uv",new Yt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const w=new le,M=new le,C=new le;for(let I=0;I<n.length;I+=3)g(n[I+0],w),g(n[I+1],M),g(n[I+2],C),l(w,M,C,b)}function l(b,w,M,C){const I=C+1,B=[];for(let P=0;P<=I;P++){B[P]=[];const L=b.clone().lerp(M,P/I),E=w.clone().lerp(M,P/I),O=I-P;for(let U=0;U<=O;U++)U===0&&P===I?B[P][U]=L:B[P][U]=L.clone().lerp(E,U/O)}for(let P=0;P<I;P++)for(let L=0;L<2*(I-P)-1;L++){const E=Math.floor(L/2);L%2===0?(p(B[P][E+1]),p(B[P+1][E]),p(B[P][E])):(p(B[P][E+1]),p(B[P+1][E+1]),p(B[P+1][E]))}}function u(b){const w=new le;for(let M=0;M<s.length;M+=3)w.x=s[M+0],w.y=s[M+1],w.z=s[M+2],w.normalize().multiplyScalar(b),s[M+0]=w.x,s[M+1]=w.y,s[M+2]=w.z}function f(){const b=new le;for(let w=0;w<s.length;w+=3){b.x=s[w+0],b.y=s[w+1],b.z=s[w+2];const M=_(b)/2/Math.PI+.5,C=x(b)/Math.PI+.5;o.push(M,1-C)}y(),d()}function d(){for(let b=0;b<o.length;b+=6){const w=o[b+0],M=o[b+2],C=o[b+4],I=Math.max(w,M,C),B=Math.min(w,M,C);I>.9&&B<.1&&(w<.2&&(o[b+0]+=1),M<.2&&(o[b+2]+=1),C<.2&&(o[b+4]+=1))}}function p(b){s.push(b.x,b.y,b.z)}function g(b,w){const M=b*3;w.x=e[M+0],w.y=e[M+1],w.z=e[M+2]}function y(){const b=new le,w=new le,M=new le,C=new le,I=new it,B=new it,P=new it;for(let L=0,E=0;L<s.length;L+=9,E+=6){b.set(s[L+0],s[L+1],s[L+2]),w.set(s[L+3],s[L+4],s[L+5]),M.set(s[L+6],s[L+7],s[L+8]),I.set(o[E+0],o[E+1]),B.set(o[E+2],o[E+3]),P.set(o[E+4],o[E+5]),C.copy(b).add(w).add(M).divideScalar(3);const O=_(C);S(I,E+0,b,O),S(B,E+2,w,O),S(P,E+4,M,O)}}function S(b,w,M,C){C<0&&b.x===1&&(o[w]=b.x-1),M.x===0&&M.z===0&&(o[w]=C/2/Math.PI+.5)}function _(b){return Math.atan2(b.z,-b.x)}function x(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bf(e.vertices,e.indices,e.radius,e.details)}}class EA extends bf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new EA(e.radius,e.detail)}}const y_=new le,x_=new le,CE=new le,__=new lo;class zG extends Mn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Qd*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],d=new Array(3),p={},g=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:S,b:_,c:x}=__;if(S.fromBufferAttribute(a,u[0]),_.fromBufferAttribute(a,u[1]),x.fromBufferAttribute(a,u[2]),__.getNormal(CE),d[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,d[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,d[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let b=0;b<3;b++){const w=(b+1)%3,M=d[b],C=d[w],I=__[f[b]],B=__[f[w]],P=`${M}_${C}`,L=`${C}_${M}`;L in p&&p[L]?(CE.dot(p[L].normal)<=s&&(g.push(I.x,I.y,I.z),g.push(B.x,B.y,B.z)),p[L]=null):P in p||(p[P]={index0:u[b],index1:u[w],normal:CE.clone()})}}for(const y in p)if(p[y]){const{index0:S,index1:_}=p[y];y_.fromBufferAttribute(a,S),x_.fromBufferAttribute(a,_),g.push(y_.x,y_.y,y_.z),g.push(x_.x,x_.y,x_.z)}this.setAttribute("position",new Yt(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class eh extends By{constructor(e){super(e),this.uuid=Fo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new By().fromJSON(i))}return this}}class Joe{static triangulate(e,n,r=2){const i=n&&n.length,s=i?n[0]*r:e.length;let o=GG(e,0,s,r,!0);const a=[];if(!o||o.next===o.prev)return a;let l,u,f,d,p,g,y;if(i&&(o=eae(e,n,o,r)),e.length>80*r){l=f=e[0],u=d=e[1];for(let S=r;S<s;S+=r)p=e[S],g=e[S+1],p<l&&(l=p),g<u&&(u=g),p>f&&(f=p),g>d&&(d=g);y=Math.max(f-l,d-u),y=y!==0?32767/y:0}return Dy(o,a,r,l,u,y,0),a}}function GG(t,e,n,r,i){let s,o;if(i===fae(t,e,n,r)>0)for(s=e;s<n;s+=r)o=bO(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=bO(s,t[s],t[s+1],o);return o&&CA(o,o.next)&&(Fy(o),o=o.next),o}function hh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(CA(n,n.next)||Nr(n.prev,n,n.next)===0)){if(Fy(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Dy(t,e,n,r,i,s,o){if(!t)return;!o&&s&&sae(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?$oe(t,r,i,s):Yoe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Fy(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=Qoe(hh(t),e,n),Dy(t,e,n,r,i,s,2)):o===2&&Zoe(t,e,n,r,i,s):Dy(hh(t),e,n,r,i,s,1);break}}}function Yoe(t){const e=t.prev,n=t,r=t.next;if(Nr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,f=i<s?i<o?i:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,g=a>l?a>u?a:u:l>u?l:u;let y=r.next;for(;y!==e;){if(y.x>=f&&y.x<=p&&y.y>=d&&y.y<=g&&nm(i,a,s,l,o,u,y.x,y.y)&&Nr(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function $oe(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Nr(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,f=i.y,d=s.y,p=o.y,g=a<l?a<u?a:u:l<u?l:u,y=f<d?f<p?f:p:d<p?d:p,S=a>l?a>u?a:u:l>u?l:u,_=f>d?f>p?f:p:d>p?d:p,x=xT(g,y,e,n,r),b=xT(S,_,e,n,r);let w=t.prevZ,M=t.nextZ;for(;w&&w.z>=x&&M&&M.z<=b;){if(w.x>=g&&w.x<=S&&w.y>=y&&w.y<=_&&w!==i&&w!==o&&nm(a,f,l,d,u,p,w.x,w.y)&&Nr(w.prev,w,w.next)>=0||(w=w.prevZ,M.x>=g&&M.x<=S&&M.y>=y&&M.y<=_&&M!==i&&M!==o&&nm(a,f,l,d,u,p,M.x,M.y)&&Nr(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;w&&w.z>=x;){if(w.x>=g&&w.x<=S&&w.y>=y&&w.y<=_&&w!==i&&w!==o&&nm(a,f,l,d,u,p,w.x,w.y)&&Nr(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;M&&M.z<=b;){if(M.x>=g&&M.x<=S&&M.y>=y&&M.y<=_&&M!==i&&M!==o&&nm(a,f,l,d,u,p,M.x,M.y)&&Nr(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Qoe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!CA(i,s)&&HG(i,r,r.next,s)&&Ly(i,s)&&Ly(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Fy(r),Fy(r.next),r=t=s),r=r.next}while(r!==t);return hh(r)}function Zoe(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&lae(o,a)){let l=VG(o,a);o=hh(o,o.next),l=hh(l,l.next),Dy(o,e,n,r,i,s,0),Dy(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function eae(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=GG(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(aae(u));for(i.sort(tae),s=0;s<i.length;s++)n=nae(i[s],n);return n}function tae(t,e){return t.x-e.x}function nae(t,e){const n=rae(t,e);if(!n)return e;const r=VG(n,t);return hh(r,r.next),hh(n,n.next)}function rae(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let f=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&nm(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),Ly(n,t)&&(d<f||d===f&&(n.x>i.x||n.x===i.x&&iae(i,n)))&&(i=n,f=d)),n=n.next;while(n!==a);return i}function iae(t,e){return Nr(t.prev,t,e.prev)<0&&Nr(e.next,t,t.next)<0}function sae(t,e,n,r){let i=t;do i.z===0&&(i.z=xT(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,oae(i)}function oae(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function xT(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function aae(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function nm(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function lae(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!uae(t,e)&&(Ly(t,e)&&Ly(e,t)&&cae(t,e)&&(Nr(t.prev,t,e.prev)||Nr(t,e.prev,e))||CA(t,e)&&Nr(t.prev,t,t.next)>0&&Nr(e.prev,e,e.next)>0)}function Nr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function CA(t,e){return t.x===e.x&&t.y===e.y}function HG(t,e,n,r){const i=A_(Nr(t,e,n)),s=A_(Nr(t,e,r)),o=A_(Nr(n,r,t)),a=A_(Nr(n,r,e));return!!(i!==s&&o!==a||i===0&&S_(t,n,e)||s===0&&S_(t,r,e)||o===0&&S_(n,t,r)||a===0&&S_(n,e,r))}function S_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function A_(t){return t>0?1:t<0?-1:0}function uae(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&HG(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Ly(t,e){return Nr(t.prev,t,t.next)<0?Nr(t,e,t.next)>=0&&Nr(t,t.prev,e)>=0:Nr(t,e,t.prev)<0||Nr(t,t.next,e)<0}function cae(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function VG(t,e){const n=new _T(t.i,t.x,t.y),r=new _T(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function bO(t,e,n,r){const i=new _T(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Fy(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function _T(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fae(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Wl{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Wl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];MO(e),EO(r,e);let o=e.length;n.forEach(MO);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,EO(r,n[l]);const a=Joe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function MO(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function EO(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class TA extends Mn{constructor(e=new eh([new it(.5,.5),new it(-.5,.5),new it(-.5,-.5),new it(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Yt(i,3)),this.setAttribute("uv",new Yt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,g=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:g-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,_=n.bevelSegments!==void 0?n.bevelSegments:3;const x=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:dae;let w,M=!1,C,I,B,P;x&&(w=x.getSpacedPoints(f),M=!0,p=!1,C=x.computeFrenetFrames(f,!1),I=new le,B=new le,P=new le),p||(_=0,g=0,y=0,S=0);const L=a.extractPoints(u);let E=L.shape;const O=L.holes;if(!Wl.isClockWise(E)){E=E.reverse();for(let xe=0,Te=O.length;xe<Te;xe++){const re=O[xe];Wl.isClockWise(re)&&(O[xe]=re.reverse())}}const H=Wl.triangulateShape(E,O),q=E;for(let xe=0,Te=O.length;xe<Te;xe++){const re=O[xe];E=E.concat(re)}function te(xe,Te,re){return Te||console.error("THREE.ExtrudeGeometry: vec does not exist"),xe.clone().addScaledVector(Te,re)}const $=E.length,ie=H.length;function W(xe,Te,re){let nt,ke,Ze;const Ae=xe.x-Te.x,tt=xe.y-Te.y,Fe=re.x-xe.x,J=re.y-xe.y,X=Ae*Ae+tt*tt,he=Ae*J-tt*Fe;if(Math.abs(he)>Number.EPSILON){const Se=Math.sqrt(X),Me=Math.sqrt(Fe*Fe+J*J),De=Te.x-tt/Se,qe=Te.y+Ae/Se,Ne=re.x-J/Me,Ke=re.y+Fe/Me,ft=((Ne-De)*J-(Ke-qe)*Fe)/(Ae*J-tt*Fe);nt=De+Ae*ft-xe.x,ke=qe+tt*ft-xe.y;const Xe=nt*nt+ke*ke;if(Xe<=2)return new it(nt,ke);Ze=Math.sqrt(Xe/2)}else{let Se=!1;Ae>Number.EPSILON?Fe>Number.EPSILON&&(Se=!0):Ae<-Number.EPSILON?Fe<-Number.EPSILON&&(Se=!0):Math.sign(tt)===Math.sign(J)&&(Se=!0),Se?(nt=-tt,ke=Ae,Ze=Math.sqrt(X)):(nt=Ae,ke=tt,Ze=Math.sqrt(X/2))}return new it(nt/Ze,ke/Ze)}const Y=[];for(let xe=0,Te=q.length,re=Te-1,nt=xe+1;xe<Te;xe++,re++,nt++)re===Te&&(re=0),nt===Te&&(nt=0),Y[xe]=W(q[xe],q[re],q[nt]);const Q=[];let z,K=Y.concat();for(let xe=0,Te=O.length;xe<Te;xe++){const re=O[xe];z=[];for(let nt=0,ke=re.length,Ze=ke-1,Ae=nt+1;nt<ke;nt++,Ze++,Ae++)Ze===ke&&(Ze=0),Ae===ke&&(Ae=0),z[nt]=W(re[nt],re[Ze],re[Ae]);Q.push(z),K=K.concat(z)}for(let xe=0;xe<_;xe++){const Te=xe/_,re=g*Math.cos(Te*Math.PI/2),nt=y*Math.sin(Te*Math.PI/2)+S;for(let ke=0,Ze=q.length;ke<Ze;ke++){const Ae=te(q[ke],Y[ke],nt);ue(Ae.x,Ae.y,-re)}for(let ke=0,Ze=O.length;ke<Ze;ke++){const Ae=O[ke];z=Q[ke];for(let tt=0,Fe=Ae.length;tt<Fe;tt++){const J=te(Ae[tt],z[tt],nt);ue(J.x,J.y,-re)}}}const ae=y+S;for(let xe=0;xe<$;xe++){const Te=p?te(E[xe],K[xe],ae):E[xe];M?(B.copy(C.normals[0]).multiplyScalar(Te.x),I.copy(C.binormals[0]).multiplyScalar(Te.y),P.copy(w[0]).add(B).add(I),ue(P.x,P.y,P.z)):ue(Te.x,Te.y,0)}for(let xe=1;xe<=f;xe++)for(let Te=0;Te<$;Te++){const re=p?te(E[Te],K[Te],ae):E[Te];M?(B.copy(C.normals[xe]).multiplyScalar(re.x),I.copy(C.binormals[xe]).multiplyScalar(re.y),P.copy(w[xe]).add(B).add(I),ue(P.x,P.y,P.z)):ue(re.x,re.y,d/f*xe)}for(let xe=_-1;xe>=0;xe--){const Te=xe/_,re=g*Math.cos(Te*Math.PI/2),nt=y*Math.sin(Te*Math.PI/2)+S;for(let ke=0,Ze=q.length;ke<Ze;ke++){const Ae=te(q[ke],Y[ke],nt);ue(Ae.x,Ae.y,d+re)}for(let ke=0,Ze=O.length;ke<Ze;ke++){const Ae=O[ke];z=Q[ke];for(let tt=0,Fe=Ae.length;tt<Fe;tt++){const J=te(Ae[tt],z[tt],nt);M?ue(J.x,J.y+w[f-1].y,w[f-1].x+re):ue(J.x,J.y,d+re)}}}Z(),se();function Z(){const xe=i.length/3;if(p){let Te=0,re=$*Te;for(let nt=0;nt<ie;nt++){const ke=H[nt];ve(ke[2]+re,ke[1]+re,ke[0]+re)}Te=f+_*2,re=$*Te;for(let nt=0;nt<ie;nt++){const ke=H[nt];ve(ke[0]+re,ke[1]+re,ke[2]+re)}}else{for(let Te=0;Te<ie;Te++){const re=H[Te];ve(re[2],re[1],re[0])}for(let Te=0;Te<ie;Te++){const re=H[Te];ve(re[0]+$*f,re[1]+$*f,re[2]+$*f)}}r.addGroup(xe,i.length/3-xe,0)}function se(){const xe=i.length/3;let Te=0;oe(q,Te),Te+=q.length;for(let re=0,nt=O.length;re<nt;re++){const ke=O[re];oe(ke,Te),Te+=ke.length}r.addGroup(xe,i.length/3-xe,1)}function oe(xe,Te){let re=xe.length;for(;--re>=0;){const nt=re;let ke=re-1;ke<0&&(ke=xe.length-1);for(let Ze=0,Ae=f+_*2;Ze<Ae;Ze++){const tt=$*Ze,Fe=$*(Ze+1),J=Te+nt+tt,X=Te+ke+tt,he=Te+ke+Fe,Se=Te+nt+Fe;Be(J,X,he,Se)}}}function ue(xe,Te,re){l.push(xe),l.push(Te),l.push(re)}function ve(xe,Te,re){Le(xe),Le(Te),Le(re);const nt=i.length/3,ke=b.generateTopUV(r,i,nt-3,nt-2,nt-1);Ve(ke[0]),Ve(ke[1]),Ve(ke[2])}function Be(xe,Te,re,nt){Le(xe),Le(Te),Le(nt),Le(Te),Le(re),Le(nt);const ke=i.length/3,Ze=b.generateSideWallUV(r,i,ke-6,ke-3,ke-2,ke-1);Ve(Ze[0]),Ve(Ze[1]),Ve(Ze[3]),Ve(Ze[1]),Ve(Ze[2]),Ve(Ze[3])}function Le(xe){i.push(l[xe*3+0]),i.push(l[xe*3+1]),i.push(l[xe*3+2])}function Ve(xe){s.push(xe.x),s.push(xe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return hae(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new hS[i.type]().fromJSON(i)),new TA(r,e.options)}}const dae={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new it(s,o),new it(a,l),new it(u,f)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],f=e[r*3+1],d=e[r*3+2],p=e[i*3],g=e[i*3+1],y=e[i*3+2],S=e[s*3],_=e[s*3+1],x=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new it(o,1-l),new it(u,1-d),new it(p,1-y),new it(S,1-x)]:[new it(a,1-l),new it(f,1-d),new it(g,1-y),new it(_,1-x)]}};function hae(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class RA extends bf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new RA(e.radius,e.detail)}}class _0 extends bf{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _0(e.radius,e.detail)}}class ac extends Mn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,f=l+1,d=e/a,p=n/l,g=[],y=[],S=[],_=[];for(let x=0;x<f;x++){const b=x*p-o;for(let w=0;w<u;w++){const M=w*d-s;y.push(M,-b,0),S.push(0,0,1),_.push(w/a),_.push(1-x/l)}}for(let x=0;x<l;x++)for(let b=0;b<a;b++){const w=b+u*x,M=b+u*(x+1),C=b+1+u*(x+1),I=b+1+u*x;g.push(w,M,I),g.push(M,C,I)}this.setIndex(g),this.setAttribute("position",new Yt(y,3)),this.setAttribute("normal",new Yt(S,3)),this.setAttribute("uv",new Yt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ac(e.width,e.height,e.widthSegments,e.heightSegments)}}class PA extends Mn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],f=[];let d=e;const p=(n-e)/i,g=new le,y=new it;for(let S=0;S<=i;S++){for(let _=0;_<=r;_++){const x=s+_/r*o;g.x=d*Math.cos(x),g.y=d*Math.sin(x),l.push(g.x,g.y,g.z),u.push(0,0,1),y.x=(g.x/n+1)/2,y.y=(g.y/n+1)/2,f.push(y.x,y.y)}d+=p}for(let S=0;S<i;S++){const _=S*(r+1);for(let x=0;x<r;x++){const b=x+_,w=b,M=b+r+1,C=b+r+2,I=b+1;a.push(w,M,I),a.push(M,C,I)}}this.setIndex(a),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class IA extends Mn{constructor(e=new eh([new it(0,.5),new it(-.5,-.5),new it(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Yt(i,3)),this.setAttribute("normal",new Yt(s,3)),this.setAttribute("uv",new Yt(o,2));function u(f){const d=i.length/3,p=f.extractPoints(n);let g=p.shape;const y=p.holes;Wl.isClockWise(g)===!1&&(g=g.reverse());for(let _=0,x=y.length;_<x;_++){const b=y[_];Wl.isClockWise(b)===!0&&(y[_]=b.reverse())}const S=Wl.triangulateShape(g,y);for(let _=0,x=y.length;_<x;_++){const b=y[_];g=g.concat(b)}for(let _=0,x=g.length;_<x;_++){const b=g[_];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let _=0,x=S.length;_<x;_++){const b=S[_],w=b[0]+d,M=b[1]+d,C=b[2]+d;r.push(w,M,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return pae(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new IA(r,e.curveSegments)}}function pae(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class S0 extends Mn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const f=[],d=new le,p=new le,g=[],y=[],S=[],_=[];for(let x=0;x<=r;x++){const b=[],w=x/r;let M=0;x===0&&o===0?M=.5/n:x===r&&l===Math.PI&&(M=-.5/n);for(let C=0;C<=n;C++){const I=C/n;d.x=-e*Math.cos(i+I*s)*Math.sin(o+w*a),d.y=e*Math.cos(o+w*a),d.z=e*Math.sin(i+I*s)*Math.sin(o+w*a),y.push(d.x,d.y,d.z),p.copy(d).normalize(),S.push(p.x,p.y,p.z),_.push(I+M,1-w),b.push(u++)}f.push(b)}for(let x=0;x<r;x++)for(let b=0;b<n;b++){const w=f[x][b+1],M=f[x][b],C=f[x+1][b],I=f[x+1][b+1];(x!==0||o>0)&&g.push(w,M,I),(x!==r-1||l<Math.PI)&&g.push(M,C,I)}this.setIndex(g),this.setAttribute("position",new Yt(y,3)),this.setAttribute("normal",new Yt(S,3)),this.setAttribute("uv",new Yt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class BA extends bf{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new BA(e.radius,e.detail)}}class DA extends Mn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],f=new le,d=new le,p=new le;for(let g=0;g<=r;g++)for(let y=0;y<=i;y++){const S=y/i*s,_=g/r*Math.PI*2;d.x=(e+n*Math.cos(_))*Math.cos(S),d.y=(e+n*Math.cos(_))*Math.sin(S),d.z=n*Math.sin(_),a.push(d.x,d.y,d.z),f.x=e*Math.cos(S),f.y=e*Math.sin(S),p.subVectors(d,f).normalize(),l.push(p.x,p.y,p.z),u.push(y/i),u.push(g/r)}for(let g=1;g<=r;g++)for(let y=1;y<=i;y++){const S=(i+1)*g+y-1,_=(i+1)*(g-1)+y-1,x=(i+1)*(g-1)+y,b=(i+1)*g+y;o.push(S,_,b),o.push(_,x,b)}this.setIndex(o),this.setAttribute("position",new Yt(a,3)),this.setAttribute("normal",new Yt(l,3)),this.setAttribute("uv",new Yt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new DA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class LA extends Mn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],f=[],d=new le,p=new le,g=new le,y=new le,S=new le,_=new le,x=new le;for(let w=0;w<=r;++w){const M=w/r*s*Math.PI*2;b(M,s,o,e,g),b(M+.01,s,o,e,y),_.subVectors(y,g),x.addVectors(y,g),S.crossVectors(_,x),x.crossVectors(S,_),S.normalize(),x.normalize();for(let C=0;C<=i;++C){const I=C/i*Math.PI*2,B=-n*Math.cos(I),P=n*Math.sin(I);d.x=g.x+(B*x.x+P*S.x),d.y=g.y+(B*x.y+P*S.y),d.z=g.z+(B*x.z+P*S.z),l.push(d.x,d.y,d.z),p.subVectors(d,g).normalize(),u.push(p.x,p.y,p.z),f.push(w/r),f.push(C/i)}}for(let w=1;w<=r;w++)for(let M=1;M<=i;M++){const C=(i+1)*(w-1)+(M-1),I=(i+1)*w+(M-1),B=(i+1)*w+M,P=(i+1)*(w-1)+M;a.push(C,I,P),a.push(I,B,P)}this.setIndex(a),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(f,2));function b(w,M,C,I,B){const P=Math.cos(w),L=Math.sin(w),E=C/M*w,O=Math.cos(E);B.x=I*(2+O)*.5*P,B.y=I*(2+O)*L*.5,B.z=I*Math.sin(E)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class FA extends Mn{constructor(e=new iP(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new le,l=new le,u=new it;let f=new le;const d=[],p=[],g=[],y=[];S(),this.setIndex(y),this.setAttribute("position",new Yt(d,3)),this.setAttribute("normal",new Yt(p,3)),this.setAttribute("uv",new Yt(g,2));function S(){for(let w=0;w<n;w++)_(w);_(s===!1?n:0),b(),x()}function _(w){f=e.getPointAt(w/n,f);const M=o.normals[w],C=o.binormals[w];for(let I=0;I<=i;I++){const B=I/i*Math.PI*2,P=Math.sin(B),L=-Math.cos(B);l.x=L*M.x+P*C.x,l.y=L*M.y+P*C.y,l.z=L*M.z+P*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,d.push(a.x,a.y,a.z)}}function x(){for(let w=1;w<=n;w++)for(let M=1;M<=i;M++){const C=(i+1)*(w-1)+(M-1),I=(i+1)*w+(M-1),B=(i+1)*w+M,P=(i+1)*(w-1)+M;y.push(C,I,P),y.push(I,B,P)}}function b(){for(let w=0;w<=n;w++)for(let M=0;M<=i;M++)u.x=w/n,u.y=M/i,g.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new FA(new hS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class jG extends Mn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new le,s=new le;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const d=l[u],p=d.start,g=d.count;for(let y=p,S=p+g;y<S;y+=3)for(let _=0;_<3;_++){const x=a.getX(y+_),b=a.getX(y+(_+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,b),CO(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,d=3*a+(u+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,d),CO(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Yt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function CO(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var TO=Object.freeze({__proto__:null,BoxGeometry:Ah,CapsuleGeometry:wA,CircleGeometry:bA,ConeGeometry:MA,CylinderGeometry:Vm,DodecahedronGeometry:EA,EdgesGeometry:zG,ExtrudeGeometry:TA,IcosahedronGeometry:RA,LatheGeometry:x0,OctahedronGeometry:_0,PlaneGeometry:ac,PolyhedronGeometry:bf,RingGeometry:PA,ShapeGeometry:IA,SphereGeometry:S0,TetrahedronGeometry:BA,TorusGeometry:DA,TorusKnotGeometry:LA,TubeGeometry:FA,WireframeGeometry:jG});class WG extends Bi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Tt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class XG extends sl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class A0 extends Bi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Tt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wf,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Uo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ma extends A0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new it(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Tt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Tt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Tt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class qG extends Bi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Tt(16777215),this.specular=new Tt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wf,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Uo,this.combine=f0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KG extends Bi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Tt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wf,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class JG extends Bi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wf,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class YG extends Bi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wf,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Uo,this.combine=f0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class OA extends Bi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=hG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class kA extends Bi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class $G extends Bi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Tt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wf,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class QG extends Ms{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function ZG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eH(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function ST(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function oP(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function mae(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),d=[],p=[];for(let g=0;g<u.times.length;++g){const y=u.times[g]*i;if(!(y<n||y>=r)){d.push(u.times[g]);for(let S=0;S<f;++S)p.push(u.values[g*f+S])}}d.length!==0&&(u.times=Wd(d,u.times.constructor),u.values=Wd(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function gae(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(u===void 0)continue;let f=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let p=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const y=a.times.length-1;let S;if(s<=a.times[0]){const x=f,b=d-f;S=a.values.slice(x,b)}else if(s>=a.times[y]){const x=y*d+f,b=x+d-f;S=a.values.slice(x,b)}else{const x=a.createInterpolant(),b=f,w=d-f;x.evaluate(s),S=x.resultBuffer.slice(b,w)}l==="quaternion"&&new Xi().fromArray(S).normalize().conjugate().toArray(S);const _=u.times.length;for(let x=0;x<_;++x){const b=x*g+p;if(l==="quaternion")Xi.multiplyQuaternionsFlat(u.values,b,S,0,u.values,b);else{const w=g-p*2;for(let M=0;M<w;++M)u.values[b+M]-=S[M]}}}return t.blendMode=N2,t}const vae={convertArray:Wd,isTypedArray:ZG,getKeyframeOrder:eH,sortedArray:ST,flattenJSON:oP,subclip:mae,makeClipAdditive:gae};class jm{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class tH extends jm{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vd,endingEnd:Vd}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case jd:s=e,a=2*n-r;break;case Cy:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case jd:o=e,l=2*r-n;break;case Cy:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,f=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,g=this._weightNext,y=(r-n)/(i-n),S=y*y,_=S*y,x=-p*_+2*p*S-p*y,b=(1+p)*_+(-1.5-2*p)*S+(-.5+p)*y+1,w=(-1-g)*_+(1.5+g)*S+.5*y,M=g*_-g*S;for(let C=0;C!==a;++C)s[C]=x*o[f+C]+b*o[u+C]+w*o[l+C]+M*o[d+C];return s}}class aP extends jm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(r-n)/(i-n),d=1-f;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*f;return s}}class nH extends jm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class fl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wd(n,this.TimeBufferType),this.values=Wd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Wd(e.times,Array),values:Wd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new nH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new aP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new tH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Cm:n=this.InterpolantFactoryMethodDiscrete;break;case Tm:n=this.InterpolantFactoryMethodLinear;break;case e1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Cm;case this.InterpolantFactoryMethodLinear:return Tm;case this.InterpolantFactoryMethodSmooth:return e1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&ZG(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===e1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,g=d+r;for(let y=0;y!==r;++y){const S=n[d+y];if(S!==n[p+y]||S!==n[g+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let g=0;g!==r;++g)n[p+g]=n[d+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}fl.prototype.TimeBufferType=Float32Array;fl.prototype.ValueBufferType=Float32Array;fl.prototype.DefaultInterpolation=Tm;class wh extends fl{constructor(e,n,r){super(e,n,r)}}wh.prototype.ValueTypeName="bool";wh.prototype.ValueBufferType=Array;wh.prototype.DefaultInterpolation=Cm;wh.prototype.InterpolantFactoryMethodLinear=void 0;wh.prototype.InterpolantFactoryMethodSmooth=void 0;class lP extends fl{}lP.prototype.ValueTypeName="color";class ph extends fl{}ph.prototype.ValueTypeName="number";class rH extends jm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let f=u+a;u!==f;u+=4)Xi.slerpFlat(s,0,o,u-a,o,u,l);return s}}class mh extends fl{InterpolantFactoryMethodLinear(e){return new rH(this.times,this.values,this.getValueSize(),e)}}mh.prototype.ValueTypeName="quaternion";mh.prototype.InterpolantFactoryMethodSmooth=void 0;class bh extends fl{constructor(e,n,r){super(e,n,r)}}bh.prototype.ValueTypeName="string";bh.prototype.ValueBufferType=Array;bh.prototype.DefaultInterpolation=Cm;bh.prototype.InterpolantFactoryMethodLinear=void 0;bh.prototype.InterpolantFactoryMethodSmooth=void 0;class gh extends fl{}gh.prototype.ValueTypeName="vector";class Im{constructor(e="",n=-1,r=[],i=pA){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Fo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(xae(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(fl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=eH(l);l=ST(l,1,f),u=ST(u,1,f),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new ph(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const d=f[1];let p=i[d];p||(i[d]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,g,y,S){if(g.length!==0){const _=[],x=[];oP(g,_,x,y),_.length!==0&&S.push(new d(p,_,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let S=0;S<p[y].morphTargets.length;S++)g[p[y].morphTargets[S]]=-1;for(const S in g){const _=[],x=[];for(let b=0;b!==p[y].morphTargets.length;++b){const w=p[y];_.push(w.time),x.push(w.morphTarget===S?1:0)}i.push(new ph(".morphTargetInfluence["+S+"]",_,x))}l=g.length*o}else{const g=".bones["+n[d].name+"]";r(gh,g+".position",p,"pos",i),r(mh,g+".quaternion",p,"rot",i),r(gh,g+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function yae(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ph;case"vector":case"vector2":case"vector3":case"vector4":return gh;case"color":return lP;case"quaternion":return mh;case"bool":case"boolean":return wh;case"string":return bh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function xae(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=yae(t.type);if(t.times===void 0){const n=[],r=[];oP(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Vu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class uP{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return u.push(f,d),this},this.removeHandler=function(f){const d=u.indexOf(f);return d!==-1&&u.splice(d,2),this},this.getHandler=function(f){for(let d=0,p=u.length;d<p;d+=2){const g=u[d],y=u[d+1];if(g.global&&(g.lastIndex=0),g.test(f))return y}return null}}}const iH=new uP;class Es{constructor(e){this.manager=e!==void 0?e:iH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Es.DEFAULT_MATERIAL_NAME="__DEFAULT";const Du={};class _ae extends Error{constructor(e,n){super(e),this.response=n}}class No extends Es{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Vu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Du[e]!==void 0){Du[e].push({onLoad:n,onProgress:r,onError:i});return}Du[e]=[],Du[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=Du[e],d=u.body.getReader(),p=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),g=p?parseInt(p):0,y=g!==0;let S=0;const _=new ReadableStream({start(x){b();function b(){d.read().then(({done:w,value:M})=>{if(w)x.close();else{S+=M.byteLength;const C=new ProgressEvent("progress",{lengthComputable:y,loaded:S,total:g});for(let I=0,B=f.length;I<B;I++){const P=f[I];P.onProgress&&P.onProgress(C)}x.enqueue(M),b()}},w=>{x.error(w)})}}});return new Response(_)}else throw new _ae(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,g=new TextDecoder(p);return u.arrayBuffer().then(y=>g.decode(y))}}}).then(u=>{Vu.add(e,u);const f=Du[e];delete Du[e];for(let d=0,p=f.length;d<p;d++){const g=f[d];g.onLoad&&g.onLoad(u)}}).catch(u=>{const f=Du[e];if(f===void 0)throw this.manager.itemError(e),u;delete Du[e];for(let d=0,p=f.length;d<p;d++){const g=f[d];g.onError&&g.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Sae extends Es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new No(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Im.parse(e[r]);n.push(i)}return n}}class Aae extends Es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new SA,l=new No(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(d){l.load(e[d],function(p){const g=s.parse(p,!0);o[d]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},u+=1,u===6&&(g.mipmapCount===1&&(a.minFilter=zr),a.image=o,a.format=g.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)f(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let y=0;y<g;y++){o[y]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+S]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=zr),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Oy extends Es{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Vu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Iy("img");function l(){f(),Vu.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){f(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class wae extends Es{constructor(e){super(e)}load(e,n,r,i){const s=new m0;s.colorSpace=ao;const o=new Oy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class bae extends Es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new jl,a=new No(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Bo,o.wrapT=u.wrapT!==void 0?u.wrapT:Bo,o.magFilter=u.magFilter!==void 0?u.magFilter:zr,o.minFilter=u.minFilter!==void 0?u.minFilter:zr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=la),u.mipmapCount===1&&(o.minFilter=zr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class sH extends Es{constructor(e){super(e)}load(e,n,r,i){const s=new Rr,o=new Oy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Mf extends zn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Tt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class oH extends Mf{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(zn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Tt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const TE=new tn,RO=new le,PO=new le;class cP{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.map=null,this.mapPass=null,this.matrix=new tn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new y0,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new Nn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;RO.setFromMatrixPosition(e.matrixWorld),n.position.copy(RO),PO.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(PO),n.updateMatrixWorld(),TE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(TE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(TE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Mae extends cP{constructor(){super(new Qr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Rm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class fP extends Mf{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(zn.DEFAULT_UP),this.updateMatrix(),this.target=new zn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Mae}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const IO=new tn,lv=new le,RE=new le;class Eae extends cP{constructor(){super(new Qr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new it(4,2),this._viewportCount=6,this._viewports=[new Nn(2,1,1,1),new Nn(0,1,1,1),new Nn(3,1,1,1),new Nn(1,1,1,1),new Nn(3,0,1,1),new Nn(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),lv.setFromMatrixPosition(e.matrixWorld),r.position.copy(lv),RE.copy(r.position),RE.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(RE),r.updateMatrixWorld(),i.makeTranslation(-lv.x,-lv.y,-lv.z),IO.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IO)}}class dP extends Mf{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Eae}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ku extends p0{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Cae extends cP{constructor(){super(new Ku(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class hP extends Mf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(zn.DEFAULT_UP),this.updateMatrix(),this.target=new zn,this.shadow=new Cae}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class aH extends Mf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class lH extends Mf{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class uH{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class cH extends Mf{constructor(e=new uH,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class UA extends Es{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new No(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Tt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Tt().setHex(o.value);break;case"v2":i.uniforms[s].value=new it().fromArray(o.value);break;case"v3":i.uniforms[s].value=new le().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Nn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new _n().fromArray(o.value);break;case"m4":i.uniforms[s].value=new tn().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new it().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new it().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return UA.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:WG,SpriteMaterial:K2,RawShaderMaterial:XG,ShaderMaterial:sl,PointsMaterial:_A,MeshPhysicalMaterial:ma,MeshStandardMaterial:A0,MeshPhongMaterial:qG,MeshToonMaterial:KG,MeshNormalMaterial:JG,MeshLambertMaterial:YG,MeshDepthMaterial:OA,MeshDistanceMaterial:kA,MeshBasicMaterial:co,MeshMatcapMaterial:$G,LineDashedMaterial:QG,LineBasicMaterial:Ms,Material:Bi};return new n[e]}}class lf{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class pP extends Mn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class fH extends Es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new No(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(g,y){if(n[y]!==void 0)return n[y];const _=g.interleavedBuffers[y],x=s(g,_.buffer),b=tm(_.type,x),w=new g0(b,_.stride);return w.uuid=_.uuid,n[y]=w,w}function s(g,y){if(r[y]!==void 0)return r[y];const _=g.arrayBuffers[y],x=new Uint32Array(_).buffer;return r[y]=x,x}const o=e.isInstancedBufferGeometry?new pP:new Mn,a=e.data.index;if(a!==void 0){const g=tm(a.type,a.array);o.setIndex(new Kn(g,1))}const l=e.data.attributes;for(const g in l){const y=l[g];let S;if(y.isInterleavedBufferAttribute){const _=i(e.data,y.data);S=new yf(_,y.itemSize,y.offset,y.normalized)}else{const _=tm(y.type,y.array),x=y.isInstancedBufferAttribute?xf:Kn;S=new x(_,y.itemSize,y.normalized)}y.name!==void 0&&(S.name=y.name),y.usage!==void 0&&S.setUsage(y.usage),o.setAttribute(g,S)}const u=e.data.morphAttributes;if(u)for(const g in u){const y=u[g],S=[];for(let _=0,x=y.length;_<x;_++){const b=y[_];let w;if(b.isInterleavedBufferAttribute){const M=i(e.data,b.data);w=new yf(M,b.itemSize,b.offset,b.normalized)}else{const M=tm(b.type,b.array);w=new Kn(M,b.itemSize,b.normalized)}b.name!==void 0&&(w.name=b.name),S.push(w)}o.morphAttributes[g]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let g=0,y=d.length;g!==y;++g){const S=d[g];o.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new le;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new Ki(g,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Tae extends Es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?lf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new No(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?lf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new No(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),this.bindLightTargets(u),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new eh().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new v0().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new fH;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in TO?a=TO[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new UA;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Im.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:tm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new uP(n);s=new Oy(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const g=[];for(let y=0,S=p.length;y<S;y++){const _=p[y],x=a(_);x!==null&&(x instanceof HTMLImageElement?g.push(x):g.push(new jl(x.data,x.width,x.height)))}i[d.uuid]=new tf(g)}else{const g=a(d.url);i[d.uuid]=new tf(g)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:tm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Oy(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let d=0,p=u.length;d<p;d++){const g=u[d],y=await s(g);y!==null&&(y instanceof HTMLImageElement?f.push(y):f.push(new jl(y.data,y.width,y.height)))}r[l.uuid]=new tf(f)}else{const f=await s(l.url);r[l.uuid]=new tf(f)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let f;Array.isArray(u)?(f=new m0,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new jl:f=new Rr,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,Rae)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],BO),f.wrapT=r(a.wrap[1],BO)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,DO)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,DO)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let y=0,S=p.length;y<S;y++){const _=p[y];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),g.push(r[_])}return g}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,d;switch(e.type){case"Scene":o=new q2,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Tt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new yA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new vA(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Qr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ku(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new aH(e.color,e.intensity);break;case"DirectionalLight":o=new hP(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new dP(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new lH(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new fP(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new oH(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new cH().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),d=l(e.material),o=new J2(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),d=l(e.material),o=new Lr(f,d);break;case"InstancedMesh":f=a(e.geometry),d=l(e.material);const p=e.count,g=e.instanceMatrix,y=e.instanceColor;o=new Y2(f,d,p),o.instanceMatrix=new xf(new Float32Array(g.array),16),y!==void 0&&(o.instanceColor=new xf(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":f=a(e.geometry),d=l(e.material),o=new DG(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const _=new qi;_.min.fromArray(S.boxMin),_.max.fromArray(S.boxMax);const x=new Ki;return x.radius=S.sphereRadius,x.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:_,sphereInitialized:S.sphereInitialized,sphere:x}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":o=new BG;break;case"Line":o=new rc(a(e.geometry),l(e.material));break;case"LineLoop":o=new $2(a(e.geometry),l(e.material));break;case"LineSegments":o=new ul(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Q2(a(e.geometry),l(e.material));break;case"Sprite":o=new IG(l(e.material));break;case"Group":o=new Hu;break;case"Bone":o=new xA;break;default:o=new zn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)o.add(this.parseObject(p[g],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const y=p[g];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const y=p[g],S=o.getObjectByProperty("uuid",y.object);S!==void 0&&o.addLevel(S,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new zn}})}}const Rae={UVMapping:oA,CubeReflectionMapping:tc,CubeRefractionMapping:gf,EquirectangularReflectionMapping:My,EquirectangularRefractionMapping:Ey,CubeUVReflectionMapping:Gm},BO={RepeatWrapping:vf,ClampToEdgeWrapping:Bo,MirroredRepeatWrapping:Mm},DO={NearestFilter:Wi,NearestMipmapNearestFilter:aA,NearestMipmapLinearFilter:Hd,LinearFilter:zr,LinearMipmapNearestFilter:lm,LinearMipmapLinearFilter:la};class dH extends Es{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Vu.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Vu.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Vu.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Vu.add(e,l),s.manager.itemStart(e)}}let w_;class mP{static getContext(){return w_===void 0&&(w_=new(window.AudioContext||window.webkitAudioContext)),w_}static setContext(e){w_=e}}class Pae extends Es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new No(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);mP.getContext().decodeAudioData(u,function(d){n(d)}).catch(a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const LO=new tn,FO=new tn,md=new tn;class Iae{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,md.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Qd*n.fov*.5)/n.zoom;let a,l;FO.elements[12]=-i,LO.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,md.elements[0]=2*n.near/(l-a),md.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(md),a=-o*n.aspect-s,l=o*n.aspect-s,md.elements[0]=2*n.near/(l-a),md.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(md)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(FO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(LO)}}class hH extends Qr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class gP{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=OO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=OO();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function OO(){return performance.now()}const gd=new le,kO=new Xi,Bae=new le,vd=new le;class Dae extends zn{constructor(){super(),this.type="AudioListener",this.context=mP.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new gP}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(gd,kO,Bae),vd.set(0,0,-1).applyQuaternion(kO),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(gd.x,i),n.positionY.linearRampToValueAtTime(gd.y,i),n.positionZ.linearRampToValueAtTime(gd.z,i),n.forwardX.linearRampToValueAtTime(vd.x,i),n.forwardY.linearRampToValueAtTime(vd.y,i),n.forwardZ.linearRampToValueAtTime(vd.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(gd.x,gd.y,gd.z),n.setOrientation(vd.x,vd.y,vd.z,r.x,r.y,r.z)}}class pH extends zn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const yd=new le,UO=new Xi,Lae=new le,xd=new le;class Fae extends pH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(yd,UO,Lae),xd.set(0,0,1).applyQuaternion(UO);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(yd.x,r),n.positionY.linearRampToValueAtTime(yd.y,r),n.positionZ.linearRampToValueAtTime(yd.z,r),n.orientationX.linearRampToValueAtTime(xd.x,r),n.orientationY.linearRampToValueAtTime(xd.y,r),n.orientationZ.linearRampToValueAtTime(xd.z,r)}else n.setPosition(yd.x,yd.y,yd.z),n.setOrientation(xd.x,xd.y,xd.z)}}class Oae{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class mH{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Xi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Xi.multiplyQuaternionsFlat(e,o,e,n,e,r),Xi.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const vP="\\[\\]\\.:\\/",kae=new RegExp("["+vP+"]","g"),yP="[^"+vP+"]",Uae="[^"+vP.replace("\\.","")+"]",Nae=/((?:WC+[\/:])*)/.source.replace("WC",yP),zae=/(WCOD+)?/.source.replace("WCOD",Uae),Gae=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",yP),Hae=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",yP),Vae=new RegExp("^"+Nae+zae+Gae+Hae+"$"),jae=["material","materials","bones","map"];class Wae{constructor(e,n,r){const i=r||jn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class jn{constructor(e,n,r){this.path=n,this.parsedPath=r||jn.parseTrackName(n),this.node=jn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new jn.Composite(e,n,r):new jn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(kae,"")}static parseTrackName(e){const n=Vae.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);jae.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=jn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}jn.Composite=Wae;jn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};jn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};jn.prototype.GetterByBindingType=[jn.prototype._getValue_direct,jn.prototype._getValue_array,jn.prototype._getValue_arrayElement,jn.prototype._getValue_toArray];jn.prototype.SetterByBindingTypeAndVersioning=[[jn.prototype._setValue_direct,jn.prototype._setValue_direct_setNeedsUpdate,jn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[jn.prototype._setValue_array,jn.prototype._setValue_array_setNeedsUpdate,jn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[jn.prototype._setValue_arrayElement,jn.prototype._setValue_arrayElement_setNeedsUpdate,jn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[jn.prototype._setValue_fromArray,jn.prototype._setValue_fromArray_setNeedsUpdate,jn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Xae{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Fo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],g=p.uuid;let y=n[g];if(y===void 0){y=l++,n[g]=y,e.push(p);for(let S=0,_=o;S!==_;++S)s[S].push(new jn(p,r[S],i[S]))}else if(y<u){a=e[y];const S=--u,_=e[S];n[_.uuid]=y,e[y]=_,n[g]=S,e[S]=p;for(let x=0,b=o;x!==b;++x){const w=s[x],M=w[S];let C=w[y];w[y]=M,C===void 0&&(C=new jn(p,r[x],i[x])),w[S]=C}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=n[u];if(f!==void 0&&f>=s){const d=s++,p=e[d];n[p.uuid]=f,e[f]=p,n[u]=d,e[d]=l;for(let g=0,y=i;g!==y;++g){const S=r[g],_=S[d],x=S[f];S[f]=_,S[d]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,d=n[f];if(d!==void 0)if(delete n[f],d<s){const p=--s,g=e[p],y=--o,S=e[y];n[g.uuid]=d,e[d]=g,n[S.uuid]=p,e[p]=S,e.pop();for(let _=0,x=i;_!==x;++_){const b=r[_],w=b[p],M=b[y];b[d]=w,b[p]=M,b.pop()}}else{const p=--o,g=e[p];p>0&&(n[g.uuid]=d),e[d]=g,e.pop();for(let y=0,S=i;y!==S;++y){const _=r[y];_[d]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let p=f,g=l.length;p!==g;++p){const y=l[p];d[p]=new jn(y,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class gH{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Vd,endingEnd:Vd};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case N2:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case pA:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===fG;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===uG){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=jd,i.endingEnd=jd):(e?i.endingStart=this.zeroSlopeAtStart?jd:Vd:i.endingStart=Cy,n?i.endingEnd=this.zeroSlopeAtEnd?jd:Vd:i.endingEnd=Cy)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const qae=new Float32Array(1);class Kae extends Yl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let d=0;d!==s;++d){const p=i[d],g=p.name;let y=f[g];if(y!==void 0)++y.referenceCount,o[d]=y;else{if(y=o[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,g));continue}const S=n&&n._propertyBindings[d].binding.parsedPath;y=new mH(jn.create(r,g,S),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,g),o[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new aP(new Float32Array(2),new Float32Array(2),1,qae),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Im.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=pA),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new gH(this,o,n,r);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Im.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=f,n[f]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Jae extends mA{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new gA(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Yae extends mA{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTargetArray=!0,this.depth=r,this.texture=new h0(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class xP{constructor(e){this.value=e}clone(){return new xP(this.value.clone===void 0?this.value:this.value.clone())}}let $ae=0;class Qae extends Yl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:$ae++}),this.name="",this.usage=Ry,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Zae extends g0{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class ele{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const NO=new tn;class vH{constructor(e,n,r=0,i=1/0){this.ray=new Sh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Zd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return NO.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(NO),this}intersectObject(e,n=!0,r=[]){return AT(e,this,r,n),r.sort(zO),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)AT(e[i],this,r,n);return r.sort(zO),r}}function zO(t,e){return t.distance-e.distance}function AT(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)AT(s[o],e,n,!0)}}class wT{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Sn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Sn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class tle{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class _P{constructor(e,n,r,i){_P.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const GO=new it;class nle{constructor(e=new it(1/0,1/0),n=new it(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=GO.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,GO).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const HO=new le,b_=new le;class rle{constructor(e=new le,n=new le){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){HO.subVectors(e,this.start),b_.subVectors(this.end,this.start);const r=b_.dot(b_);let s=b_.dot(HO)/r;return n&&(s=Sn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const VO=new le;class ile extends zn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Mn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Yt(i,3));const s=new Ms({fog:!1,toneMapped:!1});this.cone=new ul(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),VO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(VO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wc=new le,M_=new tn,PE=new tn;class sle extends ul{constructor(e){const n=yH(e),r=new Mn,i=[],s=[],o=new Tt(0,0,1),a=new Tt(0,1,0);for(let u=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Yt(i,3)),r.setAttribute("color",new Yt(s,3));const l=new Ms({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");PE.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(M_.multiplyMatrices(PE,a.matrixWorld),Wc.setFromMatrixPosition(M_),i.setXYZ(o,Wc.x,Wc.y,Wc.z),M_.multiplyMatrices(PE,a.parent.matrixWorld),Wc.setFromMatrixPosition(M_),i.setXYZ(o+1,Wc.x,Wc.y,Wc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function yH(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...yH(t.children[n]));return e}class ole extends Lr{constructor(e,n,r){const i=new S0(n,4,2),s=new co({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ale=new le,jO=new Tt,WO=new Tt;class lle extends zn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new _0(n);i.rotateY(Math.PI*.5),this.material=new co({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Kn(o,3)),this.add(new Lr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");jO.copy(this.light.color),WO.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?jO:WO;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ale.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ule extends ul{constructor(e=10,n=10,r=4473924,i=8947848){r=new Tt(r),i=new Tt(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let p=0,g=0,y=-a;p<=n;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const S=p===s?r:i;S.toArray(u,g),g+=3,S.toArray(u,g),g+=3,S.toArray(u,g),g+=3,S.toArray(u,g),g+=3}const f=new Mn;f.setAttribute("position",new Yt(l,3)),f.setAttribute("color",new Yt(u,3));const d=new Ms({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class cle extends ul{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Tt(s),o=new Tt(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),g=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,y);const S=d&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let d=0;d<r;d++){const p=d&1?s:o,g=e-e/r*d;for(let y=0;y<i;y++){let S=y/i*(Math.PI*2),_=Math.sin(S)*g,x=Math.cos(S)*g;a.push(_,0,x),l.push(p.r,p.g,p.b),S=(y+1)/i*(Math.PI*2),_=Math.sin(S)*g,x=Math.cos(S)*g,a.push(_,0,x),l.push(p.r,p.g,p.b)}}const u=new Mn;u.setAttribute("position",new Yt(a,3)),u.setAttribute("color",new Yt(l,3));const f=new Ms({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const XO=new le,E_=new le,qO=new le;class fle extends zn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Mn;i.setAttribute("position",new Yt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ms({fog:!1,toneMapped:!1});this.lightPlane=new rc(i,s),this.add(this.lightPlane),i=new Mn,i.setAttribute("position",new Yt([0,0,0,0,0,1],3)),this.targetLine=new rc(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),XO.setFromMatrixPosition(this.light.matrixWorld),E_.setFromMatrixPosition(this.light.target.matrixWorld),qO.subVectors(E_,XO),this.lightPlane.lookAt(E_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(E_),this.targetLine.scale.z=qO.length()}}const C_=new le,qr=new p0;class dle extends ul{constructor(e){const n=new Mn,r=new Ms({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,S){l(y),l(S)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}n.setAttribute("position",new Yt(i,3)),n.setAttribute("color",new Yt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Tt(16755200),f=new Tt(16711680),d=new Tt(43775),p=new Tt(16777215),g=new Tt(3355443);this.setColors(u,f,d,p,g)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;qr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===$a?-1:0;ii("c",n,e,qr,0,0,s),ii("t",n,e,qr,0,0,1),ii("n1",n,e,qr,-1,-1,s),ii("n2",n,e,qr,r,-1,s),ii("n3",n,e,qr,-1,i,s),ii("n4",n,e,qr,r,i,s),ii("f1",n,e,qr,-1,-1,1),ii("f2",n,e,qr,r,-1,1),ii("f3",n,e,qr,-1,i,1),ii("f4",n,e,qr,r,i,1),ii("u1",n,e,qr,r*.7,i*1.1,s),ii("u2",n,e,qr,-1*.7,i*1.1,s),ii("u3",n,e,qr,0,i*2,s),ii("cf1",n,e,qr,-1,0,1),ii("cf2",n,e,qr,r,0,1),ii("cf3",n,e,qr,0,-1,1),ii("cf4",n,e,qr,0,i,1),ii("cn1",n,e,qr,-1,0,s),ii("cn2",n,e,qr,r,0,s),ii("cn3",n,e,qr,0,-1,s),ii("cn4",n,e,qr,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ii(t,e,n,r,i,s,o){C_.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],C_.x,C_.y,C_.z)}}const T_=new qi;class hle extends ul{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Mn;s.setIndex(new Kn(r,1)),s.setAttribute("position",new Kn(i,3)),super(s,new Ms({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&T_.setFromObject(this.object),T_.isEmpty())return;const e=T_.min,n=T_.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ple extends ul{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Mn;s.setIndex(new Kn(r,1)),s.setAttribute("position",new Yt(i,3)),super(s,new Ms({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class mle extends rc{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Mn;o.setAttribute("position",new Yt(s,3)),o.computeBoundingSphere(),super(o,new Ms({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Mn;l.setAttribute("position",new Yt(a,3)),l.computeBoundingSphere(),this.add(new Lr(l,new co({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const KO=new le;let R_,IE;class gle extends zn{constructor(e=new le(0,0,1),n=new le(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",R_===void 0&&(R_=new Mn,R_.setAttribute("position",new Yt([0,0,0,0,1,0],3)),IE=new Vm(0,.5,1,5,1),IE.translate(0,-.5,0)),this.position.copy(n),this.line=new rc(R_,new Ms({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Lr(IE,new co({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{KO.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(KO,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class vle extends ul{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Mn;i.setAttribute("position",new Yt(n,3)),i.setAttribute("color",new Yt(r,3));const s=new Ms({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Tt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class yle{constructor(){this.type="ShapePath",this.color=new Tt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new By,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(x){const b=[];for(let w=0,M=x.length;w<M;w++){const C=x[w],I=new eh;I.curves=C.curves,b.push(I)}return b}function r(x,b){const w=b.length;let M=!1;for(let C=w-1,I=0;I<w;C=I++){let B=b[C],P=b[I],L=P.x-B.x,E=P.y-B.y;if(Math.abs(E)>Number.EPSILON){if(E<0&&(B=b[I],L=-L,P=b[C],E=-E),x.y<B.y||x.y>P.y)continue;if(x.y===B.y){if(x.x===B.x)return!0}else{const O=E*(x.x-B.x)-L*(x.y-B.y);if(O===0)return!0;if(O<0)continue;M=!M}}else{if(x.y!==B.y)continue;if(P.x<=x.x&&x.x<=B.x||B.x<=x.x&&x.x<=P.x)return!0}}return M}const i=Wl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new eh,l.curves=a.curves,u.push(l),u;let f=!i(s[0].getPoints());f=e?!f:f;const d=[],p=[];let g=[],y=0,S;p[y]=void 0,g[y]=[];for(let x=0,b=s.length;x<b;x++)a=s[x],S=a.getPoints(),o=i(S),o=e?!o:o,o?(!f&&p[y]&&y++,p[y]={s:new eh,p:S},p[y].s.curves=a.curves,f&&y++,g[y]=[]):g[y].push({h:a,p:S[0]});if(!p[0])return n(s);if(p.length>1){let x=!1,b=0;for(let w=0,M=p.length;w<M;w++)d[w]=[];for(let w=0,M=p.length;w<M;w++){const C=g[w];for(let I=0;I<C.length;I++){const B=C[I];let P=!0;for(let L=0;L<p.length;L++)r(B.p,p[L].p)&&(w!==L&&b++,P?(P=!1,d[L].push(B)):x=!0);P&&d[w].push(B)}}b>0&&x===!1&&(g=d)}let _;for(let x=0,b=p.length;x<b;x++){l=p[x].s,u.push(l),_=g[x];for(let w=0,M=_.length;w<M;w++)l.holes.push(_[w].h)}return u}}class xle extends Yl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function _le(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Sle(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Ale(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function bT(t,e,n,r){const i=wle(r);switch(n){case D2:return t*e;case F2:return t*e;case O2:return t*e*2;case fA:return t*e/i.components*i.byteLength;case d0:return t*e/i.components*i.byteLength;case k2:return t*e*2/i.components*i.byteLength;case dA:return t*e*2/i.components*i.byteLength;case L2:return t*e*3/i.components*i.byteLength;case ws:return t*e*4/i.components*i.byteLength;case hA:return t*e*4/i.components*i.byteLength;case Hv:case Vv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case jv:case Wv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case N1:case G1:return Math.max(t,16)*Math.max(e,8)/4;case U1:case z1:return Math.max(t,8)*Math.max(e,8)/2;case H1:case V1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case j1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case W1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case X1:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case q1:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case K1:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case J1:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Y1:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case $1:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Q1:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Z1:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case eS:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case tS:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case nS:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case rS:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case iS:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Xv:case sS:case oS:return Math.ceil(t/4)*Math.ceil(e/4)*16;case U2:case aS:return Math.ceil(t/4)*Math.ceil(e/4)*8;case lS:case uS:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function wle(t){switch(t){case il:case P2:return{byteLength:1,components:1};case Em:case I2:case Hm:return{byteLength:2,components:1};case uA:case cA:return{byteLength:2,components:4};case nc:case lA:case uo:return{byteLength:4,components:1};case B2:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class ble{static contain(e,n){return _le(e,n)}static cover(e,n){return Sle(e,n)}static fill(e){return Ale(e)}static getByteLength(e,n,r,i){return bT(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:c0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=c0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function xH(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Mle(t){const e=new WeakMap;function n(a,l){const u=a.array,f=a.usage,d=u.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,u,f),a.onUploadCallback();let g;if(u instanceof Float32Array)g=t.FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?g=t.HALF_FLOAT:g=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)g=t.SHORT;else if(u instanceof Uint32Array)g=t.UNSIGNED_INT;else if(u instanceof Int32Array)g=t.INT;else if(u instanceof Int8Array)g=t.BYTE;else if(u instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:g,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,u){const f=l.array,d=l.updateRanges;if(t.bindBuffer(u,a),d.length===0)t.bufferSubData(u,0,f);else{d.sort((g,y)=>g.start-y.start);let p=0;for(let g=1;g<d.length;g++){const y=d[p],S=d[g];S.start<=y.start+y.count+1?y.count=Math.max(y.count,S.start+S.count-y.start):(++p,d[p]=S)}d.length=p+1;for(let g=0,y=d.length;g<y;g++){const S=d[g];t.bufferSubData(u,S.start*f.BYTES_PER_ELEMENT,f,S.start,S.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const u=e.get(a);if(u===void 0)e.set(a,n(a,l));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,a,l),u.version=a.version}}return{get:i,remove:s,update:o}}var Ele=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Cle=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Tle=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Rle=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ple=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Ile=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ble=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Dle=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Lle=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Fle=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Ole=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,kle=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ule=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Nle=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,zle=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Gle=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Hle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Vle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,jle=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Wle=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Xle=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,qle=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Kle=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Jle=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Yle=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,$le=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Qle=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Zle=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,eue=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,tue=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,nue="gl_FragColor = linearToOutputTexel( gl_FragColor );",rue=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,iue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,sue=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,oue=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,aue=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,lue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,uue=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,cue=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fue=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,due=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,hue=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,pue=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,mue=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,gue=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,vue=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,yue=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,xue=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,_ue=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Sue=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Aue=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,wue=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,bue=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Mue=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Eue=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Cue=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Tue=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Rue=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Pue=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Iue=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Bue=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Due=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Lue=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Fue=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Oue=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,kue=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Uue=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Nue=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,zue=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Gue=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Hue=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Vue=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,jue=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Wue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Xue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,que=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Kue=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Jue=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Yue=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,$ue=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Que=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Zue=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ece=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,tce=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,nce=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,rce=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ice=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,sce=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,oce=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,ace=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,lce=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,uce=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,cce=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,fce=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,dce=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,hce=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,pce=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,mce=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,gce=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,vce=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,yce=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,xce=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,_ce=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Sce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ace=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,wce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,bce=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Mce=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Ece=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Cce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Tce=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Rce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Pce=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ice=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Bce=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Dce=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Lce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Fce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Oce=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kce=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Uce=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Nce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,zce=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gce=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hce=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vce=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,jce=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wce=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Xce=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,qce=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Kce=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jce=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Yce=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$ce=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qce=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zce=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,efe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,tfe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nfe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,rfe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ife=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Cn={alphahash_fragment:Ele,alphahash_pars_fragment:Cle,alphamap_fragment:Tle,alphamap_pars_fragment:Rle,alphatest_fragment:Ple,alphatest_pars_fragment:Ile,aomap_fragment:Ble,aomap_pars_fragment:Dle,batching_pars_vertex:Lle,batching_vertex:Fle,begin_vertex:Ole,beginnormal_vertex:kle,bsdfs:Ule,iridescence_fragment:Nle,bumpmap_pars_fragment:zle,clipping_planes_fragment:Gle,clipping_planes_pars_fragment:Hle,clipping_planes_pars_vertex:Vle,clipping_planes_vertex:jle,color_fragment:Wle,color_pars_fragment:Xle,color_pars_vertex:qle,color_vertex:Kle,common:Jle,cube_uv_reflection_fragment:Yle,defaultnormal_vertex:$le,displacementmap_pars_vertex:Qle,displacementmap_vertex:Zle,emissivemap_fragment:eue,emissivemap_pars_fragment:tue,colorspace_fragment:nue,colorspace_pars_fragment:rue,envmap_fragment:iue,envmap_common_pars_fragment:sue,envmap_pars_fragment:oue,envmap_pars_vertex:aue,envmap_physical_pars_fragment:yue,envmap_vertex:lue,fog_vertex:uue,fog_pars_vertex:cue,fog_fragment:fue,fog_pars_fragment:due,gradientmap_pars_fragment:hue,lightmap_pars_fragment:pue,lights_lambert_fragment:mue,lights_lambert_pars_fragment:gue,lights_pars_begin:vue,lights_toon_fragment:xue,lights_toon_pars_fragment:_ue,lights_phong_fragment:Sue,lights_phong_pars_fragment:Aue,lights_physical_fragment:wue,lights_physical_pars_fragment:bue,lights_fragment_begin:Mue,lights_fragment_maps:Eue,lights_fragment_end:Cue,logdepthbuf_fragment:Tue,logdepthbuf_pars_fragment:Rue,logdepthbuf_pars_vertex:Pue,logdepthbuf_vertex:Iue,map_fragment:Bue,map_pars_fragment:Due,map_particle_fragment:Lue,map_particle_pars_fragment:Fue,metalnessmap_fragment:Oue,metalnessmap_pars_fragment:kue,morphinstance_vertex:Uue,morphcolor_vertex:Nue,morphnormal_vertex:zue,morphtarget_pars_vertex:Gue,morphtarget_vertex:Hue,normal_fragment_begin:Vue,normal_fragment_maps:jue,normal_pars_fragment:Wue,normal_pars_vertex:Xue,normal_vertex:que,normalmap_pars_fragment:Kue,clearcoat_normal_fragment_begin:Jue,clearcoat_normal_fragment_maps:Yue,clearcoat_pars_fragment:$ue,iridescence_pars_fragment:Que,opaque_fragment:Zue,packing:ece,premultiplied_alpha_fragment:tce,project_vertex:nce,dithering_fragment:rce,dithering_pars_fragment:ice,roughnessmap_fragment:sce,roughnessmap_pars_fragment:oce,shadowmap_pars_fragment:ace,shadowmap_pars_vertex:lce,shadowmap_vertex:uce,shadowmask_pars_fragment:cce,skinbase_vertex:fce,skinning_pars_vertex:dce,skinning_vertex:hce,skinnormal_vertex:pce,specularmap_fragment:mce,specularmap_pars_fragment:gce,tonemapping_fragment:vce,tonemapping_pars_fragment:yce,transmission_fragment:xce,transmission_pars_fragment:_ce,uv_pars_fragment:Sce,uv_pars_vertex:Ace,uv_vertex:wce,worldpos_vertex:bce,background_vert:Mce,background_frag:Ece,backgroundCube_vert:Cce,backgroundCube_frag:Tce,cube_vert:Rce,cube_frag:Pce,depth_vert:Ice,depth_frag:Bce,distanceRGBA_vert:Dce,distanceRGBA_frag:Lce,equirect_vert:Fce,equirect_frag:Oce,linedashed_vert:kce,linedashed_frag:Uce,meshbasic_vert:Nce,meshbasic_frag:zce,meshlambert_vert:Gce,meshlambert_frag:Hce,meshmatcap_vert:Vce,meshmatcap_frag:jce,meshnormal_vert:Wce,meshnormal_frag:Xce,meshphong_vert:qce,meshphong_frag:Kce,meshphysical_vert:Jce,meshphysical_frag:Yce,meshtoon_vert:$ce,meshtoon_frag:Qce,points_vert:Zce,points_frag:efe,shadow_vert:tfe,shadow_frag:nfe,sprite_vert:rfe,sprite_frag:ife},Bt={common:{diffuse:{value:new Tt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _n}},envmap:{envMap:{value:null},envMapRotation:{value:new _n},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _n}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _n}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _n},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _n},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _n},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _n}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _n}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _n}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Tt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Tt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0},uvTransform:{value:new _n}},sprite:{diffuse:{value:new Tt(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}}},Ka={basic:{uniforms:zs([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.fog]),vertexShader:Cn.meshbasic_vert,fragmentShader:Cn.meshbasic_frag},lambert:{uniforms:zs([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new Tt(0)}}]),vertexShader:Cn.meshlambert_vert,fragmentShader:Cn.meshlambert_frag},phong:{uniforms:zs([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new Tt(0)},specular:{value:new Tt(1118481)},shininess:{value:30}}]),vertexShader:Cn.meshphong_vert,fragmentShader:Cn.meshphong_frag},standard:{uniforms:zs([Bt.common,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.roughnessmap,Bt.metalnessmap,Bt.fog,Bt.lights,{emissive:{value:new Tt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag},toon:{uniforms:zs([Bt.common,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.gradientmap,Bt.fog,Bt.lights,{emissive:{value:new Tt(0)}}]),vertexShader:Cn.meshtoon_vert,fragmentShader:Cn.meshtoon_frag},matcap:{uniforms:zs([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,{matcap:{value:null}}]),vertexShader:Cn.meshmatcap_vert,fragmentShader:Cn.meshmatcap_frag},points:{uniforms:zs([Bt.points,Bt.fog]),vertexShader:Cn.points_vert,fragmentShader:Cn.points_frag},dashed:{uniforms:zs([Bt.common,Bt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cn.linedashed_vert,fragmentShader:Cn.linedashed_frag},depth:{uniforms:zs([Bt.common,Bt.displacementmap]),vertexShader:Cn.depth_vert,fragmentShader:Cn.depth_frag},normal:{uniforms:zs([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,{opacity:{value:1}}]),vertexShader:Cn.meshnormal_vert,fragmentShader:Cn.meshnormal_frag},sprite:{uniforms:zs([Bt.sprite,Bt.fog]),vertexShader:Cn.sprite_vert,fragmentShader:Cn.sprite_frag},background:{uniforms:{uvTransform:{value:new _n},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Cn.background_vert,fragmentShader:Cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new _n}},vertexShader:Cn.backgroundCube_vert,fragmentShader:Cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Cn.cube_vert,fragmentShader:Cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Cn.equirect_vert,fragmentShader:Cn.equirect_frag},distanceRGBA:{uniforms:zs([Bt.common,Bt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Cn.distanceRGBA_vert,fragmentShader:Cn.distanceRGBA_frag},shadow:{uniforms:zs([Bt.lights,Bt.fog,{color:{value:new Tt(0)},opacity:{value:1}}]),vertexShader:Cn.shadow_vert,fragmentShader:Cn.shadow_frag}};Ka.physical={uniforms:zs([Ka.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _n},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _n},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _n},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _n},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _n},sheen:{value:0},sheenColor:{value:new Tt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _n},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _n},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _n},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _n},attenuationDistance:{value:0},attenuationColor:{value:new Tt(0)},specularColor:{value:new Tt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _n},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _n},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _n}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag};const P_={r:0,b:0,g:0},_d=new Uo,sfe=new tn;function ofe(t,e,n,r,i,s,o){const a=new Tt(0);let l=s===!0?0:1,u,f,d=null,p=0,g=null;function y(w){let M=w.isScene===!0?w.background:null;return M&&M.isTexture&&(M=(w.backgroundBlurriness>0?n:e).get(M)),M}function S(w){let M=!1;const C=y(w);C===null?x(a,l):C&&C.isColor&&(x(C,1),M=!0);const I=t.xr.getEnvironmentBlendMode();I==="additive"?r.buffers.color.setClear(0,0,0,1,o):I==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function _(w,M){const C=y(M);C&&(C.isCubeTexture||C.mapping===Gm)?(f===void 0&&(f=new Lr(new Ah(1,1,1),new sl({name:"BackgroundCubeMaterial",uniforms:Pm(Ka.backgroundCube.uniforms),vertexShader:Ka.backgroundCube.vertexShader,fragmentShader:Ka.backgroundCube.fragmentShader,side:Ws,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(I,B,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),_d.copy(M.backgroundRotation),_d.x*=-1,_d.y*=-1,_d.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(_d.y*=-1,_d.z*=-1),f.material.uniforms.envMap.value=C,f.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(sfe.makeRotationFromEuler(_d)),f.material.toneMapped=Wn.getTransfer(C.colorSpace)!==sr,(d!==C||p!==C.version||g!==t.toneMapping)&&(f.material.needsUpdate=!0,d=C,p=C.version,g=t.toneMapping),f.layers.enableAll(),w.unshift(f,f.geometry,f.material,0,0,null)):C&&C.isTexture&&(u===void 0&&(u=new Lr(new ac(2,2),new sl({name:"BackgroundMaterial",uniforms:Pm(Ka.background.uniforms),vertexShader:Ka.background.vertexShader,fragmentShader:Ka.background.fragmentShader,side:Kl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=C,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.toneMapped=Wn.getTransfer(C.colorSpace)!==sr,C.matrixAutoUpdate===!0&&C.updateMatrix(),u.material.uniforms.uvTransform.value.copy(C.matrix),(d!==C||p!==C.version||g!==t.toneMapping)&&(u.material.needsUpdate=!0,d=C,p=C.version,g=t.toneMapping),u.layers.enableAll(),w.unshift(u,u.geometry,u.material,0,0,null))}function x(w,M){w.getRGB(P_,CG(t)),r.buffers.color.setClear(P_.r,P_.g,P_.b,M,o)}function b(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return a},setClearColor:function(w,M=1){a.set(w),l=M,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,x(a,l)},render:S,addToRenderList:_,dispose:b}}function afe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,o=!1;function a(E,O,U,H,q){let te=!1;const $=d(H,U,O);s!==$&&(s=$,u(s.object)),te=g(E,H,U,q),te&&y(E,H,U,q),q!==null&&e.update(q,t.ELEMENT_ARRAY_BUFFER),(te||o)&&(o=!1,M(E,O,U,H),q!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(q).buffer))}function l(){return t.createVertexArray()}function u(E){return t.bindVertexArray(E)}function f(E){return t.deleteVertexArray(E)}function d(E,O,U){const H=U.wireframe===!0;let q=r[E.id];q===void 0&&(q={},r[E.id]=q);let te=q[O.id];te===void 0&&(te={},q[O.id]=te);let $=te[H];return $===void 0&&($=p(l()),te[H]=$),$}function p(E){const O=[],U=[],H=[];for(let q=0;q<n;q++)O[q]=0,U[q]=0,H[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:U,attributeDivisors:H,object:E,attributes:{},index:null}}function g(E,O,U,H){const q=s.attributes,te=O.attributes;let $=0;const ie=U.getAttributes();for(const W in ie)if(ie[W].location>=0){const Q=q[W];let z=te[W];if(z===void 0&&(W==="instanceMatrix"&&E.instanceMatrix&&(z=E.instanceMatrix),W==="instanceColor"&&E.instanceColor&&(z=E.instanceColor)),Q===void 0||Q.attribute!==z||z&&Q.data!==z.data)return!0;$++}return s.attributesNum!==$||s.index!==H}function y(E,O,U,H){const q={},te=O.attributes;let $=0;const ie=U.getAttributes();for(const W in ie)if(ie[W].location>=0){let Q=te[W];Q===void 0&&(W==="instanceMatrix"&&E.instanceMatrix&&(Q=E.instanceMatrix),W==="instanceColor"&&E.instanceColor&&(Q=E.instanceColor));const z={};z.attribute=Q,Q&&Q.data&&(z.data=Q.data),q[W]=z,$++}s.attributes=q,s.attributesNum=$,s.index=H}function S(){const E=s.newAttributes;for(let O=0,U=E.length;O<U;O++)E[O]=0}function _(E){x(E,0)}function x(E,O){const U=s.newAttributes,H=s.enabledAttributes,q=s.attributeDivisors;U[E]=1,H[E]===0&&(t.enableVertexAttribArray(E),H[E]=1),q[E]!==O&&(t.vertexAttribDivisor(E,O),q[E]=O)}function b(){const E=s.newAttributes,O=s.enabledAttributes;for(let U=0,H=O.length;U<H;U++)O[U]!==E[U]&&(t.disableVertexAttribArray(U),O[U]=0)}function w(E,O,U,H,q,te,$){$===!0?t.vertexAttribIPointer(E,O,U,q,te):t.vertexAttribPointer(E,O,U,H,q,te)}function M(E,O,U,H){S();const q=H.attributes,te=U.getAttributes(),$=O.defaultAttributeValues;for(const ie in te){const W=te[ie];if(W.location>=0){let Y=q[ie];if(Y===void 0&&(ie==="instanceMatrix"&&E.instanceMatrix&&(Y=E.instanceMatrix),ie==="instanceColor"&&E.instanceColor&&(Y=E.instanceColor)),Y!==void 0){const Q=Y.normalized,z=Y.itemSize,K=e.get(Y);if(K===void 0)continue;const ae=K.buffer,Z=K.type,se=K.bytesPerElement,oe=Z===t.INT||Z===t.UNSIGNED_INT||Y.gpuType===lA;if(Y.isInterleavedBufferAttribute){const ue=Y.data,ve=ue.stride,Be=Y.offset;if(ue.isInstancedInterleavedBuffer){for(let Le=0;Le<W.locationSize;Le++)x(W.location+Le,ue.meshPerAttribute);E.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let Le=0;Le<W.locationSize;Le++)_(W.location+Le);t.bindBuffer(t.ARRAY_BUFFER,ae);for(let Le=0;Le<W.locationSize;Le++)w(W.location+Le,z/W.locationSize,Z,Q,ve*se,(Be+z/W.locationSize*Le)*se,oe)}else{if(Y.isInstancedBufferAttribute){for(let ue=0;ue<W.locationSize;ue++)x(W.location+ue,Y.meshPerAttribute);E.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let ue=0;ue<W.locationSize;ue++)_(W.location+ue);t.bindBuffer(t.ARRAY_BUFFER,ae);for(let ue=0;ue<W.locationSize;ue++)w(W.location+ue,z/W.locationSize,Z,Q,z*se,z/W.locationSize*ue*se,oe)}}else if($!==void 0){const Q=$[ie];if(Q!==void 0)switch(Q.length){case 2:t.vertexAttrib2fv(W.location,Q);break;case 3:t.vertexAttrib3fv(W.location,Q);break;case 4:t.vertexAttrib4fv(W.location,Q);break;default:t.vertexAttrib1fv(W.location,Q)}}}}b()}function C(){P();for(const E in r){const O=r[E];for(const U in O){const H=O[U];for(const q in H)f(H[q].object),delete H[q];delete O[U]}delete r[E]}}function I(E){if(r[E.id]===void 0)return;const O=r[E.id];for(const U in O){const H=O[U];for(const q in H)f(H[q].object),delete H[q];delete O[U]}delete r[E.id]}function B(E){for(const O in r){const U=r[O];if(U[E.id]===void 0)continue;const H=U[E.id];for(const q in H)f(H[q].object),delete H[q];delete U[E.id]}}function P(){L(),o=!0,s!==i&&(s=i,u(s.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:P,resetDefaultState:L,dispose:C,releaseStatesOfGeometry:I,releaseStatesOfProgram:B,initAttributes:S,enableAttribute:_,disableUnusedAttributes:b}}function lfe(t,e,n){let r;function i(u){r=u}function s(u,f){t.drawArrays(r,u,f),n.update(f,r,1)}function o(u,f,d){d!==0&&(t.drawArraysInstanced(r,u,f,d),n.update(f,r,d))}function a(u,f,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,f,0,d);let g=0;for(let y=0;y<d;y++)g+=f[y];n.update(g,r,1)}function l(u,f,d,p){if(d===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let y=0;y<u.length;y++)o(u[y],f[y],p[y]);else{g.multiDrawArraysInstancedWEBGL(r,u,0,f,0,p,0,d);let y=0;for(let S=0;S<d;S++)y+=f[S]*p[S];n.update(y,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function ufe(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(B){return!(B!==ws&&r.convert(B)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(B){const P=B===Hm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==il&&r.convert(B)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==uo&&!P)}function l(B){if(B==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const f=l(u);f!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",f,"instead."),u=f);const d=n.logarithmicDepthBuffer===!0,p=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),g=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),_=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),C=y>0,I=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:u,logarithmicDepthBuffer:d,reverseDepthBuffer:p,maxTextures:g,maxVertexTextures:y,maxTextureSize:S,maxCubemapSize:_,maxAttributes:x,maxVertexUniforms:b,maxVaryings:w,maxFragmentUniforms:M,vertexTextures:C,maxSamples:I}}function cfe(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Uu,a=new _n,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const g=d.length!==0||p||r!==0||i;return i=p,r=d.length,g},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=f(d,p,0)},this.setState=function(d,p,g){const y=d.clippingPlanes,S=d.clipIntersection,_=d.clipShadows,x=t.get(d);if(!i||y===null||y.length===0||s&&!_)s?f(null):u();else{const b=s?0:r,w=b*4;let M=x.clippingState||null;l.value=M,M=f(y,p,w,g);for(let C=0;C!==w;++C)M[C]=n[C];x.clippingState=M,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=b}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(d,p,g,y){const S=d!==null?d.length:0;let _=null;if(S!==0){if(_=l.value,y!==!0||_===null){const x=g+S*4,b=p.matrixWorldInverse;a.getNormalMatrix(b),(_===null||_.length<x)&&(_=new Float32Array(x));for(let w=0,M=g;w!==S;++w,M+=4)o.copy(d[w]).applyMatrix4(b,a),o.normal.toArray(_,M),_[M+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,_}}function ffe(t){let e=new WeakMap;function n(o,a){return a===My?o.mapping=tc:a===Ey&&(o.mapping=gf),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===My||a===Ey)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new RG(l.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const rm=4,JO=[.125,.215,.35,.446,.526,.582],kd=20,BE=new Ku,YO=new Tt;let DE=null,LE=0,FE=0,OE=!1;const Ld=(1+Math.sqrt(5))/2,zp=1/Ld,$O=[new le(-Ld,zp,0),new le(Ld,zp,0),new le(-zp,0,Ld),new le(zp,0,Ld),new le(0,Ld,-zp),new le(0,Ld,zp),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)],dfe=new le;class MT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,s={}){const{size:o=256,position:a=dfe}=s;DE=this._renderer.getRenderTarget(),LE=this._renderer.getActiveCubeFace(),FE=this._renderer.getActiveMipmapLevel(),OE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ek(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ZO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(DE,LE,FE),this._renderer.xr.enabled=OE,e.scissorTest=!1,I_(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===tc||e.mapping===gf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),DE=this._renderer.getRenderTarget(),LE=this._renderer.getActiveCubeFace(),FE=this._renderer.getActiveMipmapLevel(),OE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:zr,minFilter:zr,generateMipmaps:!1,type:Hm,format:ws,colorSpace:dh,depthBuffer:!1},i=QO(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=QO(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=hfe(s)),this._blurMaterial=pfe(s,e,n)}return i}_compileMaterial(e){const n=new Lr(this._lodPlanes[0],e);this._renderer.compile(n,BE)}_sceneToCubeUV(e,n,r,i,s){const l=new Qr(90,1,n,r),u=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,g=d.toneMapping;d.getClearColor(YO),d.toneMapping=Vl,d.autoClear=!1;const y=new co({name:"PMREM.Background",side:Ws,depthWrite:!1,depthTest:!1}),S=new Lr(new Ah,y);let _=!1;const x=e.background;x?x.isColor&&(y.color.copy(x),e.background=null,_=!0):(y.color.copy(YO),_=!0);for(let b=0;b<6;b++){const w=b%3;w===0?(l.up.set(0,u[b],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+f[b],s.y,s.z)):w===1?(l.up.set(0,0,u[b]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+f[b],s.z)):(l.up.set(0,u[b],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+f[b]));const M=this._cubeSize;I_(i,w*M,b>2?M:0,M,M),d.setRenderTarget(i),_&&d.render(S,l),d.render(e,l)}S.geometry.dispose(),S.material.dispose(),d.toneMapping=g,d.autoClear=p,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===tc||e.mapping===gf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=ek()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ZO());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Lr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;I_(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,BE)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=$O[(i-s-1)%$O.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new Lr(this._lodPlanes[i],u),p=u.uniforms,g=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*kd-1),S=s/y,_=isFinite(s)?1+Math.floor(f*S):kd;_>kd&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${kd}`);const x=[];let b=0;for(let B=0;B<kd;++B){const P=B/S,L=Math.exp(-P*P/2);x.push(L),B===0?b+=L:B<_&&(b+=2*L)}for(let B=0;B<x.length;B++)x[B]=x[B]/b;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=x,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=y,p.mipInt.value=w-r;const M=this._sizeLods[i],C=3*M*(i>w-rm?i-w+rm:0),I=4*(this._cubeSize-M);I_(n,C,I,3*M,2*M),l.setRenderTarget(n),l.render(d,BE)}}function hfe(t){const e=[],n=[],r=[];let i=t;const s=t-rm+1+JO.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-rm?l=JO[o-t+rm-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),f=-u,d=1+u,p=[f,f,d,f,d,d,f,f,d,d,f,d],g=6,y=6,S=3,_=2,x=1,b=new Float32Array(S*y*g),w=new Float32Array(_*y*g),M=new Float32Array(x*y*g);for(let I=0;I<g;I++){const B=I%3*2/3-1,P=I>2?0:-1,L=[B,P,0,B+2/3,P,0,B+2/3,P+1,0,B,P,0,B+2/3,P+1,0,B,P+1,0];b.set(L,S*y*I),w.set(p,_*y*I);const E=[I,I,I,I,I,I];M.set(E,x*y*I)}const C=new Mn;C.setAttribute("position",new Kn(b,S)),C.setAttribute("uv",new Kn(w,_)),C.setAttribute("faceIndex",new Kn(M,x)),e.push(C),i>rm&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function QO(t,e,n){const r=new Jl(t,e,n);return r.texture.mapping=Gm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function I_(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function pfe(t,e,n){const r=new Float32Array(kd),i=new le(0,1,0);return new sl({name:"SphericalGaussianBlur",defines:{n:kd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:SP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function ZO(){return new sl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:SP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function ek(){return new sl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:SP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function SP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function mfe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===My||l===Ey,f=l===tc||l===gf;if(u||f){let d=e.get(a);const p=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new MT(t)),d=u?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const g=a.image;return u&&g&&g.height>0||f&&g&&i(g)?(n===null&&(n=new MT(t)),d=u?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function i(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function gfe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Dd("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function vfe(t,e,n,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete i[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const g in p)e.update(p[g],t.ARRAY_BUFFER)}function u(d){const p=[],g=d.index,y=d.attributes.position;let S=0;if(g!==null){const b=g.array;S=g.version;for(let w=0,M=b.length;w<M;w+=3){const C=b[w+0],I=b[w+1],B=b[w+2];p.push(C,I,I,B,B,C)}}else if(y!==void 0){const b=y.array;S=y.version;for(let w=0,M=b.length/3-1;w<M;w+=3){const C=w+0,I=w+1,B=w+2;p.push(C,I,I,B,B,C)}}else return;const _=new(wG(p)?W2:j2)(p,1);_.version=S;const x=s.get(d);x&&e.remove(x),s.set(d,_)}function f(d){const p=s.get(d);if(p){const g=d.index;g!==null&&p.version<g.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:f}}function yfe(t,e,n){let r;function i(p){r=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,g){t.drawElements(r,g,s,p*o),n.update(g,r,1)}function u(p,g,y){y!==0&&(t.drawElementsInstanced(r,g,s,p*o,y),n.update(g,r,y))}function f(p,g,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,s,p,0,y);let _=0;for(let x=0;x<y;x++)_+=g[x];n.update(_,r,1)}function d(p,g,y,S){if(y===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let x=0;x<p.length;x++)u(p[x]/o,g[x],S[x]);else{_.multiDrawElementsInstancedWEBGL(r,g,0,s,p,0,S,0,y);let x=0;for(let b=0;b<y;b++)x+=g[b]*S[b];n.update(x,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=u,this.renderMultiDraw=f,this.renderMultiDrawInstances=d}function xfe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function _fe(t,e,n){const r=new WeakMap,i=new Nn;function s(o,a,l){const u=o.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=f!==void 0?f.length:0;let p=r.get(a);if(p===void 0||p.count!==d){let E=function(){P.dispose(),r.delete(a),a.removeEventListener("dispose",E)};var g=E;p!==void 0&&p.texture.dispose();const y=a.morphAttributes.position!==void 0,S=a.morphAttributes.normal!==void 0,_=a.morphAttributes.color!==void 0,x=a.morphAttributes.position||[],b=a.morphAttributes.normal||[],w=a.morphAttributes.color||[];let M=0;y===!0&&(M=1),S===!0&&(M=2),_===!0&&(M=3);let C=a.attributes.position.count*M,I=1;C>e.maxTextureSize&&(I=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const B=new Float32Array(C*I*4*d),P=new h0(B,C,I,d);P.type=uo,P.needsUpdate=!0;const L=M*4;for(let O=0;O<d;O++){const U=x[O],H=b[O],q=w[O],te=C*I*4*O;for(let $=0;$<U.count;$++){const ie=$*L;y===!0&&(i.fromBufferAttribute(U,$),B[te+ie+0]=i.x,B[te+ie+1]=i.y,B[te+ie+2]=i.z,B[te+ie+3]=0),S===!0&&(i.fromBufferAttribute(H,$),B[te+ie+4]=i.x,B[te+ie+5]=i.y,B[te+ie+6]=i.z,B[te+ie+7]=0),_===!0&&(i.fromBufferAttribute(q,$),B[te+ie+8]=i.x,B[te+ie+9]=i.y,B[te+ie+10]=i.z,B[te+ie+11]=q.itemSize===4?i.w:1)}}p={count:d,texture:P,size:new it(C,I)},r.set(a,p),a.addEventListener("dispose",E)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let y=0;for(let _=0;_<u.length;_++)y+=u[_];const S=a.morphTargetsRelative?1:1-y;l.getUniforms().setValue(t,"morphTargetBaseInfluence",S),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:s}}function Sfe(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,f=l.geometry,d=e.get(l,f);if(i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return d}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const _H=new Rr,tk=new Z2(1,1),SH=new h0,AH=new gA,wH=new m0,nk=[],rk=[],ik=new Float32Array(16),sk=new Float32Array(9),ok=new Float32Array(4);function Wm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=nk[i];if(s===void 0&&(s=new Float32Array(i),nk[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Di(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Li(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function NA(t,e){let n=rk[e];n===void 0&&(n=new Int32Array(e),rk[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Afe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function wfe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Di(n,e))return;t.uniform2fv(this.addr,e),Li(n,e)}}function bfe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Di(n,e))return;t.uniform3fv(this.addr,e),Li(n,e)}}function Mfe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Di(n,e))return;t.uniform4fv(this.addr,e),Li(n,e)}}function Efe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Di(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Li(n,e)}else{if(Di(n,r))return;ok.set(r),t.uniformMatrix2fv(this.addr,!1,ok),Li(n,r)}}function Cfe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Di(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Li(n,e)}else{if(Di(n,r))return;sk.set(r),t.uniformMatrix3fv(this.addr,!1,sk),Li(n,r)}}function Tfe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Di(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Li(n,e)}else{if(Di(n,r))return;ik.set(r),t.uniformMatrix4fv(this.addr,!1,ik),Li(n,r)}}function Rfe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Pfe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Di(n,e))return;t.uniform2iv(this.addr,e),Li(n,e)}}function Ife(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Di(n,e))return;t.uniform3iv(this.addr,e),Li(n,e)}}function Bfe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Di(n,e))return;t.uniform4iv(this.addr,e),Li(n,e)}}function Dfe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Lfe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Di(n,e))return;t.uniform2uiv(this.addr,e),Li(n,e)}}function Ffe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Di(n,e))return;t.uniform3uiv(this.addr,e),Li(n,e)}}function Ofe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Di(n,e))return;t.uniform4uiv(this.addr,e),Li(n,e)}}function kfe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(tk.compareFunction=H2,s=tk):s=_H,n.setTexture2D(e||s,i)}function Ufe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||AH,i)}function Nfe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||wH,i)}function zfe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||SH,i)}function Gfe(t){switch(t){case 5126:return Afe;case 35664:return wfe;case 35665:return bfe;case 35666:return Mfe;case 35674:return Efe;case 35675:return Cfe;case 35676:return Tfe;case 5124:case 35670:return Rfe;case 35667:case 35671:return Pfe;case 35668:case 35672:return Ife;case 35669:case 35673:return Bfe;case 5125:return Dfe;case 36294:return Lfe;case 36295:return Ffe;case 36296:return Ofe;case 35678:case 36198:case 36298:case 36306:case 35682:return kfe;case 35679:case 36299:case 36307:return Ufe;case 35680:case 36300:case 36308:case 36293:return Nfe;case 36289:case 36303:case 36311:case 36292:return zfe}}function Hfe(t,e){t.uniform1fv(this.addr,e)}function Vfe(t,e){const n=Wm(e,this.size,2);t.uniform2fv(this.addr,n)}function jfe(t,e){const n=Wm(e,this.size,3);t.uniform3fv(this.addr,n)}function Wfe(t,e){const n=Wm(e,this.size,4);t.uniform4fv(this.addr,n)}function Xfe(t,e){const n=Wm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function qfe(t,e){const n=Wm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Kfe(t,e){const n=Wm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Jfe(t,e){t.uniform1iv(this.addr,e)}function Yfe(t,e){t.uniform2iv(this.addr,e)}function $fe(t,e){t.uniform3iv(this.addr,e)}function Qfe(t,e){t.uniform4iv(this.addr,e)}function Zfe(t,e){t.uniform1uiv(this.addr,e)}function ede(t,e){t.uniform2uiv(this.addr,e)}function tde(t,e){t.uniform3uiv(this.addr,e)}function nde(t,e){t.uniform4uiv(this.addr,e)}function rde(t,e,n){const r=this.cache,i=e.length,s=NA(n,i);Di(r,s)||(t.uniform1iv(this.addr,s),Li(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||_H,s[o])}function ide(t,e,n){const r=this.cache,i=e.length,s=NA(n,i);Di(r,s)||(t.uniform1iv(this.addr,s),Li(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||AH,s[o])}function sde(t,e,n){const r=this.cache,i=e.length,s=NA(n,i);Di(r,s)||(t.uniform1iv(this.addr,s),Li(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||wH,s[o])}function ode(t,e,n){const r=this.cache,i=e.length,s=NA(n,i);Di(r,s)||(t.uniform1iv(this.addr,s),Li(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||SH,s[o])}function ade(t){switch(t){case 5126:return Hfe;case 35664:return Vfe;case 35665:return jfe;case 35666:return Wfe;case 35674:return Xfe;case 35675:return qfe;case 35676:return Kfe;case 5124:case 35670:return Jfe;case 35667:case 35671:return Yfe;case 35668:case 35672:return $fe;case 35669:case 35673:return Qfe;case 5125:return Zfe;case 36294:return ede;case 36295:return tde;case 36296:return nde;case 35678:case 36198:case 36298:case 36306:case 35682:return rde;case 35679:case 36299:case 36307:return ide;case 35680:case 36300:case 36308:case 36293:return sde;case 36289:case 36303:case 36311:case 36292:return ode}}class lde{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Gfe(n.type)}}class ude{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=ade(n.type)}}class cde{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const kE=/(\w+)(\])?(\[|\.)?/g;function ak(t,e){t.seq.push(e),t.map[e.id]=e}function fde(t,e,n){const r=t.name,i=r.length;for(kE.lastIndex=0;;){const s=kE.exec(r),o=kE.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){ak(n,u===void 0?new lde(a,t,e):new ude(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new cde(a),ak(n,d)),n=d}}}class n1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);fde(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function lk(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const dde=37297;let hde=0;function pde(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const uk=new _n;function mde(t){Wn._getMatrix(uk,Wn.workingColorSpace,t);const e=`mat3( ${uk.elements.map(n=>n.toFixed(4))} )`;switch(Wn.getTransfer(t)){case Ty:return[e,"LinearTransferOETF"];case sr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function ck(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+pde(t.getShaderSource(e),o)}else return i}function gde(t,e){const n=mde(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function vde(t,e){let n;switch(e){case nG:n="Linear";break;case rG:n="Reinhard";break;case iG:n="Cineon";break;case R2:n="ACESFilmic";break;case oG:n="AgX";break;case aG:n="Neutral";break;case sG:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const B_=new le;function yde(){Wn.getLuminanceCoefficients(B_);const t=B_.x.toFixed(4),e=B_.y.toFixed(4),n=B_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function xde(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Tv).join(`
`)}function _de(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Sde(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Tv(t){return t!==""}function fk(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function dk(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Ade=/^[ \t]*#include +<([\w\d./]+)>/gm;function ET(t){return t.replace(Ade,bde)}const wde=new Map;function bde(t,e){let n=Cn[e];if(n===void 0){const r=wde.get(e);if(r!==void 0)n=Cn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return ET(n)}const Mde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function hk(t){return t.replace(Mde,Ede)}function Ede(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function pk(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Cde(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===sA?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Gv?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Xa&&(e="SHADOWMAP_TYPE_VSM"),e}function Tde(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case tc:case gf:e="ENVMAP_TYPE_CUBE";break;case Gm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Rde(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case gf:e="ENVMAP_MODE_REFRACTION";break}return e}function Pde(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case f0:e="ENVMAP_BLENDING_MULTIPLY";break;case eG:e="ENVMAP_BLENDING_MIX";break;case tG:e="ENVMAP_BLENDING_ADD";break}return e}function Ide(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Bde(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Cde(n),u=Tde(n),f=Rde(n),d=Pde(n),p=Ide(n),g=xde(n),y=_de(s),S=i.createProgram();let _,x,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Tv).join(`
`),_.length>0&&(_+=`
`),x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Tv).join(`
`),x.length>0&&(x+=`
`)):(_=[pk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Tv).join(`
`),x=[pk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Vl?"#define TONE_MAPPING":"",n.toneMapping!==Vl?Cn.tonemapping_pars_fragment:"",n.toneMapping!==Vl?vde("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Cn.colorspace_pars_fragment,gde("linearToOutputTexel",n.outputColorSpace),yde(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Tv).join(`
`)),o=ET(o),o=fk(o,n),o=dk(o,n),a=ET(a),a=fk(a,n),a=dk(a,n),o=hk(o),a=hk(a),n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,_=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,x=["#define varying in",n.glslVersion===vT?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===vT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const w=b+_+o,M=b+x+a,C=lk(i,i.VERTEX_SHADER,w),I=lk(i,i.FRAGMENT_SHADER,M);i.attachShader(S,C),i.attachShader(S,I),n.index0AttributeName!==void 0?i.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function B(O){if(t.debug.checkShaderErrors){const U=i.getProgramInfoLog(S).trim(),H=i.getShaderInfoLog(C).trim(),q=i.getShaderInfoLog(I).trim();let te=!0,$=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(te=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,S,C,I);else{const ie=ck(i,C,"vertex"),W=ck(i,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+U+`
`+ie+`
`+W)}else U!==""?console.warn("THREE.WebGLProgram: Program Info Log:",U):(H===""||q==="")&&($=!1);$&&(O.diagnostics={runnable:te,programLog:U,vertexShader:{log:H,prefix:_},fragmentShader:{log:q,prefix:x}})}i.deleteShader(C),i.deleteShader(I),P=new n1(i,S),L=Sde(i,S)}let P;this.getUniforms=function(){return P===void 0&&B(this),P};let L;this.getAttributes=function(){return L===void 0&&B(this),L};let E=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return E===!1&&(E=i.getProgramParameter(S,dde)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=hde++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=C,this.fragmentShader=I,this}let Dde=0;class Lde{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Fde(e),n.set(e,r)),r}}class Fde{constructor(e){this.id=Dde++,this.code=e,this.usedTimes=0}}function Ode(t,e,n,r,i,s,o){const a=new Zd,l=new Lde,u=new Set,f=[],d=i.logarithmicDepthBuffer,p=i.vertexTextures;let g=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(L){return u.add(L),L===0?"uv":`uv${L}`}function _(L,E,O,U,H){const q=U.fog,te=H.geometry,$=L.isMeshStandardMaterial?U.environment:null,ie=(L.isMeshStandardMaterial?n:e).get(L.envMap||$),W=ie&&ie.mapping===Gm?ie.image.height:null,Y=y[L.type];L.precision!==null&&(g=i.getMaxPrecision(L.precision),g!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",g,"instead."));const Q=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,z=Q!==void 0?Q.length:0;let K=0;te.morphAttributes.position!==void 0&&(K=1),te.morphAttributes.normal!==void 0&&(K=2),te.morphAttributes.color!==void 0&&(K=3);let ae,Z,se,oe;if(Y){const ge=Ka[Y];ae=ge.vertexShader,Z=ge.fragmentShader}else ae=L.vertexShader,Z=L.fragmentShader,l.update(L),se=l.getVertexShaderID(L),oe=l.getFragmentShaderID(L);const ue=t.getRenderTarget(),ve=t.state.buffers.depth.getReversed(),Be=H.isInstancedMesh===!0,Le=H.isBatchedMesh===!0,Ve=!!L.map,xe=!!L.matcap,Te=!!ie,re=!!L.aoMap,nt=!!L.lightMap,ke=!!L.bumpMap,Ze=!!L.normalMap,Ae=!!L.displacementMap,tt=!!L.emissiveMap,Fe=!!L.metalnessMap,J=!!L.roughnessMap,X=L.anisotropy>0,he=L.clearcoat>0,Se=L.dispersion>0,Me=L.iridescence>0,De=L.sheen>0,qe=L.transmission>0,Ne=X&&!!L.anisotropyMap,Ke=he&&!!L.clearcoatMap,ft=he&&!!L.clearcoatNormalMap,Xe=he&&!!L.clearcoatRoughnessMap,ot=Me&&!!L.iridescenceMap,at=Me&&!!L.iridescenceThicknessMap,mt=De&&!!L.sheenColorMap,$e=De&&!!L.sheenRoughnessMap,pe=!!L.specularMap,ze=!!L.specularColorMap,vt=!!L.specularIntensityMap,de=qe&&!!L.transmissionMap,je=qe&&!!L.thicknessMap,Ie=!!L.gradientMap,Ye=!!L.alphaMap,ut=L.alphaTest>0,st=!!L.alphaHash,Mt=!!L.extensions;let Vt=Vl;L.toneMapped&&(ue===null||ue.isXRRenderTarget===!0)&&(Vt=t.toneMapping);const ce={shaderID:Y,shaderType:L.type,shaderName:L.name,vertexShader:ae,fragmentShader:Z,defines:L.defines,customVertexShaderID:se,customFragmentShaderID:oe,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:g,batching:Le,batchingColor:Le&&H._colorsTexture!==null,instancing:Be,instancingColor:Be&&H.instanceColor!==null,instancingMorph:Be&&H.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:ue===null?t.outputColorSpace:ue.isXRRenderTarget===!0?ue.texture.colorSpace:dh,alphaToCoverage:!!L.alphaToCoverage,map:Ve,matcap:xe,envMap:Te,envMapMode:Te&&ie.mapping,envMapCubeUVHeight:W,aoMap:re,lightMap:nt,bumpMap:ke,normalMap:Ze,displacementMap:p&&Ae,emissiveMap:tt,normalMapObjectSpace:Ze&&L.normalMapType===pG,normalMapTangentSpace:Ze&&L.normalMapType===wf,metalnessMap:Fe,roughnessMap:J,anisotropy:X,anisotropyMap:Ne,clearcoat:he,clearcoatMap:Ke,clearcoatNormalMap:ft,clearcoatRoughnessMap:Xe,dispersion:Se,iridescence:Me,iridescenceMap:ot,iridescenceThicknessMap:at,sheen:De,sheenColorMap:mt,sheenRoughnessMap:$e,specularMap:pe,specularColorMap:ze,specularIntensityMap:vt,transmission:qe,transmissionMap:de,thicknessMap:je,gradientMap:Ie,opaque:L.transparent===!1&&L.blending===Yd&&L.alphaToCoverage===!1,alphaMap:Ye,alphaTest:ut,alphaHash:st,combine:L.combine,mapUv:Ve&&S(L.map.channel),aoMapUv:re&&S(L.aoMap.channel),lightMapUv:nt&&S(L.lightMap.channel),bumpMapUv:ke&&S(L.bumpMap.channel),normalMapUv:Ze&&S(L.normalMap.channel),displacementMapUv:Ae&&S(L.displacementMap.channel),emissiveMapUv:tt&&S(L.emissiveMap.channel),metalnessMapUv:Fe&&S(L.metalnessMap.channel),roughnessMapUv:J&&S(L.roughnessMap.channel),anisotropyMapUv:Ne&&S(L.anisotropyMap.channel),clearcoatMapUv:Ke&&S(L.clearcoatMap.channel),clearcoatNormalMapUv:ft&&S(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Xe&&S(L.clearcoatRoughnessMap.channel),iridescenceMapUv:ot&&S(L.iridescenceMap.channel),iridescenceThicknessMapUv:at&&S(L.iridescenceThicknessMap.channel),sheenColorMapUv:mt&&S(L.sheenColorMap.channel),sheenRoughnessMapUv:$e&&S(L.sheenRoughnessMap.channel),specularMapUv:pe&&S(L.specularMap.channel),specularColorMapUv:ze&&S(L.specularColorMap.channel),specularIntensityMapUv:vt&&S(L.specularIntensityMap.channel),transmissionMapUv:de&&S(L.transmissionMap.channel),thicknessMapUv:je&&S(L.thicknessMap.channel),alphaMapUv:Ye&&S(L.alphaMap.channel),vertexTangents:!!te.attributes.tangent&&(Ze||X),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,pointsUvs:H.isPoints===!0&&!!te.attributes.uv&&(Ve||Ye),fog:!!q,useFog:L.fog===!0,fogExp2:!!q&&q.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:ve,skinning:H.isSkinnedMesh===!0,morphTargets:te.morphAttributes.position!==void 0,morphNormals:te.morphAttributes.normal!==void 0,morphColors:te.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:K,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numLightProbes:E.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:Vt,decodeVideoTexture:Ve&&L.map.isVideoTexture===!0&&Wn.getTransfer(L.map.colorSpace)===sr,decodeVideoTextureEmissive:tt&&L.emissiveMap.isVideoTexture===!0&&Wn.getTransfer(L.emissiveMap.colorSpace)===sr,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===oa,flipSided:L.side===Ws,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:Mt&&L.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Mt&&L.extensions.multiDraw===!0||Le)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return ce.vertexUv1s=u.has(1),ce.vertexUv2s=u.has(2),ce.vertexUv3s=u.has(3),u.clear(),ce}function x(L){const E=[];if(L.shaderID?E.push(L.shaderID):(E.push(L.customVertexShaderID),E.push(L.customFragmentShaderID)),L.defines!==void 0)for(const O in L.defines)E.push(O),E.push(L.defines[O]);return L.isRawShaderMaterial===!1&&(b(E,L),w(E,L),E.push(t.outputColorSpace)),E.push(L.customProgramCacheKey),E.join()}function b(L,E){L.push(E.precision),L.push(E.outputColorSpace),L.push(E.envMapMode),L.push(E.envMapCubeUVHeight),L.push(E.mapUv),L.push(E.alphaMapUv),L.push(E.lightMapUv),L.push(E.aoMapUv),L.push(E.bumpMapUv),L.push(E.normalMapUv),L.push(E.displacementMapUv),L.push(E.emissiveMapUv),L.push(E.metalnessMapUv),L.push(E.roughnessMapUv),L.push(E.anisotropyMapUv),L.push(E.clearcoatMapUv),L.push(E.clearcoatNormalMapUv),L.push(E.clearcoatRoughnessMapUv),L.push(E.iridescenceMapUv),L.push(E.iridescenceThicknessMapUv),L.push(E.sheenColorMapUv),L.push(E.sheenRoughnessMapUv),L.push(E.specularMapUv),L.push(E.specularColorMapUv),L.push(E.specularIntensityMapUv),L.push(E.transmissionMapUv),L.push(E.thicknessMapUv),L.push(E.combine),L.push(E.fogExp2),L.push(E.sizeAttenuation),L.push(E.morphTargetsCount),L.push(E.morphAttributeCount),L.push(E.numDirLights),L.push(E.numPointLights),L.push(E.numSpotLights),L.push(E.numSpotLightMaps),L.push(E.numHemiLights),L.push(E.numRectAreaLights),L.push(E.numDirLightShadows),L.push(E.numPointLightShadows),L.push(E.numSpotLightShadows),L.push(E.numSpotLightShadowsWithMaps),L.push(E.numLightProbes),L.push(E.shadowMapType),L.push(E.toneMapping),L.push(E.numClippingPlanes),L.push(E.numClipIntersection),L.push(E.depthPacking)}function w(L,E){a.disableAll(),E.supportsVertexTextures&&a.enable(0),E.instancing&&a.enable(1),E.instancingColor&&a.enable(2),E.instancingMorph&&a.enable(3),E.matcap&&a.enable(4),E.envMap&&a.enable(5),E.normalMapObjectSpace&&a.enable(6),E.normalMapTangentSpace&&a.enable(7),E.clearcoat&&a.enable(8),E.iridescence&&a.enable(9),E.alphaTest&&a.enable(10),E.vertexColors&&a.enable(11),E.vertexAlphas&&a.enable(12),E.vertexUv1s&&a.enable(13),E.vertexUv2s&&a.enable(14),E.vertexUv3s&&a.enable(15),E.vertexTangents&&a.enable(16),E.anisotropy&&a.enable(17),E.alphaHash&&a.enable(18),E.batching&&a.enable(19),E.dispersion&&a.enable(20),E.batchingColor&&a.enable(21),L.push(a.mask),a.disableAll(),E.fog&&a.enable(0),E.useFog&&a.enable(1),E.flatShading&&a.enable(2),E.logarithmicDepthBuffer&&a.enable(3),E.reverseDepthBuffer&&a.enable(4),E.skinning&&a.enable(5),E.morphTargets&&a.enable(6),E.morphNormals&&a.enable(7),E.morphColors&&a.enable(8),E.premultipliedAlpha&&a.enable(9),E.shadowMapEnabled&&a.enable(10),E.doubleSided&&a.enable(11),E.flipSided&&a.enable(12),E.useDepthPacking&&a.enable(13),E.dithering&&a.enable(14),E.transmission&&a.enable(15),E.sheen&&a.enable(16),E.opaque&&a.enable(17),E.pointsUvs&&a.enable(18),E.decodeVideoTexture&&a.enable(19),E.decodeVideoTextureEmissive&&a.enable(20),E.alphaToCoverage&&a.enable(21),L.push(a.mask)}function M(L){const E=y[L.type];let O;if(E){const U=Ka[E];O=X2.clone(U.uniforms)}else O=L.uniforms;return O}function C(L,E){let O;for(let U=0,H=f.length;U<H;U++){const q=f[U];if(q.cacheKey===E){O=q,++O.usedTimes;break}}return O===void 0&&(O=new Bde(t,E,L,s),f.push(O)),O}function I(L){if(--L.usedTimes===0){const E=f.indexOf(L);f[E]=f[f.length-1],f.pop(),L.destroy()}}function B(L){l.remove(L)}function P(){l.dispose()}return{getParameters:_,getProgramCacheKey:x,getUniforms:M,acquireProgram:C,releaseProgram:I,releaseShaderCache:B,programs:f,dispose:P}}function kde(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function Ude(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function mk(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function gk(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,p,g,y,S,_){let x=t[e];return x===void 0?(x={id:d.id,object:d,geometry:p,material:g,groupOrder:y,renderOrder:d.renderOrder,z:S,group:_},t[e]=x):(x.id=d.id,x.object=d,x.geometry=p,x.material=g,x.groupOrder=y,x.renderOrder=d.renderOrder,x.z=S,x.group=_),e++,x}function a(d,p,g,y,S,_){const x=o(d,p,g,y,S,_);g.transmission>0?r.push(x):g.transparent===!0?i.push(x):n.push(x)}function l(d,p,g,y,S,_){const x=o(d,p,g,y,S,_);g.transmission>0?r.unshift(x):g.transparent===!0?i.unshift(x):n.unshift(x)}function u(d,p){n.length>1&&n.sort(d||Ude),r.length>1&&r.sort(p||mk),i.length>1&&i.sort(p||mk)}function f(){for(let d=e,p=t.length;d<p;d++){const g=t[d];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:u}}function Nde(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new gk,t.set(r,[o])):i>=s.length?(o=new gk,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function zde(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new le,color:new Tt};break;case"SpotLight":n={position:new le,direction:new le,color:new Tt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new le,color:new Tt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new le,skyColor:new Tt,groundColor:new Tt};break;case"RectAreaLight":n={color:new Tt,position:new le,halfWidth:new le,halfHeight:new le};break}return t[e.id]=n,n}}}function Gde(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Hde=0;function Vde(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function jde(t){const e=new zde,n=Gde(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new le);const i=new le,s=new tn,o=new tn;function a(u){let f=0,d=0,p=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let g=0,y=0,S=0,_=0,x=0,b=0,w=0,M=0,C=0,I=0,B=0;u.sort(Vde);for(let L=0,E=u.length;L<E;L++){const O=u[L],U=O.color,H=O.intensity,q=O.distance,te=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)f+=U.r*H,d+=U.g*H,p+=U.b*H;else if(O.isLightProbe){for(let $=0;$<9;$++)r.probe[$].addScaledVector(O.sh.coefficients[$],H);B++}else if(O.isDirectionalLight){const $=e.get(O);if($.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const ie=O.shadow,W=n.get(O);W.shadowIntensity=ie.intensity,W.shadowBias=ie.bias,W.shadowNormalBias=ie.normalBias,W.shadowRadius=ie.radius,W.shadowMapSize=ie.mapSize,r.directionalShadow[g]=W,r.directionalShadowMap[g]=te,r.directionalShadowMatrix[g]=O.shadow.matrix,b++}r.directional[g]=$,g++}else if(O.isSpotLight){const $=e.get(O);$.position.setFromMatrixPosition(O.matrixWorld),$.color.copy(U).multiplyScalar(H),$.distance=q,$.coneCos=Math.cos(O.angle),$.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),$.decay=O.decay,r.spot[S]=$;const ie=O.shadow;if(O.map&&(r.spotLightMap[C]=O.map,C++,ie.updateMatrices(O),O.castShadow&&I++),r.spotLightMatrix[S]=ie.matrix,O.castShadow){const W=n.get(O);W.shadowIntensity=ie.intensity,W.shadowBias=ie.bias,W.shadowNormalBias=ie.normalBias,W.shadowRadius=ie.radius,W.shadowMapSize=ie.mapSize,r.spotShadow[S]=W,r.spotShadowMap[S]=te,M++}S++}else if(O.isRectAreaLight){const $=e.get(O);$.color.copy(U).multiplyScalar(H),$.halfWidth.set(O.width*.5,0,0),$.halfHeight.set(0,O.height*.5,0),r.rectArea[_]=$,_++}else if(O.isPointLight){const $=e.get(O);if($.color.copy(O.color).multiplyScalar(O.intensity),$.distance=O.distance,$.decay=O.decay,O.castShadow){const ie=O.shadow,W=n.get(O);W.shadowIntensity=ie.intensity,W.shadowBias=ie.bias,W.shadowNormalBias=ie.normalBias,W.shadowRadius=ie.radius,W.shadowMapSize=ie.mapSize,W.shadowCameraNear=ie.camera.near,W.shadowCameraFar=ie.camera.far,r.pointShadow[y]=W,r.pointShadowMap[y]=te,r.pointShadowMatrix[y]=O.shadow.matrix,w++}r.point[y]=$,y++}else if(O.isHemisphereLight){const $=e.get(O);$.skyColor.copy(O.color).multiplyScalar(H),$.groundColor.copy(O.groundColor).multiplyScalar(H),r.hemi[x]=$,x++}}_>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Bt.LTC_FLOAT_1,r.rectAreaLTC2=Bt.LTC_FLOAT_2):(r.rectAreaLTC1=Bt.LTC_HALF_1,r.rectAreaLTC2=Bt.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=d,r.ambient[2]=p;const P=r.hash;(P.directionalLength!==g||P.pointLength!==y||P.spotLength!==S||P.rectAreaLength!==_||P.hemiLength!==x||P.numDirectionalShadows!==b||P.numPointShadows!==w||P.numSpotShadows!==M||P.numSpotMaps!==C||P.numLightProbes!==B)&&(r.directional.length=g,r.spot.length=S,r.rectArea.length=_,r.point.length=y,r.hemi.length=x,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=M+C-I,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=I,r.numLightProbes=B,P.directionalLength=g,P.pointLength=y,P.spotLength=S,P.rectAreaLength=_,P.hemiLength=x,P.numDirectionalShadows=b,P.numPointShadows=w,P.numSpotShadows=M,P.numSpotMaps=C,P.numLightProbes=B,r.version=Hde++)}function l(u,f){let d=0,p=0,g=0,y=0,S=0;const _=f.matrixWorldInverse;for(let x=0,b=u.length;x<b;x++){const w=u[x];if(w.isDirectionalLight){const M=r.directional[d];M.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(_),d++}else if(w.isSpotLight){const M=r.spot[g];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(_),M.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(_),g++}else if(w.isRectAreaLight){const M=r.rectArea[y];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(_),o.identity(),s.copy(w.matrixWorld),s.premultiply(_),o.extractRotation(s),M.halfWidth.set(w.width*.5,0,0),M.halfHeight.set(0,w.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),y++}else if(w.isPointLight){const M=r.point[p];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(_),p++}else if(w.isHemisphereLight){const M=r.hemi[S];M.direction.setFromMatrixPosition(w.matrixWorld),M.direction.transformDirection(_),S++}}}return{setup:a,setupView:l,state:r}}function vk(t){const e=new jde(t),n=[],r=[];function i(f){u.camera=f,n.length=0,r.length=0}function s(f){n.push(f)}function o(f){r.push(f)}function a(){e.setup(n)}function l(f){e.setupView(n,f)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Wde(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new vk(t),e.set(i,[a])):s>=o.length?(a=new vk(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const Xde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,qde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Kde(t,e,n){let r=new y0;const i=new it,s=new it,o=new Nn,a=new OA({depthPacking:G2}),l=new kA,u={},f=n.maxTextureSize,d={[Kl]:Ws,[Ws]:Kl,[oa]:oa},p=new sl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:Xde,fragmentShader:qde}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const y=new Mn;y.setAttribute("position",new Kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Lr(y,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=sA;let x=this.type;this.render=function(I,B,P){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||I.length===0)return;const L=t.getRenderTarget(),E=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),U=t.state;U.setBlending(Xu),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const H=x!==Xa&&this.type===Xa,q=x===Xa&&this.type!==Xa;for(let te=0,$=I.length;te<$;te++){const ie=I[te],W=ie.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;i.copy(W.mapSize);const Y=W.getFrameExtents();if(i.multiply(Y),s.copy(W.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/Y.x),i.x=s.x*Y.x,W.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/Y.y),i.y=s.y*Y.y,W.mapSize.y=s.y)),W.map===null||H===!0||q===!0){const z=this.type!==Xa?{minFilter:Wi,magFilter:Wi}:{};W.map!==null&&W.map.dispose(),W.map=new Jl(i.x,i.y,z),W.map.texture.name=ie.name+".shadowMap",W.camera.updateProjectionMatrix()}t.setRenderTarget(W.map),t.clear();const Q=W.getViewportCount();for(let z=0;z<Q;z++){const K=W.getViewport(z);o.set(s.x*K.x,s.y*K.y,s.x*K.z,s.y*K.w),U.viewport(o),W.updateMatrices(ie,z),r=W.getFrustum(),M(B,P,W.camera,ie,this.type)}W.isPointLightShadow!==!0&&this.type===Xa&&b(W,P),W.needsUpdate=!1}x=this.type,_.needsUpdate=!1,t.setRenderTarget(L,E,O)};function b(I,B){const P=e.update(S);p.defines.VSM_SAMPLES!==I.blurSamples&&(p.defines.VSM_SAMPLES=I.blurSamples,g.defines.VSM_SAMPLES=I.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new Jl(i.x,i.y)),p.uniforms.shadow_pass.value=I.map.texture,p.uniforms.resolution.value=I.mapSize,p.uniforms.radius.value=I.radius,t.setRenderTarget(I.mapPass),t.clear(),t.renderBufferDirect(B,null,P,p,S,null),g.uniforms.shadow_pass.value=I.mapPass.texture,g.uniforms.resolution.value=I.mapSize,g.uniforms.radius.value=I.radius,t.setRenderTarget(I.map),t.clear(),t.renderBufferDirect(B,null,P,g,S,null)}function w(I,B,P,L){let E=null;const O=P.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(O!==void 0)E=O;else if(E=P.isPointLight===!0?l:a,t.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0){const U=E.uuid,H=B.uuid;let q=u[U];q===void 0&&(q={},u[U]=q);let te=q[H];te===void 0&&(te=E.clone(),q[H]=te,B.addEventListener("dispose",C)),E=te}if(E.visible=B.visible,E.wireframe=B.wireframe,L===Xa?E.side=B.shadowSide!==null?B.shadowSide:B.side:E.side=B.shadowSide!==null?B.shadowSide:d[B.side],E.alphaMap=B.alphaMap,E.alphaTest=B.alphaTest,E.map=B.map,E.clipShadows=B.clipShadows,E.clippingPlanes=B.clippingPlanes,E.clipIntersection=B.clipIntersection,E.displacementMap=B.displacementMap,E.displacementScale=B.displacementScale,E.displacementBias=B.displacementBias,E.wireframeLinewidth=B.wireframeLinewidth,E.linewidth=B.linewidth,P.isPointLight===!0&&E.isMeshDistanceMaterial===!0){const U=t.properties.get(E);U.light=P}return E}function M(I,B,P,L,E){if(I.visible===!1)return;if(I.layers.test(B.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&E===Xa)&&(!I.frustumCulled||r.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,I.matrixWorld);const H=e.update(I),q=I.material;if(Array.isArray(q)){const te=H.groups;for(let $=0,ie=te.length;$<ie;$++){const W=te[$],Y=q[W.materialIndex];if(Y&&Y.visible){const Q=w(I,Y,L,E);I.onBeforeShadow(t,I,B,P,H,Q,W),t.renderBufferDirect(P,null,H,Q,I,W),I.onAfterShadow(t,I,B,P,H,Q,W)}}}else if(q.visible){const te=w(I,q,L,E);I.onBeforeShadow(t,I,B,P,H,te,null),t.renderBufferDirect(P,null,H,te,I,null),I.onAfterShadow(t,I,B,P,H,te,null)}}const U=I.children;for(let H=0,q=U.length;H<q;H++)M(U[H],B,P,L,E)}function C(I){I.target.removeEventListener("dispose",C);for(const P in u){const L=u[P],E=I.target.uuid;E in L&&(L[E].dispose(),delete L[E])}}}const Jde={[I1]:B1,[D1]:O1,[L1]:k1,[uh]:F1,[B1]:I1,[O1]:D1,[k1]:L1,[F1]:uh};function Yde(t,e){function n(){let de=!1;const je=new Nn;let Ie=null;const Ye=new Nn(0,0,0,0);return{setMask:function(ut){Ie!==ut&&!de&&(t.colorMask(ut,ut,ut,ut),Ie=ut)},setLocked:function(ut){de=ut},setClear:function(ut,st,Mt,Vt,ce){ce===!0&&(ut*=Vt,st*=Vt,Mt*=Vt),je.set(ut,st,Mt,Vt),Ye.equals(je)===!1&&(t.clearColor(ut,st,Mt,Vt),Ye.copy(je))},reset:function(){de=!1,Ie=null,Ye.set(-1,0,0,0)}}}function r(){let de=!1,je=!1,Ie=null,Ye=null,ut=null;return{setReversed:function(st){if(je!==st){const Mt=e.get("EXT_clip_control");je?Mt.clipControlEXT(Mt.LOWER_LEFT_EXT,Mt.ZERO_TO_ONE_EXT):Mt.clipControlEXT(Mt.LOWER_LEFT_EXT,Mt.NEGATIVE_ONE_TO_ONE_EXT);const Vt=ut;ut=null,this.setClear(Vt)}je=st},getReversed:function(){return je},setTest:function(st){st?ue(t.DEPTH_TEST):ve(t.DEPTH_TEST)},setMask:function(st){Ie!==st&&!de&&(t.depthMask(st),Ie=st)},setFunc:function(st){if(je&&(st=Jde[st]),Ye!==st){switch(st){case I1:t.depthFunc(t.NEVER);break;case B1:t.depthFunc(t.ALWAYS);break;case D1:t.depthFunc(t.LESS);break;case uh:t.depthFunc(t.LEQUAL);break;case L1:t.depthFunc(t.EQUAL);break;case F1:t.depthFunc(t.GEQUAL);break;case O1:t.depthFunc(t.GREATER);break;case k1:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ye=st}},setLocked:function(st){de=st},setClear:function(st){ut!==st&&(je&&(st=1-st),t.clearDepth(st),ut=st)},reset:function(){de=!1,Ie=null,Ye=null,ut=null,je=!1}}}function i(){let de=!1,je=null,Ie=null,Ye=null,ut=null,st=null,Mt=null,Vt=null,ce=null;return{setTest:function(ge){de||(ge?ue(t.STENCIL_TEST):ve(t.STENCIL_TEST))},setMask:function(ge){je!==ge&&!de&&(t.stencilMask(ge),je=ge)},setFunc:function(ge,Pe,Qe){(Ie!==ge||Ye!==Pe||ut!==Qe)&&(t.stencilFunc(ge,Pe,Qe),Ie=ge,Ye=Pe,ut=Qe)},setOp:function(ge,Pe,Qe){(st!==ge||Mt!==Pe||Vt!==Qe)&&(t.stencilOp(ge,Pe,Qe),st=ge,Mt=Pe,Vt=Qe)},setLocked:function(ge){de=ge},setClear:function(ge){ce!==ge&&(t.clearStencil(ge),ce=ge)},reset:function(){de=!1,je=null,Ie=null,Ye=null,ut=null,st=null,Mt=null,Vt=null,ce=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,u=new WeakMap;let f={},d={},p=new WeakMap,g=[],y=null,S=!1,_=null,x=null,b=null,w=null,M=null,C=null,I=null,B=new Tt(0,0,0),P=0,L=!1,E=null,O=null,U=null,H=null,q=null;const te=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,ie=0;const W=t.getParameter(t.VERSION);W.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(W)[1]),$=ie>=1):W.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),$=ie>=2);let Y=null,Q={};const z=t.getParameter(t.SCISSOR_BOX),K=t.getParameter(t.VIEWPORT),ae=new Nn().fromArray(z),Z=new Nn().fromArray(K);function se(de,je,Ie,Ye){const ut=new Uint8Array(4),st=t.createTexture();t.bindTexture(de,st),t.texParameteri(de,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(de,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Mt=0;Mt<Ie;Mt++)de===t.TEXTURE_3D||de===t.TEXTURE_2D_ARRAY?t.texImage3D(je,0,t.RGBA,1,1,Ye,0,t.RGBA,t.UNSIGNED_BYTE,ut):t.texImage2D(je+Mt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ut);return st}const oe={};oe[t.TEXTURE_2D]=se(t.TEXTURE_2D,t.TEXTURE_2D,1),oe[t.TEXTURE_CUBE_MAP]=se(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),oe[t.TEXTURE_2D_ARRAY]=se(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),oe[t.TEXTURE_3D]=se(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),ue(t.DEPTH_TEST),o.setFunc(uh),ke(!1),Ze(fT),ue(t.CULL_FACE),re(Xu);function ue(de){f[de]!==!0&&(t.enable(de),f[de]=!0)}function ve(de){f[de]!==!1&&(t.disable(de),f[de]=!1)}function Be(de,je){return d[de]!==je?(t.bindFramebuffer(de,je),d[de]=je,de===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=je),de===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=je),!0):!1}function Le(de,je){let Ie=g,Ye=!1;if(de){Ie=p.get(je),Ie===void 0&&(Ie=[],p.set(je,Ie));const ut=de.textures;if(Ie.length!==ut.length||Ie[0]!==t.COLOR_ATTACHMENT0){for(let st=0,Mt=ut.length;st<Mt;st++)Ie[st]=t.COLOR_ATTACHMENT0+st;Ie.length=ut.length,Ye=!0}}else Ie[0]!==t.BACK&&(Ie[0]=t.BACK,Ye=!0);Ye&&t.drawBuffers(Ie)}function Ve(de){return y!==de?(t.useProgram(de),y=de,!0):!1}const xe={[Zc]:t.FUNC_ADD,[k5]:t.FUNC_SUBTRACT,[U5]:t.FUNC_REVERSE_SUBTRACT};xe[N5]=t.MIN,xe[z5]=t.MAX;const Te={[G5]:t.ZERO,[H5]:t.ONE,[V5]:t.SRC_COLOR,[R1]:t.SRC_ALPHA,[J5]:t.SRC_ALPHA_SATURATE,[q5]:t.DST_COLOR,[W5]:t.DST_ALPHA,[j5]:t.ONE_MINUS_SRC_COLOR,[P1]:t.ONE_MINUS_SRC_ALPHA,[K5]:t.ONE_MINUS_DST_COLOR,[X5]:t.ONE_MINUS_DST_ALPHA,[Y5]:t.CONSTANT_COLOR,[$5]:t.ONE_MINUS_CONSTANT_COLOR,[Q5]:t.CONSTANT_ALPHA,[Z5]:t.ONE_MINUS_CONSTANT_ALPHA};function re(de,je,Ie,Ye,ut,st,Mt,Vt,ce,ge){if(de===Xu){S===!0&&(ve(t.BLEND),S=!1);return}if(S===!1&&(ue(t.BLEND),S=!0),de!==O5){if(de!==_||ge!==L){if((x!==Zc||M!==Zc)&&(t.blendEquation(t.FUNC_ADD),x=Zc,M=Zc),ge)switch(de){case Yd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case dT:t.blendFunc(t.ONE,t.ONE);break;case hT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case pT:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case Yd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case dT:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case hT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case pT:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}b=null,w=null,C=null,I=null,B.set(0,0,0),P=0,_=de,L=ge}return}ut=ut||je,st=st||Ie,Mt=Mt||Ye,(je!==x||ut!==M)&&(t.blendEquationSeparate(xe[je],xe[ut]),x=je,M=ut),(Ie!==b||Ye!==w||st!==C||Mt!==I)&&(t.blendFuncSeparate(Te[Ie],Te[Ye],Te[st],Te[Mt]),b=Ie,w=Ye,C=st,I=Mt),(Vt.equals(B)===!1||ce!==P)&&(t.blendColor(Vt.r,Vt.g,Vt.b,ce),B.copy(Vt),P=ce),_=de,L=!1}function nt(de,je){de.side===oa?ve(t.CULL_FACE):ue(t.CULL_FACE);let Ie=de.side===Ws;je&&(Ie=!Ie),ke(Ie),de.blending===Yd&&de.transparent===!1?re(Xu):re(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.blendColor,de.blendAlpha,de.premultipliedAlpha),o.setFunc(de.depthFunc),o.setTest(de.depthTest),o.setMask(de.depthWrite),s.setMask(de.colorWrite);const Ye=de.stencilWrite;a.setTest(Ye),Ye&&(a.setMask(de.stencilWriteMask),a.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),a.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),tt(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?ue(t.SAMPLE_ALPHA_TO_COVERAGE):ve(t.SAMPLE_ALPHA_TO_COVERAGE)}function ke(de){E!==de&&(de?t.frontFace(t.CW):t.frontFace(t.CCW),E=de)}function Ze(de){de!==D5?(ue(t.CULL_FACE),de!==O&&(de===fT?t.cullFace(t.BACK):de===L5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ve(t.CULL_FACE),O=de}function Ae(de){de!==U&&($&&t.lineWidth(de),U=de)}function tt(de,je,Ie){de?(ue(t.POLYGON_OFFSET_FILL),(H!==je||q!==Ie)&&(t.polygonOffset(je,Ie),H=je,q=Ie)):ve(t.POLYGON_OFFSET_FILL)}function Fe(de){de?ue(t.SCISSOR_TEST):ve(t.SCISSOR_TEST)}function J(de){de===void 0&&(de=t.TEXTURE0+te-1),Y!==de&&(t.activeTexture(de),Y=de)}function X(de,je,Ie){Ie===void 0&&(Y===null?Ie=t.TEXTURE0+te-1:Ie=Y);let Ye=Q[Ie];Ye===void 0&&(Ye={type:void 0,texture:void 0},Q[Ie]=Ye),(Ye.type!==de||Ye.texture!==je)&&(Y!==Ie&&(t.activeTexture(Ie),Y=Ie),t.bindTexture(de,je||oe[de]),Ye.type=de,Ye.texture=je)}function he(){const de=Q[Y];de!==void 0&&de.type!==void 0&&(t.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function Se(){try{t.compressedTexImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Me(){try{t.compressedTexImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function De(){try{t.texSubImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function qe(){try{t.texSubImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ne(){try{t.compressedTexSubImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ke(){try{t.compressedTexSubImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ft(){try{t.texStorage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Xe(){try{t.texStorage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ot(){try{t.texImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function at(){try{t.texImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function mt(de){ae.equals(de)===!1&&(t.scissor(de.x,de.y,de.z,de.w),ae.copy(de))}function $e(de){Z.equals(de)===!1&&(t.viewport(de.x,de.y,de.z,de.w),Z.copy(de))}function pe(de,je){let Ie=u.get(je);Ie===void 0&&(Ie=new WeakMap,u.set(je,Ie));let Ye=Ie.get(de);Ye===void 0&&(Ye=t.getUniformBlockIndex(je,de.name),Ie.set(de,Ye))}function ze(de,je){const Ye=u.get(je).get(de);l.get(je)!==Ye&&(t.uniformBlockBinding(je,Ye,de.__bindingPointIndex),l.set(je,Ye))}function vt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},Y=null,Q={},d={},p=new WeakMap,g=[],y=null,S=!1,_=null,x=null,b=null,w=null,M=null,C=null,I=null,B=new Tt(0,0,0),P=0,L=!1,E=null,O=null,U=null,H=null,q=null,ae.set(0,0,t.canvas.width,t.canvas.height),Z.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:ue,disable:ve,bindFramebuffer:Be,drawBuffers:Le,useProgram:Ve,setBlending:re,setMaterial:nt,setFlipSided:ke,setCullFace:Ze,setLineWidth:Ae,setPolygonOffset:tt,setScissorTest:Fe,activeTexture:J,bindTexture:X,unbindTexture:he,compressedTexImage2D:Se,compressedTexImage3D:Me,texImage2D:ot,texImage3D:at,updateUBOMapping:pe,uniformBlockBinding:ze,texStorage2D:ft,texStorage3D:Xe,texSubImage2D:De,texSubImage3D:qe,compressedTexSubImage2D:Ne,compressedTexSubImage3D:Ke,scissor:mt,viewport:$e,reset:vt}}function $de(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new it,f=new WeakMap;let d;const p=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(J,X){return g?new OffscreenCanvas(J,X):Iy("canvas")}function S(J,X,he){let Se=1;const Me=Fe(J);if((Me.width>he||Me.height>he)&&(Se=he/Math.max(Me.width,Me.height)),Se<1)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap||typeof VideoFrame<"u"&&J instanceof VideoFrame){const De=Math.floor(Se*Me.width),qe=Math.floor(Se*Me.height);d===void 0&&(d=y(De,qe));const Ne=X?y(De,qe):d;return Ne.width=De,Ne.height=qe,Ne.getContext("2d").drawImage(J,0,0,De,qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+De+"x"+qe+")."),Ne}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),J;return J}function _(J){return J.generateMipmaps}function x(J){t.generateMipmap(J)}function b(J){return J.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:J.isWebGL3DRenderTarget?t.TEXTURE_3D:J.isWebGLArrayRenderTarget||J.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function w(J,X,he,Se,Me=!1){if(J!==null){if(t[J]!==void 0)return t[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let De=X;if(X===t.RED&&(he===t.FLOAT&&(De=t.R32F),he===t.HALF_FLOAT&&(De=t.R16F),he===t.UNSIGNED_BYTE&&(De=t.R8)),X===t.RED_INTEGER&&(he===t.UNSIGNED_BYTE&&(De=t.R8UI),he===t.UNSIGNED_SHORT&&(De=t.R16UI),he===t.UNSIGNED_INT&&(De=t.R32UI),he===t.BYTE&&(De=t.R8I),he===t.SHORT&&(De=t.R16I),he===t.INT&&(De=t.R32I)),X===t.RG&&(he===t.FLOAT&&(De=t.RG32F),he===t.HALF_FLOAT&&(De=t.RG16F),he===t.UNSIGNED_BYTE&&(De=t.RG8)),X===t.RG_INTEGER&&(he===t.UNSIGNED_BYTE&&(De=t.RG8UI),he===t.UNSIGNED_SHORT&&(De=t.RG16UI),he===t.UNSIGNED_INT&&(De=t.RG32UI),he===t.BYTE&&(De=t.RG8I),he===t.SHORT&&(De=t.RG16I),he===t.INT&&(De=t.RG32I)),X===t.RGB_INTEGER&&(he===t.UNSIGNED_BYTE&&(De=t.RGB8UI),he===t.UNSIGNED_SHORT&&(De=t.RGB16UI),he===t.UNSIGNED_INT&&(De=t.RGB32UI),he===t.BYTE&&(De=t.RGB8I),he===t.SHORT&&(De=t.RGB16I),he===t.INT&&(De=t.RGB32I)),X===t.RGBA_INTEGER&&(he===t.UNSIGNED_BYTE&&(De=t.RGBA8UI),he===t.UNSIGNED_SHORT&&(De=t.RGBA16UI),he===t.UNSIGNED_INT&&(De=t.RGBA32UI),he===t.BYTE&&(De=t.RGBA8I),he===t.SHORT&&(De=t.RGBA16I),he===t.INT&&(De=t.RGBA32I)),X===t.RGB&&he===t.UNSIGNED_INT_5_9_9_9_REV&&(De=t.RGB9_E5),X===t.RGBA){const qe=Me?Ty:Wn.getTransfer(Se);he===t.FLOAT&&(De=t.RGBA32F),he===t.HALF_FLOAT&&(De=t.RGBA16F),he===t.UNSIGNED_BYTE&&(De=qe===sr?t.SRGB8_ALPHA8:t.RGBA8),he===t.UNSIGNED_SHORT_4_4_4_4&&(De=t.RGBA4),he===t.UNSIGNED_SHORT_5_5_5_1&&(De=t.RGB5_A1)}return(De===t.R16F||De===t.R32F||De===t.RG16F||De===t.RG32F||De===t.RGBA16F||De===t.RGBA32F)&&e.get("EXT_color_buffer_float"),De}function M(J,X){let he;return J?X===null||X===nc||X===ch?he=t.DEPTH24_STENCIL8:X===uo?he=t.DEPTH32F_STENCIL8:X===Em&&(he=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):X===null||X===nc||X===ch?he=t.DEPTH_COMPONENT24:X===uo?he=t.DEPTH_COMPONENT32F:X===Em&&(he=t.DEPTH_COMPONENT16),he}function C(J,X){return _(J)===!0||J.isFramebufferTexture&&J.minFilter!==Wi&&J.minFilter!==zr?Math.log2(Math.max(X.width,X.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?X.mipmaps.length:1}function I(J){const X=J.target;X.removeEventListener("dispose",I),P(X),X.isVideoTexture&&f.delete(X)}function B(J){const X=J.target;X.removeEventListener("dispose",B),E(X)}function P(J){const X=r.get(J);if(X.__webglInit===void 0)return;const he=J.source,Se=p.get(he);if(Se){const Me=Se[X.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&L(J),Object.keys(Se).length===0&&p.delete(he)}r.remove(J)}function L(J){const X=r.get(J);t.deleteTexture(X.__webglTexture);const he=J.source,Se=p.get(he);delete Se[X.__cacheKey],o.memory.textures--}function E(J){const X=r.get(J);if(J.depthTexture&&(J.depthTexture.dispose(),r.remove(J.depthTexture)),J.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(X.__webglFramebuffer[Se]))for(let Me=0;Me<X.__webglFramebuffer[Se].length;Me++)t.deleteFramebuffer(X.__webglFramebuffer[Se][Me]);else t.deleteFramebuffer(X.__webglFramebuffer[Se]);X.__webglDepthbuffer&&t.deleteRenderbuffer(X.__webglDepthbuffer[Se])}else{if(Array.isArray(X.__webglFramebuffer))for(let Se=0;Se<X.__webglFramebuffer.length;Se++)t.deleteFramebuffer(X.__webglFramebuffer[Se]);else t.deleteFramebuffer(X.__webglFramebuffer);if(X.__webglDepthbuffer&&t.deleteRenderbuffer(X.__webglDepthbuffer),X.__webglMultisampledFramebuffer&&t.deleteFramebuffer(X.__webglMultisampledFramebuffer),X.__webglColorRenderbuffer)for(let Se=0;Se<X.__webglColorRenderbuffer.length;Se++)X.__webglColorRenderbuffer[Se]&&t.deleteRenderbuffer(X.__webglColorRenderbuffer[Se]);X.__webglDepthRenderbuffer&&t.deleteRenderbuffer(X.__webglDepthRenderbuffer)}const he=J.textures;for(let Se=0,Me=he.length;Se<Me;Se++){const De=r.get(he[Se]);De.__webglTexture&&(t.deleteTexture(De.__webglTexture),o.memory.textures--),r.remove(he[Se])}r.remove(J)}let O=0;function U(){O=0}function H(){const J=O;return J>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+i.maxTextures),O+=1,J}function q(J){const X=[];return X.push(J.wrapS),X.push(J.wrapT),X.push(J.wrapR||0),X.push(J.magFilter),X.push(J.minFilter),X.push(J.anisotropy),X.push(J.internalFormat),X.push(J.format),X.push(J.type),X.push(J.generateMipmaps),X.push(J.premultiplyAlpha),X.push(J.flipY),X.push(J.unpackAlignment),X.push(J.colorSpace),X.join()}function te(J,X){const he=r.get(J);if(J.isVideoTexture&&Ae(J),J.isRenderTargetTexture===!1&&J.version>0&&he.__version!==J.version){const Se=J.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Z(he,J,X);return}}n.bindTexture(t.TEXTURE_2D,he.__webglTexture,t.TEXTURE0+X)}function $(J,X){const he=r.get(J);if(J.version>0&&he.__version!==J.version){Z(he,J,X);return}n.bindTexture(t.TEXTURE_2D_ARRAY,he.__webglTexture,t.TEXTURE0+X)}function ie(J,X){const he=r.get(J);if(J.version>0&&he.__version!==J.version){Z(he,J,X);return}n.bindTexture(t.TEXTURE_3D,he.__webglTexture,t.TEXTURE0+X)}function W(J,X){const he=r.get(J);if(J.version>0&&he.__version!==J.version){se(he,J,X);return}n.bindTexture(t.TEXTURE_CUBE_MAP,he.__webglTexture,t.TEXTURE0+X)}const Y={[vf]:t.REPEAT,[Bo]:t.CLAMP_TO_EDGE,[Mm]:t.MIRRORED_REPEAT},Q={[Wi]:t.NEAREST,[aA]:t.NEAREST_MIPMAP_NEAREST,[Hd]:t.NEAREST_MIPMAP_LINEAR,[zr]:t.LINEAR,[lm]:t.LINEAR_MIPMAP_NEAREST,[la]:t.LINEAR_MIPMAP_LINEAR},z={[mG]:t.NEVER,[SG]:t.ALWAYS,[gG]:t.LESS,[H2]:t.LEQUAL,[vG]:t.EQUAL,[_G]:t.GEQUAL,[yG]:t.GREATER,[xG]:t.NOTEQUAL};function K(J,X){if(X.type===uo&&e.has("OES_texture_float_linear")===!1&&(X.magFilter===zr||X.magFilter===lm||X.magFilter===Hd||X.magFilter===la||X.minFilter===zr||X.minFilter===lm||X.minFilter===Hd||X.minFilter===la)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(J,t.TEXTURE_WRAP_S,Y[X.wrapS]),t.texParameteri(J,t.TEXTURE_WRAP_T,Y[X.wrapT]),(J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY)&&t.texParameteri(J,t.TEXTURE_WRAP_R,Y[X.wrapR]),t.texParameteri(J,t.TEXTURE_MAG_FILTER,Q[X.magFilter]),t.texParameteri(J,t.TEXTURE_MIN_FILTER,Q[X.minFilter]),X.compareFunction&&(t.texParameteri(J,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(J,t.TEXTURE_COMPARE_FUNC,z[X.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(X.magFilter===Wi||X.minFilter!==Hd&&X.minFilter!==la||X.type===uo&&e.has("OES_texture_float_linear")===!1)return;if(X.anisotropy>1||r.get(X).__currentAnisotropy){const he=e.get("EXT_texture_filter_anisotropic");t.texParameterf(J,he.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,i.getMaxAnisotropy())),r.get(X).__currentAnisotropy=X.anisotropy}}}function ae(J,X){let he=!1;J.__webglInit===void 0&&(J.__webglInit=!0,X.addEventListener("dispose",I));const Se=X.source;let Me=p.get(Se);Me===void 0&&(Me={},p.set(Se,Me));const De=q(X);if(De!==J.__cacheKey){Me[De]===void 0&&(Me[De]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,he=!0),Me[De].usedTimes++;const qe=Me[J.__cacheKey];qe!==void 0&&(Me[J.__cacheKey].usedTimes--,qe.usedTimes===0&&L(X)),J.__cacheKey=De,J.__webglTexture=Me[De].texture}return he}function Z(J,X,he){let Se=t.TEXTURE_2D;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(Se=t.TEXTURE_2D_ARRAY),X.isData3DTexture&&(Se=t.TEXTURE_3D);const Me=ae(J,X),De=X.source;n.bindTexture(Se,J.__webglTexture,t.TEXTURE0+he);const qe=r.get(De);if(De.version!==qe.__version||Me===!0){n.activeTexture(t.TEXTURE0+he);const Ne=Wn.getPrimaries(Wn.workingColorSpace),Ke=X.colorSpace===Nu?null:Wn.getPrimaries(X.colorSpace),ft=X.colorSpace===Nu||Ne===Ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,X.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,X.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);let Xe=S(X.image,!1,i.maxTextureSize);Xe=tt(X,Xe);const ot=s.convert(X.format,X.colorSpace),at=s.convert(X.type);let mt=w(X.internalFormat,ot,at,X.colorSpace,X.isVideoTexture);K(Se,X);let $e;const pe=X.mipmaps,ze=X.isVideoTexture!==!0,vt=qe.__version===void 0||Me===!0,de=De.dataReady,je=C(X,Xe);if(X.isDepthTexture)mt=M(X.format===fh,X.type),vt&&(ze?n.texStorage2D(t.TEXTURE_2D,1,mt,Xe.width,Xe.height):n.texImage2D(t.TEXTURE_2D,0,mt,Xe.width,Xe.height,0,ot,at,null));else if(X.isDataTexture)if(pe.length>0){ze&&vt&&n.texStorage2D(t.TEXTURE_2D,je,mt,pe[0].width,pe[0].height);for(let Ie=0,Ye=pe.length;Ie<Ye;Ie++)$e=pe[Ie],ze?de&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,$e.width,$e.height,ot,at,$e.data):n.texImage2D(t.TEXTURE_2D,Ie,mt,$e.width,$e.height,0,ot,at,$e.data);X.generateMipmaps=!1}else ze?(vt&&n.texStorage2D(t.TEXTURE_2D,je,mt,Xe.width,Xe.height),de&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Xe.width,Xe.height,ot,at,Xe.data)):n.texImage2D(t.TEXTURE_2D,0,mt,Xe.width,Xe.height,0,ot,at,Xe.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){ze&&vt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,je,mt,pe[0].width,pe[0].height,Xe.depth);for(let Ie=0,Ye=pe.length;Ie<Ye;Ie++)if($e=pe[Ie],X.format!==ws)if(ot!==null)if(ze){if(de)if(X.layerUpdates.size>0){const ut=bT($e.width,$e.height,X.format,X.type);for(const st of X.layerUpdates){const Mt=$e.data.subarray(st*ut/$e.data.BYTES_PER_ELEMENT,(st+1)*ut/$e.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,st,$e.width,$e.height,1,ot,Mt)}X.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,$e.width,$e.height,Xe.depth,ot,$e.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ie,mt,$e.width,$e.height,Xe.depth,0,$e.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ze?de&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,$e.width,$e.height,Xe.depth,ot,at,$e.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ie,mt,$e.width,$e.height,Xe.depth,0,ot,at,$e.data)}else{ze&&vt&&n.texStorage2D(t.TEXTURE_2D,je,mt,pe[0].width,pe[0].height);for(let Ie=0,Ye=pe.length;Ie<Ye;Ie++)$e=pe[Ie],X.format!==ws?ot!==null?ze?de&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ie,0,0,$e.width,$e.height,ot,$e.data):n.compressedTexImage2D(t.TEXTURE_2D,Ie,mt,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ze?de&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,$e.width,$e.height,ot,at,$e.data):n.texImage2D(t.TEXTURE_2D,Ie,mt,$e.width,$e.height,0,ot,at,$e.data)}else if(X.isDataArrayTexture)if(ze){if(vt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,je,mt,Xe.width,Xe.height,Xe.depth),de)if(X.layerUpdates.size>0){const Ie=bT(Xe.width,Xe.height,X.format,X.type);for(const Ye of X.layerUpdates){const ut=Xe.data.subarray(Ye*Ie/Xe.data.BYTES_PER_ELEMENT,(Ye+1)*Ie/Xe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ye,Xe.width,Xe.height,1,ot,at,ut)}X.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Xe.width,Xe.height,Xe.depth,ot,at,Xe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,mt,Xe.width,Xe.height,Xe.depth,0,ot,at,Xe.data);else if(X.isData3DTexture)ze?(vt&&n.texStorage3D(t.TEXTURE_3D,je,mt,Xe.width,Xe.height,Xe.depth),de&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Xe.width,Xe.height,Xe.depth,ot,at,Xe.data)):n.texImage3D(t.TEXTURE_3D,0,mt,Xe.width,Xe.height,Xe.depth,0,ot,at,Xe.data);else if(X.isFramebufferTexture){if(vt)if(ze)n.texStorage2D(t.TEXTURE_2D,je,mt,Xe.width,Xe.height);else{let Ie=Xe.width,Ye=Xe.height;for(let ut=0;ut<je;ut++)n.texImage2D(t.TEXTURE_2D,ut,mt,Ie,Ye,0,ot,at,null),Ie>>=1,Ye>>=1}}else if(pe.length>0){if(ze&&vt){const Ie=Fe(pe[0]);n.texStorage2D(t.TEXTURE_2D,je,mt,Ie.width,Ie.height)}for(let Ie=0,Ye=pe.length;Ie<Ye;Ie++)$e=pe[Ie],ze?de&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,ot,at,$e):n.texImage2D(t.TEXTURE_2D,Ie,mt,ot,at,$e);X.generateMipmaps=!1}else if(ze){if(vt){const Ie=Fe(Xe);n.texStorage2D(t.TEXTURE_2D,je,mt,Ie.width,Ie.height)}de&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ot,at,Xe)}else n.texImage2D(t.TEXTURE_2D,0,mt,ot,at,Xe);_(X)&&x(Se),qe.__version=De.version,X.onUpdate&&X.onUpdate(X)}J.__version=X.version}function se(J,X,he){if(X.image.length!==6)return;const Se=ae(J,X),Me=X.source;n.bindTexture(t.TEXTURE_CUBE_MAP,J.__webglTexture,t.TEXTURE0+he);const De=r.get(Me);if(Me.version!==De.__version||Se===!0){n.activeTexture(t.TEXTURE0+he);const qe=Wn.getPrimaries(Wn.workingColorSpace),Ne=X.colorSpace===Nu?null:Wn.getPrimaries(X.colorSpace),Ke=X.colorSpace===Nu||qe===Ne?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,X.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,X.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ke);const ft=X.isCompressedTexture||X.image[0].isCompressedTexture,Xe=X.image[0]&&X.image[0].isDataTexture,ot=[];for(let Ye=0;Ye<6;Ye++)!ft&&!Xe?ot[Ye]=S(X.image[Ye],!0,i.maxCubemapSize):ot[Ye]=Xe?X.image[Ye].image:X.image[Ye],ot[Ye]=tt(X,ot[Ye]);const at=ot[0],mt=s.convert(X.format,X.colorSpace),$e=s.convert(X.type),pe=w(X.internalFormat,mt,$e,X.colorSpace),ze=X.isVideoTexture!==!0,vt=De.__version===void 0||Se===!0,de=Me.dataReady;let je=C(X,at);K(t.TEXTURE_CUBE_MAP,X);let Ie;if(ft){ze&&vt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,je,pe,at.width,at.height);for(let Ye=0;Ye<6;Ye++){Ie=ot[Ye].mipmaps;for(let ut=0;ut<Ie.length;ut++){const st=Ie[ut];X.format!==ws?mt!==null?ze?de&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ut,0,0,st.width,st.height,mt,st.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ut,pe,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ze?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ut,0,0,st.width,st.height,mt,$e,st.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ut,pe,st.width,st.height,0,mt,$e,st.data)}}}else{if(Ie=X.mipmaps,ze&&vt){Ie.length>0&&je++;const Ye=Fe(ot[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,je,pe,Ye.width,Ye.height)}for(let Ye=0;Ye<6;Ye++)if(Xe){ze?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,ot[Ye].width,ot[Ye].height,mt,$e,ot[Ye].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,pe,ot[Ye].width,ot[Ye].height,0,mt,$e,ot[Ye].data);for(let ut=0;ut<Ie.length;ut++){const Mt=Ie[ut].image[Ye].image;ze?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ut+1,0,0,Mt.width,Mt.height,mt,$e,Mt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ut+1,pe,Mt.width,Mt.height,0,mt,$e,Mt.data)}}else{ze?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,mt,$e,ot[Ye]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,pe,mt,$e,ot[Ye]);for(let ut=0;ut<Ie.length;ut++){const st=Ie[ut];ze?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ut+1,0,0,mt,$e,st.image[Ye]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ut+1,pe,mt,$e,st.image[Ye])}}}_(X)&&x(t.TEXTURE_CUBE_MAP),De.__version=Me.version,X.onUpdate&&X.onUpdate(X)}J.__version=X.version}function oe(J,X,he,Se,Me,De){const qe=s.convert(he.format,he.colorSpace),Ne=s.convert(he.type),Ke=w(he.internalFormat,qe,Ne,he.colorSpace),ft=r.get(X),Xe=r.get(he);if(Xe.__renderTarget=X,!ft.__hasExternalTextures){const ot=Math.max(1,X.width>>De),at=Math.max(1,X.height>>De);Me===t.TEXTURE_3D||Me===t.TEXTURE_2D_ARRAY?n.texImage3D(Me,De,Ke,ot,at,X.depth,0,qe,Ne,null):n.texImage2D(Me,De,Ke,ot,at,0,qe,Ne,null)}n.bindFramebuffer(t.FRAMEBUFFER,J),Ze(X)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Se,Me,Xe.__webglTexture,0,ke(X)):(Me===t.TEXTURE_2D||Me>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Se,Me,Xe.__webglTexture,De),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ue(J,X,he){if(t.bindRenderbuffer(t.RENDERBUFFER,J),X.depthBuffer){const Se=X.depthTexture,Me=Se&&Se.isDepthTexture?Se.type:null,De=M(X.stencilBuffer,Me),qe=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ne=ke(X);Ze(X)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ne,De,X.width,X.height):he?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ne,De,X.width,X.height):t.renderbufferStorage(t.RENDERBUFFER,De,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,qe,t.RENDERBUFFER,J)}else{const Se=X.textures;for(let Me=0;Me<Se.length;Me++){const De=Se[Me],qe=s.convert(De.format,De.colorSpace),Ne=s.convert(De.type),Ke=w(De.internalFormat,qe,Ne,De.colorSpace),ft=ke(X);he&&Ze(X)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ft,Ke,X.width,X.height):Ze(X)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ft,Ke,X.width,X.height):t.renderbufferStorage(t.RENDERBUFFER,Ke,X.width,X.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ve(J,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,J),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Se=r.get(X.depthTexture);Se.__renderTarget=X,(!Se.__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),te(X.depthTexture,0);const Me=Se.__webglTexture,De=ke(X);if(X.depthTexture.format===$d)Ze(X)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Me,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Me,0);else if(X.depthTexture.format===fh)Ze(X)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Me,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Me,0);else throw new Error("Unknown depthTexture format")}function Be(J){const X=r.get(J),he=J.isWebGLCubeRenderTarget===!0;if(X.__boundDepthTexture!==J.depthTexture){const Se=J.depthTexture;if(X.__depthDisposeCallback&&X.__depthDisposeCallback(),Se){const Me=()=>{delete X.__boundDepthTexture,delete X.__depthDisposeCallback,Se.removeEventListener("dispose",Me)};Se.addEventListener("dispose",Me),X.__depthDisposeCallback=Me}X.__boundDepthTexture=Se}if(J.depthTexture&&!X.__autoAllocateDepthBuffer){if(he)throw new Error("target.depthTexture not supported in Cube render targets");ve(X.__webglFramebuffer,J)}else if(he){X.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)if(n.bindFramebuffer(t.FRAMEBUFFER,X.__webglFramebuffer[Se]),X.__webglDepthbuffer[Se]===void 0)X.__webglDepthbuffer[Se]=t.createRenderbuffer(),ue(X.__webglDepthbuffer[Se],J,!1);else{const Me=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,De=X.__webglDepthbuffer[Se];t.bindRenderbuffer(t.RENDERBUFFER,De),t.framebufferRenderbuffer(t.FRAMEBUFFER,Me,t.RENDERBUFFER,De)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,X.__webglFramebuffer),X.__webglDepthbuffer===void 0)X.__webglDepthbuffer=t.createRenderbuffer(),ue(X.__webglDepthbuffer,J,!1);else{const Se=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=X.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Se,t.RENDERBUFFER,Me)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Le(J,X,he){const Se=r.get(J);X!==void 0&&oe(Se.__webglFramebuffer,J,J.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),he!==void 0&&Be(J)}function Ve(J){const X=J.texture,he=r.get(J),Se=r.get(X);J.addEventListener("dispose",B);const Me=J.textures,De=J.isWebGLCubeRenderTarget===!0,qe=Me.length>1;if(qe||(Se.__webglTexture===void 0&&(Se.__webglTexture=t.createTexture()),Se.__version=X.version,o.memory.textures++),De){he.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)if(X.mipmaps&&X.mipmaps.length>0){he.__webglFramebuffer[Ne]=[];for(let Ke=0;Ke<X.mipmaps.length;Ke++)he.__webglFramebuffer[Ne][Ke]=t.createFramebuffer()}else he.__webglFramebuffer[Ne]=t.createFramebuffer()}else{if(X.mipmaps&&X.mipmaps.length>0){he.__webglFramebuffer=[];for(let Ne=0;Ne<X.mipmaps.length;Ne++)he.__webglFramebuffer[Ne]=t.createFramebuffer()}else he.__webglFramebuffer=t.createFramebuffer();if(qe)for(let Ne=0,Ke=Me.length;Ne<Ke;Ne++){const ft=r.get(Me[Ne]);ft.__webglTexture===void 0&&(ft.__webglTexture=t.createTexture(),o.memory.textures++)}if(J.samples>0&&Ze(J)===!1){he.__webglMultisampledFramebuffer=t.createFramebuffer(),he.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,he.__webglMultisampledFramebuffer);for(let Ne=0;Ne<Me.length;Ne++){const Ke=Me[Ne];he.__webglColorRenderbuffer[Ne]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,he.__webglColorRenderbuffer[Ne]);const ft=s.convert(Ke.format,Ke.colorSpace),Xe=s.convert(Ke.type),ot=w(Ke.internalFormat,ft,Xe,Ke.colorSpace,J.isXRRenderTarget===!0),at=ke(J);t.renderbufferStorageMultisample(t.RENDERBUFFER,at,ot,J.width,J.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.RENDERBUFFER,he.__webglColorRenderbuffer[Ne])}t.bindRenderbuffer(t.RENDERBUFFER,null),J.depthBuffer&&(he.__webglDepthRenderbuffer=t.createRenderbuffer(),ue(he.__webglDepthRenderbuffer,J,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(De){n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture),K(t.TEXTURE_CUBE_MAP,X);for(let Ne=0;Ne<6;Ne++)if(X.mipmaps&&X.mipmaps.length>0)for(let Ke=0;Ke<X.mipmaps.length;Ke++)oe(he.__webglFramebuffer[Ne][Ke],J,X,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,Ke);else oe(he.__webglFramebuffer[Ne],J,X,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0);_(X)&&x(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(qe){for(let Ne=0,Ke=Me.length;Ne<Ke;Ne++){const ft=Me[Ne],Xe=r.get(ft);n.bindTexture(t.TEXTURE_2D,Xe.__webglTexture),K(t.TEXTURE_2D,ft),oe(he.__webglFramebuffer,J,ft,t.COLOR_ATTACHMENT0+Ne,t.TEXTURE_2D,0),_(ft)&&x(t.TEXTURE_2D)}n.unbindTexture()}else{let Ne=t.TEXTURE_2D;if((J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(Ne=J.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ne,Se.__webglTexture),K(Ne,X),X.mipmaps&&X.mipmaps.length>0)for(let Ke=0;Ke<X.mipmaps.length;Ke++)oe(he.__webglFramebuffer[Ke],J,X,t.COLOR_ATTACHMENT0,Ne,Ke);else oe(he.__webglFramebuffer,J,X,t.COLOR_ATTACHMENT0,Ne,0);_(X)&&x(Ne),n.unbindTexture()}J.depthBuffer&&Be(J)}function xe(J){const X=J.textures;for(let he=0,Se=X.length;he<Se;he++){const Me=X[he];if(_(Me)){const De=b(J),qe=r.get(Me).__webglTexture;n.bindTexture(De,qe),x(De),n.unbindTexture()}}}const Te=[],re=[];function nt(J){if(J.samples>0){if(Ze(J)===!1){const X=J.textures,he=J.width,Se=J.height;let Me=t.COLOR_BUFFER_BIT;const De=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,qe=r.get(J),Ne=X.length>1;if(Ne)for(let Ke=0;Ke<X.length;Ke++)n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ke,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ke,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,qe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglFramebuffer);for(let Ke=0;Ke<X.length;Ke++){if(J.resolveDepthBuffer&&(J.depthBuffer&&(Me|=t.DEPTH_BUFFER_BIT),J.stencilBuffer&&J.resolveStencilBuffer&&(Me|=t.STENCIL_BUFFER_BIT)),Ne){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,qe.__webglColorRenderbuffer[Ke]);const ft=r.get(X[Ke]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ft,0)}t.blitFramebuffer(0,0,he,Se,0,0,he,Se,Me,t.NEAREST),l===!0&&(Te.length=0,re.length=0,Te.push(t.COLOR_ATTACHMENT0+Ke),J.depthBuffer&&J.resolveDepthBuffer===!1&&(Te.push(De),re.push(De),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,re)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Te))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ne)for(let Ke=0;Ke<X.length;Ke++){n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ke,t.RENDERBUFFER,qe.__webglColorRenderbuffer[Ke]);const ft=r.get(X[Ke]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ke,t.TEXTURE_2D,ft,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglMultisampledFramebuffer)}else if(J.depthBuffer&&J.resolveDepthBuffer===!1&&l){const X=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[X])}}}function ke(J){return Math.min(i.maxSamples,J.samples)}function Ze(J){const X=r.get(J);return J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function Ae(J){const X=o.render.frame;f.get(J)!==X&&(f.set(J,X),J.update())}function tt(J,X){const he=J.colorSpace,Se=J.format,Me=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||he!==dh&&he!==Nu&&(Wn.getTransfer(he)===sr?(Se!==ws||Me!==il)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",he)),X}function Fe(J){return typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement?(u.width=J.naturalWidth||J.width,u.height=J.naturalHeight||J.height):typeof VideoFrame<"u"&&J instanceof VideoFrame?(u.width=J.displayWidth,u.height=J.displayHeight):(u.width=J.width,u.height=J.height),u}this.allocateTextureUnit=H,this.resetTextureUnits=U,this.setTexture2D=te,this.setTexture2DArray=$,this.setTexture3D=ie,this.setTextureCube=W,this.rebindTextures=Le,this.setupRenderTarget=Ve,this.updateRenderTargetMipmap=xe,this.updateMultisampleRenderTarget=nt,this.setupDepthRenderbuffer=Be,this.setupFrameBufferTexture=oe,this.useMultisampledRTT=Ze}function bH(t,e){function n(r,i=Nu){let s;const o=Wn.getTransfer(i);if(r===il)return t.UNSIGNED_BYTE;if(r===uA)return t.UNSIGNED_SHORT_4_4_4_4;if(r===cA)return t.UNSIGNED_SHORT_5_5_5_1;if(r===B2)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===P2)return t.BYTE;if(r===I2)return t.SHORT;if(r===Em)return t.UNSIGNED_SHORT;if(r===lA)return t.INT;if(r===nc)return t.UNSIGNED_INT;if(r===uo)return t.FLOAT;if(r===Hm)return t.HALF_FLOAT;if(r===D2)return t.ALPHA;if(r===L2)return t.RGB;if(r===ws)return t.RGBA;if(r===F2)return t.LUMINANCE;if(r===O2)return t.LUMINANCE_ALPHA;if(r===$d)return t.DEPTH_COMPONENT;if(r===fh)return t.DEPTH_STENCIL;if(r===fA)return t.RED;if(r===d0)return t.RED_INTEGER;if(r===k2)return t.RG;if(r===dA)return t.RG_INTEGER;if(r===hA)return t.RGBA_INTEGER;if(r===Hv||r===Vv||r===jv||r===Wv)if(o===sr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===Hv)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Vv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===jv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Wv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Hv)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Vv)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===jv)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Wv)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===U1||r===N1||r===z1||r===G1)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===U1)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===N1)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===z1)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===G1)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===H1||r===V1||r===j1)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===H1||r===V1)return o===sr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===j1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===W1||r===X1||r===q1||r===K1||r===J1||r===Y1||r===$1||r===Q1||r===Z1||r===eS||r===tS||r===nS||r===rS||r===iS)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===W1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===X1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===q1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===K1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===J1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Y1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===$1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Q1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Z1)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===eS)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===tS)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===nS)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===rS)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===iS)return o===sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Xv||r===sS||r===oS)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===Xv)return o===sr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===sS)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===oS)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===U2||r===aS||r===lS||r===uS)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===Xv)return s.COMPRESSED_RED_RGTC1_EXT;if(r===aS)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===lS)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===uS)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===ch?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const Qde=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Zde=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ehe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Rr,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new sl({vertexShader:Qde,fragmentShader:Zde,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Lr(new ac(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class the extends Yl{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,f=null,d=null,p=null,g=null,y=null;const S=new ehe,_=n.getContextAttributes();let x=null,b=null;const w=[],M=[],C=new it;let I=null;const B=new Qr;B.viewport=new Nn;const P=new Qr;P.viewport=new Nn;const L=[B,P],E=new hH;let O=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let se=w[Z];return se===void 0&&(se=new t1,w[Z]=se),se.getTargetRaySpace()},this.getControllerGrip=function(Z){let se=w[Z];return se===void 0&&(se=new t1,w[Z]=se),se.getGripSpace()},this.getHand=function(Z){let se=w[Z];return se===void 0&&(se=new t1,w[Z]=se),se.getHandSpace()};function H(Z){const se=M.indexOf(Z.inputSource);if(se===-1)return;const oe=w[se];oe!==void 0&&(oe.update(Z.inputSource,Z.frame,u||o),oe.dispatchEvent({type:Z.type,data:Z.inputSource}))}function q(){i.removeEventListener("select",H),i.removeEventListener("selectstart",H),i.removeEventListener("selectend",H),i.removeEventListener("squeeze",H),i.removeEventListener("squeezestart",H),i.removeEventListener("squeezeend",H),i.removeEventListener("end",q),i.removeEventListener("inputsourceschange",te);for(let Z=0;Z<w.length;Z++){const se=M[Z];se!==null&&(M[Z]=null,w[Z].disconnect(se))}O=null,U=null,S.reset(),e.setRenderTarget(x),g=null,p=null,d=null,i=null,b=null,ae.stop(),r.isPresenting=!1,e.setPixelRatio(I),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){s=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){a=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(Z){u=Z},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(Z){if(i=Z,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",H),i.addEventListener("selectstart",H),i.addEventListener("selectend",H),i.addEventListener("squeeze",H),i.addEventListener("squeezestart",H),i.addEventListener("squeezeend",H),i.addEventListener("end",q),i.addEventListener("inputsourceschange",te),_.xrCompatible!==!0&&await n.makeXRCompatible(),I=e.getPixelRatio(),e.getSize(C),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let oe=null,ue=null,ve=null;_.depth&&(ve=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,oe=_.stencil?fh:$d,ue=_.stencil?ch:nc);const Be={colorFormat:n.RGBA8,depthFormat:ve,scaleFactor:s};d=new XRWebGLBinding(i,n),p=d.createProjectionLayer(Be),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),b=new Jl(p.textureWidth,p.textureHeight,{format:ws,type:il,depthTexture:new Z2(p.textureWidth,p.textureHeight,ue,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const oe={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,n,oe),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),b=new Jl(g.framebufferWidth,g.framebufferHeight,{format:ws,type:il,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),ae.setContext(i),ae.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function te(Z){for(let se=0;se<Z.removed.length;se++){const oe=Z.removed[se],ue=M.indexOf(oe);ue>=0&&(M[ue]=null,w[ue].disconnect(oe))}for(let se=0;se<Z.added.length;se++){const oe=Z.added[se];let ue=M.indexOf(oe);if(ue===-1){for(let Be=0;Be<w.length;Be++)if(Be>=M.length){M.push(oe),ue=Be;break}else if(M[Be]===null){M[Be]=oe,ue=Be;break}if(ue===-1)break}const ve=w[ue];ve&&ve.connect(oe)}}const $=new le,ie=new le;function W(Z,se,oe){$.setFromMatrixPosition(se.matrixWorld),ie.setFromMatrixPosition(oe.matrixWorld);const ue=$.distanceTo(ie),ve=se.projectionMatrix.elements,Be=oe.projectionMatrix.elements,Le=ve[14]/(ve[10]-1),Ve=ve[14]/(ve[10]+1),xe=(ve[9]+1)/ve[5],Te=(ve[9]-1)/ve[5],re=(ve[8]-1)/ve[0],nt=(Be[8]+1)/Be[0],ke=Le*re,Ze=Le*nt,Ae=ue/(-re+nt),tt=Ae*-re;if(se.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(tt),Z.translateZ(Ae),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert(),ve[10]===-1)Z.projectionMatrix.copy(se.projectionMatrix),Z.projectionMatrixInverse.copy(se.projectionMatrixInverse);else{const Fe=Le+Ae,J=Ve+Ae,X=ke-tt,he=Ze+(ue-tt),Se=xe*Ve/J*Fe,Me=Te*Ve/J*Fe;Z.projectionMatrix.makePerspective(X,he,Se,Me,Fe,J),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}}function Y(Z,se){se===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(se.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(i===null)return;let se=Z.near,oe=Z.far;S.texture!==null&&(S.depthNear>0&&(se=S.depthNear),S.depthFar>0&&(oe=S.depthFar)),E.near=P.near=B.near=se,E.far=P.far=B.far=oe,(O!==E.near||U!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),O=E.near,U=E.far),B.layers.mask=Z.layers.mask|2,P.layers.mask=Z.layers.mask|4,E.layers.mask=B.layers.mask|P.layers.mask;const ue=Z.parent,ve=E.cameras;Y(E,ue);for(let Be=0;Be<ve.length;Be++)Y(ve[Be],ue);ve.length===2?W(E,B,P):E.projectionMatrix.copy(B.projectionMatrix),Q(Z,E,ue)};function Q(Z,se,oe){oe===null?Z.matrix.copy(se.matrixWorld):(Z.matrix.copy(oe.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(se.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(se.projectionMatrix),Z.projectionMatrixInverse.copy(se.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=Rm*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return E},this.getFoveation=function(){if(!(p===null&&g===null))return l},this.setFoveation=function(Z){l=Z,p!==null&&(p.fixedFoveation=Z),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=Z)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(E)};let z=null;function K(Z,se){if(f=se.getViewerPose(u||o),y=se,f!==null){const oe=f.views;g!==null&&(e.setRenderTargetFramebuffer(b,g.framebuffer),e.setRenderTarget(b));let ue=!1;oe.length!==E.cameras.length&&(E.cameras.length=0,ue=!0);for(let Le=0;Le<oe.length;Le++){const Ve=oe[Le];let xe=null;if(g!==null)xe=g.getViewport(Ve);else{const re=d.getViewSubImage(p,Ve);xe=re.viewport,Le===0&&(e.setRenderTargetTextures(b,re.colorTexture,p.ignoreDepthValues?void 0:re.depthStencilTexture),e.setRenderTarget(b))}let Te=L[Le];Te===void 0&&(Te=new Qr,Te.layers.enable(Le),Te.viewport=new Nn,L[Le]=Te),Te.matrix.fromArray(Ve.transform.matrix),Te.matrix.decompose(Te.position,Te.quaternion,Te.scale),Te.projectionMatrix.fromArray(Ve.projectionMatrix),Te.projectionMatrixInverse.copy(Te.projectionMatrix).invert(),Te.viewport.set(xe.x,xe.y,xe.width,xe.height),Le===0&&(E.matrix.copy(Te.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),ue===!0&&E.cameras.push(Te)}const ve=i.enabledFeatures;if(ve&&ve.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&d){const Le=d.getDepthInformation(oe[0]);Le&&Le.isValid&&Le.texture&&S.init(e,Le,i.renderState)}}for(let oe=0;oe<w.length;oe++){const ue=M[oe],ve=w[oe];ue!==null&&ve!==void 0&&ve.update(ue,se,u||o)}z&&z(Z,se),se.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:se}),y=null}const ae=new xH;ae.setAnimationLoop(K),this.setAnimationLoop=function(Z){z=Z},this.dispose=function(){}}}const Sd=new Uo,nhe=new tn;function rhe(t,e){function n(_,x){_.matrixAutoUpdate===!0&&_.updateMatrix(),x.value.copy(_.matrix)}function r(_,x){x.color.getRGB(_.fogColor.value,CG(t)),x.isFog?(_.fogNear.value=x.near,_.fogFar.value=x.far):x.isFogExp2&&(_.fogDensity.value=x.density)}function i(_,x,b,w,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(_,x):x.isMeshToonMaterial?(s(_,x),d(_,x)):x.isMeshPhongMaterial?(s(_,x),f(_,x)):x.isMeshStandardMaterial?(s(_,x),p(_,x),x.isMeshPhysicalMaterial&&g(_,x,M)):x.isMeshMatcapMaterial?(s(_,x),y(_,x)):x.isMeshDepthMaterial?s(_,x):x.isMeshDistanceMaterial?(s(_,x),S(_,x)):x.isMeshNormalMaterial?s(_,x):x.isLineBasicMaterial?(o(_,x),x.isLineDashedMaterial&&a(_,x)):x.isPointsMaterial?l(_,x,b,w):x.isSpriteMaterial?u(_,x):x.isShadowMaterial?(_.color.value.copy(x.color),_.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(_,x){_.opacity.value=x.opacity,x.color&&_.diffuse.value.copy(x.color),x.emissive&&_.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(_.map.value=x.map,n(x.map,_.mapTransform)),x.alphaMap&&(_.alphaMap.value=x.alphaMap,n(x.alphaMap,_.alphaMapTransform)),x.bumpMap&&(_.bumpMap.value=x.bumpMap,n(x.bumpMap,_.bumpMapTransform),_.bumpScale.value=x.bumpScale,x.side===Ws&&(_.bumpScale.value*=-1)),x.normalMap&&(_.normalMap.value=x.normalMap,n(x.normalMap,_.normalMapTransform),_.normalScale.value.copy(x.normalScale),x.side===Ws&&_.normalScale.value.negate()),x.displacementMap&&(_.displacementMap.value=x.displacementMap,n(x.displacementMap,_.displacementMapTransform),_.displacementScale.value=x.displacementScale,_.displacementBias.value=x.displacementBias),x.emissiveMap&&(_.emissiveMap.value=x.emissiveMap,n(x.emissiveMap,_.emissiveMapTransform)),x.specularMap&&(_.specularMap.value=x.specularMap,n(x.specularMap,_.specularMapTransform)),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest);const b=e.get(x),w=b.envMap,M=b.envMapRotation;w&&(_.envMap.value=w,Sd.copy(M),Sd.x*=-1,Sd.y*=-1,Sd.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(Sd.y*=-1,Sd.z*=-1),_.envMapRotation.value.setFromMatrix4(nhe.makeRotationFromEuler(Sd)),_.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=x.reflectivity,_.ior.value=x.ior,_.refractionRatio.value=x.refractionRatio),x.lightMap&&(_.lightMap.value=x.lightMap,_.lightMapIntensity.value=x.lightMapIntensity,n(x.lightMap,_.lightMapTransform)),x.aoMap&&(_.aoMap.value=x.aoMap,_.aoMapIntensity.value=x.aoMapIntensity,n(x.aoMap,_.aoMapTransform))}function o(_,x){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,x.map&&(_.map.value=x.map,n(x.map,_.mapTransform))}function a(_,x){_.dashSize.value=x.dashSize,_.totalSize.value=x.dashSize+x.gapSize,_.scale.value=x.scale}function l(_,x,b,w){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,_.size.value=x.size*b,_.scale.value=w*.5,x.map&&(_.map.value=x.map,n(x.map,_.uvTransform)),x.alphaMap&&(_.alphaMap.value=x.alphaMap,n(x.alphaMap,_.alphaMapTransform)),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest)}function u(_,x){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,_.rotation.value=x.rotation,x.map&&(_.map.value=x.map,n(x.map,_.mapTransform)),x.alphaMap&&(_.alphaMap.value=x.alphaMap,n(x.alphaMap,_.alphaMapTransform)),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest)}function f(_,x){_.specular.value.copy(x.specular),_.shininess.value=Math.max(x.shininess,1e-4)}function d(_,x){x.gradientMap&&(_.gradientMap.value=x.gradientMap)}function p(_,x){_.metalness.value=x.metalness,x.metalnessMap&&(_.metalnessMap.value=x.metalnessMap,n(x.metalnessMap,_.metalnessMapTransform)),_.roughness.value=x.roughness,x.roughnessMap&&(_.roughnessMap.value=x.roughnessMap,n(x.roughnessMap,_.roughnessMapTransform)),x.envMap&&(_.envMapIntensity.value=x.envMapIntensity)}function g(_,x,b){_.ior.value=x.ior,x.sheen>0&&(_.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),_.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(_.sheenColorMap.value=x.sheenColorMap,n(x.sheenColorMap,_.sheenColorMapTransform)),x.sheenRoughnessMap&&(_.sheenRoughnessMap.value=x.sheenRoughnessMap,n(x.sheenRoughnessMap,_.sheenRoughnessMapTransform))),x.clearcoat>0&&(_.clearcoat.value=x.clearcoat,_.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(_.clearcoatMap.value=x.clearcoatMap,n(x.clearcoatMap,_.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,n(x.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(_.clearcoatNormalMap.value=x.clearcoatNormalMap,n(x.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Ws&&_.clearcoatNormalScale.value.negate())),x.dispersion>0&&(_.dispersion.value=x.dispersion),x.iridescence>0&&(_.iridescence.value=x.iridescence,_.iridescenceIOR.value=x.iridescenceIOR,_.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(_.iridescenceMap.value=x.iridescenceMap,n(x.iridescenceMap,_.iridescenceMapTransform)),x.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=x.iridescenceThicknessMap,n(x.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),x.transmission>0&&(_.transmission.value=x.transmission,_.transmissionSamplerMap.value=b.texture,_.transmissionSamplerSize.value.set(b.width,b.height),x.transmissionMap&&(_.transmissionMap.value=x.transmissionMap,n(x.transmissionMap,_.transmissionMapTransform)),_.thickness.value=x.thickness,x.thicknessMap&&(_.thicknessMap.value=x.thicknessMap,n(x.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=x.attenuationDistance,_.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(_.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(_.anisotropyMap.value=x.anisotropyMap,n(x.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=x.specularIntensity,_.specularColor.value.copy(x.specularColor),x.specularColorMap&&(_.specularColorMap.value=x.specularColorMap,n(x.specularColorMap,_.specularColorMapTransform)),x.specularIntensityMap&&(_.specularIntensityMap.value=x.specularIntensityMap,n(x.specularIntensityMap,_.specularIntensityMapTransform))}function y(_,x){x.matcap&&(_.matcap.value=x.matcap)}function S(_,x){const b=e.get(x).light;_.referencePosition.value.setFromMatrixPosition(b.matrixWorld),_.nearDistance.value=b.shadow.camera.near,_.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function ihe(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,w){const M=w.program;r.uniformBlockBinding(b,M)}function u(b,w){let M=i[b.id];M===void 0&&(y(b),M=f(b),i[b.id]=M,b.addEventListener("dispose",_));const C=w.program;r.updateUBOMapping(b,C);const I=e.render.frame;s[b.id]!==I&&(p(b),s[b.id]=I)}function f(b){const w=d();b.__bindingPointIndex=w;const M=t.createBuffer(),C=b.__size,I=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,C,I),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,M),M}function d(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(b){const w=i[b.id],M=b.uniforms,C=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let I=0,B=M.length;I<B;I++){const P=Array.isArray(M[I])?M[I]:[M[I]];for(let L=0,E=P.length;L<E;L++){const O=P[L];if(g(O,I,L,C)===!0){const U=O.__offset,H=Array.isArray(O.value)?O.value:[O.value];let q=0;for(let te=0;te<H.length;te++){const $=H[te],ie=S($);typeof $=="number"||typeof $=="boolean"?(O.__data[0]=$,t.bufferSubData(t.UNIFORM_BUFFER,U+q,O.__data)):$.isMatrix3?(O.__data[0]=$.elements[0],O.__data[1]=$.elements[1],O.__data[2]=$.elements[2],O.__data[3]=0,O.__data[4]=$.elements[3],O.__data[5]=$.elements[4],O.__data[6]=$.elements[5],O.__data[7]=0,O.__data[8]=$.elements[6],O.__data[9]=$.elements[7],O.__data[10]=$.elements[8],O.__data[11]=0):($.toArray(O.__data,q),q+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,U,O.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(b,w,M,C){const I=b.value,B=w+"_"+M;if(C[B]===void 0)return typeof I=="number"||typeof I=="boolean"?C[B]=I:C[B]=I.clone(),!0;{const P=C[B];if(typeof I=="number"||typeof I=="boolean"){if(P!==I)return C[B]=I,!0}else if(P.equals(I)===!1)return P.copy(I),!0}return!1}function y(b){const w=b.uniforms;let M=0;const C=16;for(let B=0,P=w.length;B<P;B++){const L=Array.isArray(w[B])?w[B]:[w[B]];for(let E=0,O=L.length;E<O;E++){const U=L[E],H=Array.isArray(U.value)?U.value:[U.value];for(let q=0,te=H.length;q<te;q++){const $=H[q],ie=S($),W=M%C,Y=W%ie.boundary,Q=W+Y;M+=Y,Q!==0&&C-Q<ie.storage&&(M+=C-Q),U.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=M,M+=ie.storage}}}const I=M%C;return I>0&&(M+=C-I),b.__size=M,b.__cache={},this}function S(b){const w={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(w.boundary=4,w.storage=4):b.isVector2?(w.boundary=8,w.storage=8):b.isVector3||b.isColor?(w.boundary=16,w.storage=12):b.isVector4?(w.boundary=16,w.storage=16):b.isMatrix3?(w.boundary=48,w.storage=48):b.isMatrix4?(w.boundary=64,w.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),w}function _(b){const w=b.target;w.removeEventListener("dispose",_);const M=o.indexOf(w.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function x(){for(const b in i)t.deleteBuffer(i[b]);o=[],i={},s={}}return{bind:l,update:u,dispose:x}}class MH{constructor(e={}){const{canvas:n=bG(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=o;const y=new Uint32Array(4),S=new Int32Array(4);let _=null,x=null;const b=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ao,this.toneMapping=Vl,this.toneMappingExposure=1;const M=this;let C=!1,I=0,B=0,P=null,L=-1,E=null;const O=new Nn,U=new Nn;let H=null;const q=new Tt(0);let te=0,$=n.width,ie=n.height,W=1,Y=null,Q=null;const z=new Nn(0,0,$,ie),K=new Nn(0,0,$,ie);let ae=!1;const Z=new y0;let se=!1,oe=!1;this.transmissionResolutionScale=1;const ue=new tn,ve=new tn,Be=new le,Le=new Nn,Ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let xe=!1;function Te(){return P===null?W:1}let re=r;function nt(ne,Ee){return n.getContext(ne,Ee)}try{const ne={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${c0}`),n.addEventListener("webglcontextlost",Ye,!1),n.addEventListener("webglcontextrestored",ut,!1),n.addEventListener("webglcontextcreationerror",st,!1),re===null){const Ee="webgl2";if(re=nt(Ee,ne),re===null)throw nt(Ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ne){throw console.error("THREE.WebGLRenderer: "+ne.message),ne}let ke,Ze,Ae,tt,Fe,J,X,he,Se,Me,De,qe,Ne,Ke,ft,Xe,ot,at,mt,$e,pe,ze,vt,de;function je(){ke=new gfe(re),ke.init(),ze=new bH(re,ke),Ze=new ufe(re,ke,e,ze),Ae=new Yde(re,ke),Ze.reverseDepthBuffer&&p&&Ae.buffers.depth.setReversed(!0),tt=new xfe(re),Fe=new kde,J=new $de(re,ke,Ae,Fe,Ze,ze,tt),X=new ffe(M),he=new mfe(M),Se=new Mle(re),vt=new afe(re,Se),Me=new vfe(re,Se,tt,vt),De=new Sfe(re,Me,Se,tt),mt=new _fe(re,Ze,J),Xe=new cfe(Fe),qe=new Ode(M,X,he,ke,Ze,vt,Xe),Ne=new rhe(M,Fe),Ke=new Nde,ft=new Wde(ke),at=new ofe(M,X,he,Ae,De,g,l),ot=new Kde(M,De,Ze),de=new ihe(re,tt,Ze,Ae),$e=new lfe(re,ke,tt),pe=new yfe(re,ke,tt),tt.programs=qe.programs,M.capabilities=Ze,M.extensions=ke,M.properties=Fe,M.renderLists=Ke,M.shadowMap=ot,M.state=Ae,M.info=tt}je();const Ie=new the(M,re);this.xr=Ie,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const ne=ke.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=ke.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(ne){ne!==void 0&&(W=ne,this.setSize($,ie,!1))},this.getSize=function(ne){return ne.set($,ie)},this.setSize=function(ne,Ee,Ue=!0){if(Ie.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=ne,ie=Ee,n.width=Math.floor(ne*W),n.height=Math.floor(Ee*W),Ue===!0&&(n.style.width=ne+"px",n.style.height=Ee+"px"),this.setViewport(0,0,ne,Ee)},this.getDrawingBufferSize=function(ne){return ne.set($*W,ie*W).floor()},this.setDrawingBufferSize=function(ne,Ee,Ue){$=ne,ie=Ee,W=Ue,n.width=Math.floor(ne*Ue),n.height=Math.floor(Ee*Ue),this.setViewport(0,0,ne,Ee)},this.getCurrentViewport=function(ne){return ne.copy(O)},this.getViewport=function(ne){return ne.copy(z)},this.setViewport=function(ne,Ee,Ue,ye){ne.isVector4?z.set(ne.x,ne.y,ne.z,ne.w):z.set(ne,Ee,Ue,ye),Ae.viewport(O.copy(z).multiplyScalar(W).round())},this.getScissor=function(ne){return ne.copy(K)},this.setScissor=function(ne,Ee,Ue,ye){ne.isVector4?K.set(ne.x,ne.y,ne.z,ne.w):K.set(ne,Ee,Ue,ye),Ae.scissor(U.copy(K).multiplyScalar(W).round())},this.getScissorTest=function(){return ae},this.setScissorTest=function(ne){Ae.setScissorTest(ae=ne)},this.setOpaqueSort=function(ne){Y=ne},this.setTransparentSort=function(ne){Q=ne},this.getClearColor=function(ne){return ne.copy(at.getClearColor())},this.setClearColor=function(){at.setClearColor(...arguments)},this.getClearAlpha=function(){return at.getClearAlpha()},this.setClearAlpha=function(){at.setClearAlpha(...arguments)},this.clear=function(ne=!0,Ee=!0,Ue=!0){let ye=0;if(ne){let we=!1;if(P!==null){const ct=P.texture.format;we=ct===hA||ct===dA||ct===d0}if(we){const ct=P.texture.type,lt=ct===il||ct===nc||ct===Em||ct===ch||ct===uA||ct===cA,yt=at.getClearColor(),Rt=at.getClearAlpha(),Ht=yt.r,wt=yt.g,ht=yt.b;lt?(y[0]=Ht,y[1]=wt,y[2]=ht,y[3]=Rt,re.clearBufferuiv(re.COLOR,0,y)):(S[0]=Ht,S[1]=wt,S[2]=ht,S[3]=Rt,re.clearBufferiv(re.COLOR,0,S))}else ye|=re.COLOR_BUFFER_BIT}Ee&&(ye|=re.DEPTH_BUFFER_BIT),Ue&&(ye|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(ye)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ye,!1),n.removeEventListener("webglcontextrestored",ut,!1),n.removeEventListener("webglcontextcreationerror",st,!1),at.dispose(),Ke.dispose(),ft.dispose(),Fe.dispose(),X.dispose(),he.dispose(),De.dispose(),vt.dispose(),de.dispose(),qe.dispose(),Ie.dispose(),Ie.removeEventListener("sessionstart",dt),Ie.removeEventListener("sessionend",Ot),Lt.stop()};function Ye(ne){ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function ut(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const ne=tt.autoReset,Ee=ot.enabled,Ue=ot.autoUpdate,ye=ot.needsUpdate,we=ot.type;je(),tt.autoReset=ne,ot.enabled=Ee,ot.autoUpdate=Ue,ot.needsUpdate=ye,ot.type=we}function st(ne){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ne.statusMessage)}function Mt(ne){const Ee=ne.target;Ee.removeEventListener("dispose",Mt),Vt(Ee)}function Vt(ne){ce(ne),Fe.remove(ne)}function ce(ne){const Ee=Fe.get(ne).programs;Ee!==void 0&&(Ee.forEach(function(Ue){qe.releaseProgram(Ue)}),ne.isShaderMaterial&&qe.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,Ee,Ue,ye,we,ct){Ee===null&&(Ee=Ve);const lt=we.isMesh&&we.matrixWorld.determinant()<0,yt=Yn(ne,Ee,Ue,ye,we);Ae.setMaterial(ye,lt);let Rt=Ue.index,Ht=1;if(ye.wireframe===!0){if(Rt=Me.getWireframeAttribute(Ue),Rt===void 0)return;Ht=2}const wt=Ue.drawRange,ht=Ue.attributes.position;let Nt=wt.start*Ht,$t=(wt.start+wt.count)*Ht;ct!==null&&(Nt=Math.max(Nt,ct.start*Ht),$t=Math.min($t,(ct.start+ct.count)*Ht)),Rt!==null?(Nt=Math.max(Nt,0),$t=Math.min($t,Rt.count)):ht!=null&&(Nt=Math.max(Nt,0),$t=Math.min($t,ht.count));const vn=$t-Nt;if(vn<0||vn===1/0)return;vt.setup(we,ye,yt,Ue,Rt);let gn,fn=$e;if(Rt!==null&&(gn=Se.get(Rt),fn=pe,fn.setIndex(gn)),we.isMesh)ye.wireframe===!0?(Ae.setLineWidth(ye.wireframeLinewidth*Te()),fn.setMode(re.LINES)):fn.setMode(re.TRIANGLES);else if(we.isLine){let Ut=ye.linewidth;Ut===void 0&&(Ut=1),Ae.setLineWidth(Ut*Te()),we.isLineSegments?fn.setMode(re.LINES):we.isLineLoop?fn.setMode(re.LINE_LOOP):fn.setMode(re.LINE_STRIP)}else we.isPoints?fn.setMode(re.POINTS):we.isSprite&&fn.setMode(re.TRIANGLES);if(we.isBatchedMesh)if(we._multiDrawInstances!==null)Dd("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),fn.renderMultiDrawInstances(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount,we._multiDrawInstances);else if(ke.get("WEBGL_multi_draw"))fn.renderMultiDraw(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount);else{const Ut=we._multiDrawStarts,ln=we._multiDrawCounts,un=we._multiDrawCount,Wt=Rt?Se.get(Rt).bytesPerElement:1,Mr=Fe.get(ye).currentProgram.getUniforms();for(let rr=0;rr<un;rr++)Mr.setValue(re,"_gl_DrawID",rr),fn.render(Ut[rr]/Wt,ln[rr])}else if(we.isInstancedMesh)fn.renderInstances(Nt,vn,we.count);else if(Ue.isInstancedBufferGeometry){const Ut=Ue._maxInstanceCount!==void 0?Ue._maxInstanceCount:1/0,ln=Math.min(Ue.instanceCount,Ut);fn.renderInstances(Nt,vn,ln)}else fn.render(Nt,vn)};function ge(ne,Ee,Ue){ne.transparent===!0&&ne.side===oa&&ne.forceSinglePass===!1?(ne.side=Ws,ne.needsUpdate=!0,on(ne,Ee,Ue),ne.side=Kl,ne.needsUpdate=!0,on(ne,Ee,Ue),ne.side=oa):on(ne,Ee,Ue)}this.compile=function(ne,Ee,Ue=null){Ue===null&&(Ue=ne),x=ft.get(Ue),x.init(Ee),w.push(x),Ue.traverseVisible(function(we){we.isLight&&we.layers.test(Ee.layers)&&(x.pushLight(we),we.castShadow&&x.pushShadow(we))}),ne!==Ue&&ne.traverseVisible(function(we){we.isLight&&we.layers.test(Ee.layers)&&(x.pushLight(we),we.castShadow&&x.pushShadow(we))}),x.setupLights();const ye=new Set;return ne.traverse(function(we){if(!(we.isMesh||we.isPoints||we.isLine||we.isSprite))return;const ct=we.material;if(ct)if(Array.isArray(ct))for(let lt=0;lt<ct.length;lt++){const yt=ct[lt];ge(yt,Ue,we),ye.add(yt)}else ge(ct,Ue,we),ye.add(ct)}),x=w.pop(),ye},this.compileAsync=function(ne,Ee,Ue=null){const ye=this.compile(ne,Ee,Ue);return new Promise(we=>{function ct(){if(ye.forEach(function(lt){Fe.get(lt).currentProgram.isReady()&&ye.delete(lt)}),ye.size===0){we(ne);return}setTimeout(ct,10)}ke.get("KHR_parallel_shader_compile")!==null?ct():setTimeout(ct,10)})};let Pe=null;function Qe(ne){Pe&&Pe(ne)}function dt(){Lt.stop()}function Ot(){Lt.start()}const Lt=new xH;Lt.setAnimationLoop(Qe),typeof self<"u"&&Lt.setContext(self),this.setAnimationLoop=function(ne){Pe=ne,Ie.setAnimationLoop(ne),ne===null?Lt.stop():Lt.start()},Ie.addEventListener("sessionstart",dt),Ie.addEventListener("sessionend",Ot),this.render=function(ne,Ee){if(Ee!==void 0&&Ee.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),Ee.parent===null&&Ee.matrixWorldAutoUpdate===!0&&Ee.updateMatrixWorld(),Ie.enabled===!0&&Ie.isPresenting===!0&&(Ie.cameraAutoUpdate===!0&&Ie.updateCamera(Ee),Ee=Ie.getCamera()),ne.isScene===!0&&ne.onBeforeRender(M,ne,Ee,P),x=ft.get(ne,w.length),x.init(Ee),w.push(x),ve.multiplyMatrices(Ee.projectionMatrix,Ee.matrixWorldInverse),Z.setFromProjectionMatrix(ve),oe=this.localClippingEnabled,se=Xe.init(this.clippingPlanes,oe),_=Ke.get(ne,b.length),_.init(),b.push(_),Ie.enabled===!0&&Ie.isPresenting===!0){const ct=M.xr.getDepthSensingMesh();ct!==null&&Et(ct,Ee,-1/0,M.sortObjects)}Et(ne,Ee,0,M.sortObjects),_.finish(),M.sortObjects===!0&&_.sort(Y,Q),xe=Ie.enabled===!1||Ie.isPresenting===!1||Ie.hasDepthSensing()===!1,xe&&at.addToRenderList(_,ne),this.info.render.frame++,se===!0&&Xe.beginShadows();const Ue=x.state.shadowsArray;ot.render(Ue,ne,Ee),se===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset();const ye=_.opaque,we=_.transmissive;if(x.setupLights(),Ee.isArrayCamera){const ct=Ee.cameras;if(we.length>0)for(let lt=0,yt=ct.length;lt<yt;lt++){const Rt=ct[lt];St(ye,we,ne,Rt)}xe&&at.render(ne);for(let lt=0,yt=ct.length;lt<yt;lt++){const Rt=ct[lt];Dt(_,ne,Rt,Rt.viewport)}}else we.length>0&&St(ye,we,ne,Ee),xe&&at.render(ne),Dt(_,ne,Ee);P!==null&&B===0&&(J.updateMultisampleRenderTarget(P),J.updateRenderTargetMipmap(P)),ne.isScene===!0&&ne.onAfterRender(M,ne,Ee),vt.resetDefaultState(),L=-1,E=null,w.pop(),w.length>0?(x=w[w.length-1],se===!0&&Xe.setGlobalState(M.clippingPlanes,x.state.camera)):x=null,b.pop(),b.length>0?_=b[b.length-1]:_=null};function Et(ne,Ee,Ue,ye){if(ne.visible===!1)return;if(ne.layers.test(Ee.layers)){if(ne.isGroup)Ue=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(Ee);else if(ne.isLight)x.pushLight(ne),ne.castShadow&&x.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||Z.intersectsSprite(ne)){ye&&Le.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(ve);const lt=De.update(ne),yt=ne.material;yt.visible&&_.push(ne,lt,yt,Ue,Le.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(!ne.frustumCulled||Z.intersectsObject(ne))){const lt=De.update(ne),yt=ne.material;if(ye&&(ne.boundingSphere!==void 0?(ne.boundingSphere===null&&ne.computeBoundingSphere(),Le.copy(ne.boundingSphere.center)):(lt.boundingSphere===null&&lt.computeBoundingSphere(),Le.copy(lt.boundingSphere.center)),Le.applyMatrix4(ne.matrixWorld).applyMatrix4(ve)),Array.isArray(yt)){const Rt=lt.groups;for(let Ht=0,wt=Rt.length;Ht<wt;Ht++){const ht=Rt[Ht],Nt=yt[ht.materialIndex];Nt&&Nt.visible&&_.push(ne,lt,Nt,Ue,Le.z,ht)}}else yt.visible&&_.push(ne,lt,yt,Ue,Le.z,null)}}const ct=ne.children;for(let lt=0,yt=ct.length;lt<yt;lt++)Et(ct[lt],Ee,Ue,ye)}function Dt(ne,Ee,Ue,ye){const we=ne.opaque,ct=ne.transmissive,lt=ne.transparent;x.setupLightsView(Ue),se===!0&&Xe.setGlobalState(M.clippingPlanes,Ue),ye&&Ae.viewport(O.copy(ye)),we.length>0&&Pt(we,Ee,Ue),ct.length>0&&Pt(ct,Ee,Ue),lt.length>0&&Pt(lt,Ee,Ue),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function St(ne,Ee,Ue,ye){if((Ue.isScene===!0?Ue.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[ye.id]===void 0&&(x.state.transmissionRenderTarget[ye.id]=new Jl(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")||ke.has("EXT_color_buffer_float")?Hm:il,minFilter:la,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Wn.workingColorSpace}));const ct=x.state.transmissionRenderTarget[ye.id],lt=ye.viewport||O;ct.setSize(lt.z*M.transmissionResolutionScale,lt.w*M.transmissionResolutionScale);const yt=M.getRenderTarget();M.setRenderTarget(ct),M.getClearColor(q),te=M.getClearAlpha(),te<1&&M.setClearColor(16777215,.5),M.clear(),xe&&at.render(Ue);const Rt=M.toneMapping;M.toneMapping=Vl;const Ht=ye.viewport;if(ye.viewport!==void 0&&(ye.viewport=void 0),x.setupLightsView(ye),se===!0&&Xe.setGlobalState(M.clippingPlanes,ye),Pt(ne,Ue,ye),J.updateMultisampleRenderTarget(ct),J.updateRenderTargetMipmap(ct),ke.has("WEBGL_multisampled_render_to_texture")===!1){let wt=!1;for(let ht=0,Nt=Ee.length;ht<Nt;ht++){const $t=Ee[ht],vn=$t.object,gn=$t.geometry,fn=$t.material,Ut=$t.group;if(fn.side===oa&&vn.layers.test(ye.layers)){const ln=fn.side;fn.side=Ws,fn.needsUpdate=!0,kt(vn,Ue,ye,gn,fn,Ut),fn.side=ln,fn.needsUpdate=!0,wt=!0}}wt===!0&&(J.updateMultisampleRenderTarget(ct),J.updateRenderTargetMipmap(ct))}M.setRenderTarget(yt),M.setClearColor(q,te),Ht!==void 0&&(ye.viewport=Ht),M.toneMapping=Rt}function Pt(ne,Ee,Ue){const ye=Ee.isScene===!0?Ee.overrideMaterial:null;for(let we=0,ct=ne.length;we<ct;we++){const lt=ne[we],yt=lt.object,Rt=lt.geometry,Ht=ye===null?lt.material:ye,wt=lt.group;yt.layers.test(Ue.layers)&&kt(yt,Ee,Ue,Rt,Ht,wt)}}function kt(ne,Ee,Ue,ye,we,ct){ne.onBeforeRender(M,Ee,Ue,ye,we,ct),ne.modelViewMatrix.multiplyMatrices(Ue.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),we.onBeforeRender(M,Ee,Ue,ye,ne,ct),we.transparent===!0&&we.side===oa&&we.forceSinglePass===!1?(we.side=Ws,we.needsUpdate=!0,M.renderBufferDirect(Ue,Ee,ye,we,ne,ct),we.side=Kl,we.needsUpdate=!0,M.renderBufferDirect(Ue,Ee,ye,we,ne,ct),we.side=oa):M.renderBufferDirect(Ue,Ee,ye,we,ne,ct),ne.onAfterRender(M,Ee,Ue,ye,we,ct)}function on(ne,Ee,Ue){Ee.isScene!==!0&&(Ee=Ve);const ye=Fe.get(ne),we=x.state.lights,ct=x.state.shadowsArray,lt=we.state.version,yt=qe.getParameters(ne,we.state,ct,Ee,Ue),Rt=qe.getProgramCacheKey(yt);let Ht=ye.programs;ye.environment=ne.isMeshStandardMaterial?Ee.environment:null,ye.fog=Ee.fog,ye.envMap=(ne.isMeshStandardMaterial?he:X).get(ne.envMap||ye.environment),ye.envMapRotation=ye.environment!==null&&ne.envMap===null?Ee.environmentRotation:ne.envMapRotation,Ht===void 0&&(ne.addEventListener("dispose",Mt),Ht=new Map,ye.programs=Ht);let wt=Ht.get(Rt);if(wt!==void 0){if(ye.currentProgram===wt&&ye.lightsStateVersion===lt)return On(ne,yt),wt}else yt.uniforms=qe.getUniforms(ne),ne.onBeforeCompile(yt,M),wt=qe.acquireProgram(yt,Rt),Ht.set(Rt,wt),ye.uniforms=yt.uniforms;const ht=ye.uniforms;return(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(ht.clippingPlanes=Xe.uniform),On(ne,yt),ye.needsLights=Xn(ne),ye.lightsStateVersion=lt,ye.needsLights&&(ht.ambientLightColor.value=we.state.ambient,ht.lightProbe.value=we.state.probe,ht.directionalLights.value=we.state.directional,ht.directionalLightShadows.value=we.state.directionalShadow,ht.spotLights.value=we.state.spot,ht.spotLightShadows.value=we.state.spotShadow,ht.rectAreaLights.value=we.state.rectArea,ht.ltc_1.value=we.state.rectAreaLTC1,ht.ltc_2.value=we.state.rectAreaLTC2,ht.pointLights.value=we.state.point,ht.pointLightShadows.value=we.state.pointShadow,ht.hemisphereLights.value=we.state.hemi,ht.directionalShadowMap.value=we.state.directionalShadowMap,ht.directionalShadowMatrix.value=we.state.directionalShadowMatrix,ht.spotShadowMap.value=we.state.spotShadowMap,ht.spotLightMatrix.value=we.state.spotLightMatrix,ht.spotLightMap.value=we.state.spotLightMap,ht.pointShadowMap.value=we.state.pointShadowMap,ht.pointShadowMatrix.value=we.state.pointShadowMatrix),ye.currentProgram=wt,ye.uniformsList=null,wt}function Gn(ne){if(ne.uniformsList===null){const Ee=ne.currentProgram.getUniforms();ne.uniformsList=n1.seqWithValue(Ee.seq,ne.uniforms)}return ne.uniformsList}function On(ne,Ee){const Ue=Fe.get(ne);Ue.outputColorSpace=Ee.outputColorSpace,Ue.batching=Ee.batching,Ue.batchingColor=Ee.batchingColor,Ue.instancing=Ee.instancing,Ue.instancingColor=Ee.instancingColor,Ue.instancingMorph=Ee.instancingMorph,Ue.skinning=Ee.skinning,Ue.morphTargets=Ee.morphTargets,Ue.morphNormals=Ee.morphNormals,Ue.morphColors=Ee.morphColors,Ue.morphTargetsCount=Ee.morphTargetsCount,Ue.numClippingPlanes=Ee.numClippingPlanes,Ue.numIntersection=Ee.numClipIntersection,Ue.vertexAlphas=Ee.vertexAlphas,Ue.vertexTangents=Ee.vertexTangents,Ue.toneMapping=Ee.toneMapping}function Yn(ne,Ee,Ue,ye,we){Ee.isScene!==!0&&(Ee=Ve),J.resetTextureUnits();const ct=Ee.fog,lt=ye.isMeshStandardMaterial?Ee.environment:null,yt=P===null?M.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:dh,Rt=(ye.isMeshStandardMaterial?he:X).get(ye.envMap||lt),Ht=ye.vertexColors===!0&&!!Ue.attributes.color&&Ue.attributes.color.itemSize===4,wt=!!Ue.attributes.tangent&&(!!ye.normalMap||ye.anisotropy>0),ht=!!Ue.morphAttributes.position,Nt=!!Ue.morphAttributes.normal,$t=!!Ue.morphAttributes.color;let vn=Vl;ye.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(vn=M.toneMapping);const gn=Ue.morphAttributes.position||Ue.morphAttributes.normal||Ue.morphAttributes.color,fn=gn!==void 0?gn.length:0,Ut=Fe.get(ye),ln=x.state.lights;if(se===!0&&(oe===!0||ne!==E)){const Gr=ne===E&&ye.id===L;Xe.setState(ye,ne,Gr)}let un=!1;ye.version===Ut.__version?(Ut.needsLights&&Ut.lightsStateVersion!==ln.state.version||Ut.outputColorSpace!==yt||we.isBatchedMesh&&Ut.batching===!1||!we.isBatchedMesh&&Ut.batching===!0||we.isBatchedMesh&&Ut.batchingColor===!0&&we.colorTexture===null||we.isBatchedMesh&&Ut.batchingColor===!1&&we.colorTexture!==null||we.isInstancedMesh&&Ut.instancing===!1||!we.isInstancedMesh&&Ut.instancing===!0||we.isSkinnedMesh&&Ut.skinning===!1||!we.isSkinnedMesh&&Ut.skinning===!0||we.isInstancedMesh&&Ut.instancingColor===!0&&we.instanceColor===null||we.isInstancedMesh&&Ut.instancingColor===!1&&we.instanceColor!==null||we.isInstancedMesh&&Ut.instancingMorph===!0&&we.morphTexture===null||we.isInstancedMesh&&Ut.instancingMorph===!1&&we.morphTexture!==null||Ut.envMap!==Rt||ye.fog===!0&&Ut.fog!==ct||Ut.numClippingPlanes!==void 0&&(Ut.numClippingPlanes!==Xe.numPlanes||Ut.numIntersection!==Xe.numIntersection)||Ut.vertexAlphas!==Ht||Ut.vertexTangents!==wt||Ut.morphTargets!==ht||Ut.morphNormals!==Nt||Ut.morphColors!==$t||Ut.toneMapping!==vn||Ut.morphTargetsCount!==fn)&&(un=!0):(un=!0,Ut.__version=ye.version);let Wt=Ut.currentProgram;un===!0&&(Wt=on(ye,Ee,we));let Mr=!1,rr=!1,yr=!1;const yn=Wt.getUniforms(),xr=Ut.uniforms;if(Ae.useProgram(Wt.program)&&(Mr=!0,rr=!0,yr=!0),ye.id!==L&&(L=ye.id,rr=!0),Mr||E!==ne){Ae.buffers.depth.getReversed()?(ue.copy(ne.projectionMatrix),Yse(ue),$se(ue),yn.setValue(re,"projectionMatrix",ue)):yn.setValue(re,"projectionMatrix",ne.projectionMatrix),yn.setValue(re,"viewMatrix",ne.matrixWorldInverse);const lr=yn.map.cameraPosition;lr!==void 0&&lr.setValue(re,Be.setFromMatrixPosition(ne.matrixWorld)),Ze.logarithmicDepthBuffer&&yn.setValue(re,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial)&&yn.setValue(re,"isOrthographic",ne.isOrthographicCamera===!0),E!==ne&&(E=ne,rr=!0,yr=!0)}if(we.isSkinnedMesh){yn.setOptional(re,we,"bindMatrix"),yn.setOptional(re,we,"bindMatrixInverse");const Gr=we.skeleton;Gr&&(Gr.boneTexture===null&&Gr.computeBoneTexture(),yn.setValue(re,"boneTexture",Gr.boneTexture,J))}we.isBatchedMesh&&(yn.setOptional(re,we,"batchingTexture"),yn.setValue(re,"batchingTexture",we._matricesTexture,J),yn.setOptional(re,we,"batchingIdTexture"),yn.setValue(re,"batchingIdTexture",we._indirectTexture,J),yn.setOptional(re,we,"batchingColorTexture"),we._colorsTexture!==null&&yn.setValue(re,"batchingColorTexture",we._colorsTexture,J));const _r=Ue.morphAttributes;if((_r.position!==void 0||_r.normal!==void 0||_r.color!==void 0)&&mt.update(we,Ue,Wt),(rr||Ut.receiveShadow!==we.receiveShadow)&&(Ut.receiveShadow=we.receiveShadow,yn.setValue(re,"receiveShadow",we.receiveShadow)),ye.isMeshGouraudMaterial&&ye.envMap!==null&&(xr.envMap.value=Rt,xr.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1),ye.isMeshStandardMaterial&&ye.envMap===null&&Ee.environment!==null&&(xr.envMapIntensity.value=Ee.environmentIntensity),rr&&(yn.setValue(re,"toneMappingExposure",M.toneMappingExposure),Ut.needsLights&&Hn(xr,yr),ct&&ye.fog===!0&&Ne.refreshFogUniforms(xr,ct),Ne.refreshMaterialUniforms(xr,ye,W,ie,x.state.transmissionRenderTarget[ne.id]),n1.upload(re,Gn(Ut),xr,J)),ye.isShaderMaterial&&ye.uniformsNeedUpdate===!0&&(n1.upload(re,Gn(Ut),xr,J),ye.uniformsNeedUpdate=!1),ye.isSpriteMaterial&&yn.setValue(re,"center",we.center),yn.setValue(re,"modelViewMatrix",we.modelViewMatrix),yn.setValue(re,"normalMatrix",we.normalMatrix),yn.setValue(re,"modelMatrix",we.matrixWorld),ye.isShaderMaterial||ye.isRawShaderMaterial){const Gr=ye.uniformsGroups;for(let lr=0,wn=Gr.length;lr<wn;lr++){const li=Gr[lr];de.update(li,Wt),de.bind(li,Wt)}}return Wt}function Hn(ne,Ee){ne.ambientLightColor.needsUpdate=Ee,ne.lightProbe.needsUpdate=Ee,ne.directionalLights.needsUpdate=Ee,ne.directionalLightShadows.needsUpdate=Ee,ne.pointLights.needsUpdate=Ee,ne.pointLightShadows.needsUpdate=Ee,ne.spotLights.needsUpdate=Ee,ne.spotLightShadows.needsUpdate=Ee,ne.rectAreaLights.needsUpdate=Ee,ne.hemisphereLights.needsUpdate=Ee}function Xn(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(ne,Ee,Ue){Fe.get(ne.texture).__webglTexture=Ee,Fe.get(ne.depthTexture).__webglTexture=Ue;const ye=Fe.get(ne);ye.__hasExternalTextures=!0,ye.__autoAllocateDepthBuffer=Ue===void 0,ye.__autoAllocateDepthBuffer||ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ye.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(ne,Ee){const Ue=Fe.get(ne);Ue.__webglFramebuffer=Ee,Ue.__useDefaultFramebuffer=Ee===void 0};const wi=re.createFramebuffer();this.setRenderTarget=function(ne,Ee=0,Ue=0){P=ne,I=Ee,B=Ue;let ye=!0,we=null,ct=!1,lt=!1;if(ne){const Rt=Fe.get(ne);if(Rt.__useDefaultFramebuffer!==void 0)Ae.bindFramebuffer(re.FRAMEBUFFER,null),ye=!1;else if(Rt.__webglFramebuffer===void 0)J.setupRenderTarget(ne);else if(Rt.__hasExternalTextures)J.rebindTextures(ne,Fe.get(ne.texture).__webglTexture,Fe.get(ne.depthTexture).__webglTexture);else if(ne.depthBuffer){const ht=ne.depthTexture;if(Rt.__boundDepthTexture!==ht){if(ht!==null&&Fe.has(ht)&&(ne.width!==ht.image.width||ne.height!==ht.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");J.setupDepthRenderbuffer(ne)}}const Ht=ne.texture;(Ht.isData3DTexture||Ht.isDataArrayTexture||Ht.isCompressedArrayTexture)&&(lt=!0);const wt=Fe.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Array.isArray(wt[Ee])?we=wt[Ee][Ue]:we=wt[Ee],ct=!0):ne.samples>0&&J.useMultisampledRTT(ne)===!1?we=Fe.get(ne).__webglMultisampledFramebuffer:Array.isArray(wt)?we=wt[Ue]:we=wt,O.copy(ne.viewport),U.copy(ne.scissor),H=ne.scissorTest}else O.copy(z).multiplyScalar(W).floor(),U.copy(K).multiplyScalar(W).floor(),H=ae;if(Ue!==0&&(we=wi),Ae.bindFramebuffer(re.FRAMEBUFFER,we)&&ye&&Ae.drawBuffers(ne,we),Ae.viewport(O),Ae.scissor(U),Ae.setScissorTest(H),ct){const Rt=Fe.get(ne.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Rt.__webglTexture,Ue)}else if(lt){const Rt=Fe.get(ne.texture),Ht=Ee;re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,Rt.__webglTexture,Ue,Ht)}else if(ne!==null&&Ue!==0){const Rt=Fe.get(ne.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Rt.__webglTexture,Ue)}L=-1},this.readRenderTargetPixels=function(ne,Ee,Ue,ye,we,ct,lt){if(!(ne&&ne.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=Fe.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&lt!==void 0&&(yt=yt[lt]),yt){Ae.bindFramebuffer(re.FRAMEBUFFER,yt);try{const Rt=ne.texture,Ht=Rt.format,wt=Rt.type;if(!Ze.textureFormatReadable(Ht)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ze.textureTypeReadable(wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ee>=0&&Ee<=ne.width-ye&&Ue>=0&&Ue<=ne.height-we&&re.readPixels(Ee,Ue,ye,we,ze.convert(Ht),ze.convert(wt),ct)}finally{const Rt=P!==null?Fe.get(P).__webglFramebuffer:null;Ae.bindFramebuffer(re.FRAMEBUFFER,Rt)}}},this.readRenderTargetPixelsAsync=async function(ne,Ee,Ue,ye,we,ct,lt){if(!(ne&&ne.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let yt=Fe.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&lt!==void 0&&(yt=yt[lt]),yt){const Rt=ne.texture,Ht=Rt.format,wt=Rt.type;if(!Ze.textureFormatReadable(Ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ze.textureTypeReadable(wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Ee>=0&&Ee<=ne.width-ye&&Ue>=0&&Ue<=ne.height-we){Ae.bindFramebuffer(re.FRAMEBUFFER,yt);const ht=re.createBuffer();re.bindBuffer(re.PIXEL_PACK_BUFFER,ht),re.bufferData(re.PIXEL_PACK_BUFFER,ct.byteLength,re.STREAM_READ),re.readPixels(Ee,Ue,ye,we,ze.convert(Ht),ze.convert(wt),0);const Nt=P!==null?Fe.get(P).__webglFramebuffer:null;Ae.bindFramebuffer(re.FRAMEBUFFER,Nt);const $t=re.fenceSync(re.SYNC_GPU_COMMANDS_COMPLETE,0);return re.flush(),await Jse(re,$t,4),re.bindBuffer(re.PIXEL_PACK_BUFFER,ht),re.getBufferSubData(re.PIXEL_PACK_BUFFER,0,ct),re.deleteBuffer(ht),re.deleteSync($t),ct}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(ne,Ee=null,Ue=0){ne.isTexture!==!0&&(Dd("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Ee=arguments[0]||null,ne=arguments[1]);const ye=Math.pow(2,-Ue),we=Math.floor(ne.image.width*ye),ct=Math.floor(ne.image.height*ye),lt=Ee!==null?Ee.x:0,yt=Ee!==null?Ee.y:0;J.setTexture2D(ne,0),re.copyTexSubImage2D(re.TEXTURE_2D,Ue,0,0,lt,yt,we,ct),Ae.unbindTexture()};const us=re.createFramebuffer(),Zr=re.createFramebuffer();this.copyTextureToTexture=function(ne,Ee,Ue=null,ye=null,we=0,ct=null){ne.isTexture!==!0&&(Dd("WebGLRenderer: copyTextureToTexture function signature has changed."),ye=arguments[0]||null,ne=arguments[1],Ee=arguments[2],ct=arguments[3]||0,Ue=null),ct===null&&(we!==0?(Dd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ct=we,we=0):ct=0);let lt,yt,Rt,Ht,wt,ht,Nt,$t,vn;const gn=ne.isCompressedTexture?ne.mipmaps[ct]:ne.image;if(Ue!==null)lt=Ue.max.x-Ue.min.x,yt=Ue.max.y-Ue.min.y,Rt=Ue.isBox3?Ue.max.z-Ue.min.z:1,Ht=Ue.min.x,wt=Ue.min.y,ht=Ue.isBox3?Ue.min.z:0;else{const _r=Math.pow(2,-we);lt=Math.floor(gn.width*_r),yt=Math.floor(gn.height*_r),ne.isDataArrayTexture?Rt=gn.depth:ne.isData3DTexture?Rt=Math.floor(gn.depth*_r):Rt=1,Ht=0,wt=0,ht=0}ye!==null?(Nt=ye.x,$t=ye.y,vn=ye.z):(Nt=0,$t=0,vn=0);const fn=ze.convert(Ee.format),Ut=ze.convert(Ee.type);let ln;Ee.isData3DTexture?(J.setTexture3D(Ee,0),ln=re.TEXTURE_3D):Ee.isDataArrayTexture||Ee.isCompressedArrayTexture?(J.setTexture2DArray(Ee,0),ln=re.TEXTURE_2D_ARRAY):(J.setTexture2D(Ee,0),ln=re.TEXTURE_2D),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,Ee.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,Ee.unpackAlignment);const un=re.getParameter(re.UNPACK_ROW_LENGTH),Wt=re.getParameter(re.UNPACK_IMAGE_HEIGHT),Mr=re.getParameter(re.UNPACK_SKIP_PIXELS),rr=re.getParameter(re.UNPACK_SKIP_ROWS),yr=re.getParameter(re.UNPACK_SKIP_IMAGES);re.pixelStorei(re.UNPACK_ROW_LENGTH,gn.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,gn.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Ht),re.pixelStorei(re.UNPACK_SKIP_ROWS,wt),re.pixelStorei(re.UNPACK_SKIP_IMAGES,ht);const yn=ne.isDataArrayTexture||ne.isData3DTexture,xr=Ee.isDataArrayTexture||Ee.isData3DTexture;if(ne.isDepthTexture){const _r=Fe.get(ne),Gr=Fe.get(Ee),lr=Fe.get(_r.__renderTarget),wn=Fe.get(Gr.__renderTarget);Ae.bindFramebuffer(re.READ_FRAMEBUFFER,lr.__webglFramebuffer),Ae.bindFramebuffer(re.DRAW_FRAMEBUFFER,wn.__webglFramebuffer);for(let li=0;li<Rt;li++)yn&&(re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Fe.get(ne).__webglTexture,we,ht+li),re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Fe.get(Ee).__webglTexture,ct,vn+li)),re.blitFramebuffer(Ht,wt,lt,yt,Nt,$t,lt,yt,re.DEPTH_BUFFER_BIT,re.NEAREST);Ae.bindFramebuffer(re.READ_FRAMEBUFFER,null),Ae.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else if(we!==0||ne.isRenderTargetTexture||Fe.has(ne)){const _r=Fe.get(ne),Gr=Fe.get(Ee);Ae.bindFramebuffer(re.READ_FRAMEBUFFER,us),Ae.bindFramebuffer(re.DRAW_FRAMEBUFFER,Zr);for(let lr=0;lr<Rt;lr++)yn?re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,_r.__webglTexture,we,ht+lr):re.framebufferTexture2D(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,_r.__webglTexture,we),xr?re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Gr.__webglTexture,ct,vn+lr):re.framebufferTexture2D(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Gr.__webglTexture,ct),we!==0?re.blitFramebuffer(Ht,wt,lt,yt,Nt,$t,lt,yt,re.COLOR_BUFFER_BIT,re.NEAREST):xr?re.copyTexSubImage3D(ln,ct,Nt,$t,vn+lr,Ht,wt,lt,yt):re.copyTexSubImage2D(ln,ct,Nt,$t,Ht,wt,lt,yt);Ae.bindFramebuffer(re.READ_FRAMEBUFFER,null),Ae.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else xr?ne.isDataTexture||ne.isData3DTexture?re.texSubImage3D(ln,ct,Nt,$t,vn,lt,yt,Rt,fn,Ut,gn.data):Ee.isCompressedArrayTexture?re.compressedTexSubImage3D(ln,ct,Nt,$t,vn,lt,yt,Rt,fn,gn.data):re.texSubImage3D(ln,ct,Nt,$t,vn,lt,yt,Rt,fn,Ut,gn):ne.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,ct,Nt,$t,lt,yt,fn,Ut,gn.data):ne.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,ct,Nt,$t,gn.width,gn.height,fn,gn.data):re.texSubImage2D(re.TEXTURE_2D,ct,Nt,$t,lt,yt,fn,Ut,gn);re.pixelStorei(re.UNPACK_ROW_LENGTH,un),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,Wt),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Mr),re.pixelStorei(re.UNPACK_SKIP_ROWS,rr),re.pixelStorei(re.UNPACK_SKIP_IMAGES,yr),ct===0&&Ee.generateMipmaps&&re.generateMipmap(ln),Ae.unbindTexture()},this.copyTextureToTexture3D=function(ne,Ee,Ue=null,ye=null,we=0){return ne.isTexture!==!0&&(Dd("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ue=arguments[0]||null,ye=arguments[1]||null,ne=arguments[2],Ee=arguments[3],we=arguments[4]||0),Dd('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(ne,Ee,Ue,ye,we)},this.initRenderTarget=function(ne){Fe.get(ne).__webglFramebuffer===void 0&&J.setupRenderTarget(ne)},this.initTexture=function(ne){ne.isCubeTexture?J.setTextureCube(ne,0):ne.isData3DTexture?J.setTexture3D(ne,0):ne.isDataArrayTexture||ne.isCompressedArrayTexture?J.setTexture2DArray(ne,0):J.setTexture2D(ne,0),Ae.unbindTexture()},this.resetState=function(){I=0,B=0,P=null,Ae.reset(),vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return $a}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Wn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Wn._getUnpackColorSpace()}}const EH=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:R2,AddEquation:Zc,AddOperation:tG,AdditiveAnimationBlendMode:N2,AdditiveBlending:dT,AgXToneMapping:oG,AlphaFormat:D2,AlwaysCompare:SG,AlwaysDepth:B1,AlwaysStencilFunc:gT,AmbientLight:aH,AnimationAction:gH,AnimationClip:Im,AnimationLoader:Sae,AnimationMixer:Kae,AnimationObjectGroup:Xae,AnimationUtils:vae,ArcCurve:FG,ArrayCamera:hH,ArrowHelper:gle,AttachedBindMode:mT,Audio:pH,AudioAnalyser:Oae,AudioContext:mP,AudioListener:Dae,AudioLoader:Pae,AxesHelper:vle,BackSide:Ws,BasicDepthPacking:hG,BasicShadowMap:F5,BatchedMesh:DG,Bone:xA,BooleanKeyframeTrack:wh,Box2:nle,Box3:qi,Box3Helper:ple,BoxGeometry:Ah,BoxHelper:hle,BufferAttribute:Kn,BufferGeometry:Mn,BufferGeometryLoader:fH,ByteType:P2,Cache:Vu,Camera:p0,CameraHelper:dle,CanvasTexture:Goe,CapsuleGeometry:wA,CatmullRomCurve3:OG,CineonToneMapping:iG,CircleGeometry:bA,ClampToEdgeWrapping:Bo,Clock:gP,Color:Tt,ColorKeyframeTrack:lP,ColorManagement:Wn,CompressedArrayTexture:Noe,CompressedCubeTexture:zoe,CompressedTexture:SA,CompressedTextureLoader:Aae,ConeGeometry:MA,ConstantAlphaFactor:Q5,ConstantColorFactor:Y5,Controls:xle,CubeCamera:TG,CubeReflectionMapping:tc,CubeRefractionMapping:gf,CubeTexture:m0,CubeTextureLoader:wae,CubeUVReflectionMapping:Gm,CubicBezierCurve:tP,CubicBezierCurve3:kG,CubicInterpolant:tH,CullFaceBack:fT,CullFaceFront:L5,CullFaceFrontBack:ese,CullFaceNone:D5,Curve:cl,CurvePath:NG,CustomBlending:O5,CustomToneMapping:sG,CylinderGeometry:Vm,Cylindrical:tle,Data3DTexture:gA,DataArrayTexture:h0,DataTexture:jl,DataTextureLoader:bae,DataUtils:doe,DecrementStencilOp:fse,DecrementWrapStencilOp:hse,DefaultLoadingManager:iH,DepthFormat:$d,DepthStencilFormat:fh,DepthTexture:Z2,DetachedBindMode:lG,DirectionalLight:hP,DirectionalLightHelper:fle,DiscreteInterpolant:nH,DodecahedronGeometry:EA,DoubleSide:oa,DstAlphaFactor:W5,DstColorFactor:q5,DynamicCopyUsage:Tse,DynamicDrawUsage:Ase,DynamicReadUsage:Mse,EdgesGeometry:zG,EllipseCurve:AA,EqualCompare:vG,EqualDepth:L1,EqualStencilFunc:vse,EquirectangularReflectionMapping:My,EquirectangularRefractionMapping:Ey,Euler:Uo,EventDispatcher:Yl,ExtrudeGeometry:TA,FileLoader:No,Float16BufferAttribute:xoe,Float32BufferAttribute:Yt,FloatType:uo,Fog:yA,FogExp2:vA,FramebufferTexture:Uoe,FrontSide:Kl,Frustum:y0,GLBufferAttribute:ele,GLSL1:Pse,GLSL3:vT,GreaterCompare:yG,GreaterDepth:O1,GreaterEqualCompare:_G,GreaterEqualDepth:F1,GreaterEqualStencilFunc:Sse,GreaterStencilFunc:xse,GridHelper:ule,Group:Hu,HalfFloatType:Hm,HemisphereLight:oH,HemisphereLightHelper:lle,IcosahedronGeometry:RA,ImageBitmapLoader:dH,ImageLoader:Oy,ImageUtils:MG,IncrementStencilOp:cse,IncrementWrapStencilOp:dse,InstancedBufferAttribute:xf,InstancedBufferGeometry:pP,InstancedInterleavedBuffer:Zae,InstancedMesh:Y2,Int16BufferAttribute:voe,Int32BufferAttribute:yoe,Int8BufferAttribute:poe,IntType:lA,InterleavedBuffer:g0,InterleavedBufferAttribute:yf,Interpolant:jm,InterpolateDiscrete:Cm,InterpolateLinear:Tm,InterpolateSmooth:e1,InvertStencilOp:pse,KeepStencilOp:Bd,KeyframeTrack:fl,LOD:BG,LatheGeometry:x0,Layers:Zd,LessCompare:gG,LessDepth:D1,LessEqualCompare:H2,LessEqualDepth:uh,LessEqualStencilFunc:yse,LessStencilFunc:gse,Light:Mf,LightProbe:cH,Line:rc,Line3:rle,LineBasicMaterial:Ms,LineCurve:nP,LineCurve3:UG,LineDashedMaterial:QG,LineLoop:$2,LineSegments:ul,LinearFilter:zr,LinearInterpolant:aP,LinearMipMapLinearFilter:ise,LinearMipMapNearestFilter:rse,LinearMipmapLinearFilter:la,LinearMipmapNearestFilter:lm,LinearSRGBColorSpace:dh,LinearToneMapping:nG,LinearTransfer:Ty,Loader:Es,LoaderUtils:lf,LoadingManager:uP,LoopOnce:uG,LoopPingPong:fG,LoopRepeat:cG,LuminanceAlphaFormat:O2,LuminanceFormat:F2,MOUSE:Pd,Material:Bi,MaterialLoader:UA,MathUtils:AG,Matrix2:_P,Matrix3:_n,Matrix4:tn,MaxEquation:z5,Mesh:Lr,MeshBasicMaterial:co,MeshDepthMaterial:OA,MeshDistanceMaterial:kA,MeshLambertMaterial:YG,MeshMatcapMaterial:$G,MeshNormalMaterial:JG,MeshPhongMaterial:qG,MeshPhysicalMaterial:ma,MeshStandardMaterial:A0,MeshToonMaterial:KG,MinEquation:N5,MirroredRepeatWrapping:Mm,MixOperation:eG,MultiplyBlending:pT,MultiplyOperation:f0,NearestFilter:Wi,NearestMipMapLinearFilter:nse,NearestMipMapNearestFilter:tse,NearestMipmapLinearFilter:Hd,NearestMipmapNearestFilter:aA,NeutralToneMapping:aG,NeverCompare:mG,NeverDepth:I1,NeverStencilFunc:mse,NoBlending:Xu,NoColorSpace:Nu,NoToneMapping:Vl,NormalAnimationBlendMode:pA,NormalBlending:Yd,NotEqualCompare:xG,NotEqualDepth:k1,NotEqualStencilFunc:_se,NumberKeyframeTrack:ph,Object3D:zn,ObjectLoader:Tae,ObjectSpaceNormalMap:pG,OctahedronGeometry:_0,OneFactor:H5,OneMinusConstantAlphaFactor:Z5,OneMinusConstantColorFactor:$5,OneMinusDstAlphaFactor:X5,OneMinusDstColorFactor:K5,OneMinusSrcAlphaFactor:P1,OneMinusSrcColorFactor:j5,OrthographicCamera:Ku,PCFShadowMap:sA,PCFSoftShadowMap:Gv,PMREMGenerator:MT,Path:By,PerspectiveCamera:Qr,Plane:Uu,PlaneGeometry:ac,PlaneHelper:mle,PointLight:dP,PointLightHelper:ole,Points:Q2,PointsMaterial:_A,PolarGridHelper:cle,PolyhedronGeometry:bf,PositionalAudio:Fae,PropertyBinding:jn,PropertyMixer:mH,QuadraticBezierCurve:rP,QuadraticBezierCurve3:iP,Quaternion:Xi,QuaternionKeyframeTrack:mh,QuaternionLinearInterpolant:rH,RED_GREEN_RGTC2_Format:lS,RED_RGTC1_Format:U2,REVISION:c0,RGBADepthPacking:G2,RGBAFormat:ws,RGBAIntegerFormat:hA,RGBA_ASTC_10x10_Format:nS,RGBA_ASTC_10x5_Format:Z1,RGBA_ASTC_10x6_Format:eS,RGBA_ASTC_10x8_Format:tS,RGBA_ASTC_12x10_Format:rS,RGBA_ASTC_12x12_Format:iS,RGBA_ASTC_4x4_Format:W1,RGBA_ASTC_5x4_Format:X1,RGBA_ASTC_5x5_Format:q1,RGBA_ASTC_6x5_Format:K1,RGBA_ASTC_6x6_Format:J1,RGBA_ASTC_8x5_Format:Y1,RGBA_ASTC_8x6_Format:$1,RGBA_ASTC_8x8_Format:Q1,RGBA_BPTC_Format:Xv,RGBA_ETC2_EAC_Format:j1,RGBA_PVRTC_2BPPV1_Format:G1,RGBA_PVRTC_4BPPV1_Format:z1,RGBA_S3TC_DXT1_Format:Vv,RGBA_S3TC_DXT3_Format:jv,RGBA_S3TC_DXT5_Format:Wv,RGBDepthPacking:ose,RGBFormat:L2,RGBIntegerFormat:sse,RGB_BPTC_SIGNED_Format:sS,RGB_BPTC_UNSIGNED_Format:oS,RGB_ETC1_Format:H1,RGB_ETC2_Format:V1,RGB_PVRTC_2BPPV1_Format:N1,RGB_PVRTC_4BPPV1_Format:U1,RGB_S3TC_DXT1_Format:Hv,RGDepthPacking:ase,RGFormat:k2,RGIntegerFormat:dA,RawShaderMaterial:XG,Ray:Sh,Raycaster:vH,RectAreaLight:lH,RedFormat:fA,RedIntegerFormat:d0,ReinhardToneMapping:rG,RenderTarget:mA,RenderTarget3D:Jae,RenderTargetArray:Yae,RepeatWrapping:vf,ReplaceStencilOp:use,ReverseSubtractEquation:U5,RingGeometry:PA,SIGNED_RED_GREEN_RGTC2_Format:uS,SIGNED_RED_RGTC1_Format:aS,SRGBColorSpace:ao,SRGBTransfer:sr,Scene:q2,ShaderChunk:Cn,ShaderLib:Ka,ShaderMaterial:sl,ShadowMaterial:WG,Shape:eh,ShapeGeometry:IA,ShapePath:yle,ShapeUtils:Wl,ShortType:I2,Skeleton:v0,SkeletonHelper:sle,SkinnedMesh:J2,Source:tf,Sphere:Ki,SphereGeometry:S0,Spherical:wT,SphericalHarmonics3:uH,SplineCurve:sP,SpotLight:fP,SpotLightHelper:ile,Sprite:IG,SpriteMaterial:K2,SrcAlphaFactor:R1,SrcAlphaSaturateFactor:J5,SrcColorFactor:V5,StaticCopyUsage:Cse,StaticDrawUsage:Ry,StaticReadUsage:bse,StereoCamera:Iae,StreamCopyUsage:Rse,StreamDrawUsage:wse,StreamReadUsage:Ese,StringKeyframeTrack:bh,SubtractEquation:k5,SubtractiveBlending:hT,TOUCH:Id,TangentSpaceNormalMap:wf,TetrahedronGeometry:BA,Texture:Rr,TextureLoader:sH,TextureUtils:ble,TimestampQuery:Ise,TorusGeometry:DA,TorusKnotGeometry:LA,Triangle:lo,TriangleFanDrawMode:cS,TriangleStripDrawMode:z2,TrianglesDrawMode:dG,TubeGeometry:FA,UVMapping:oA,Uint16BufferAttribute:j2,Uint32BufferAttribute:W2,Uint8BufferAttribute:moe,Uint8ClampedBufferAttribute:goe,Uniform:xP,UniformsGroup:Qae,UniformsLib:Bt,UniformsUtils:X2,UnsignedByteType:il,UnsignedInt248Type:ch,UnsignedInt5999Type:B2,UnsignedIntType:nc,UnsignedShort4444Type:uA,UnsignedShort5551Type:cA,UnsignedShortType:Em,VSMShadowMap:Xa,Vector2:it,Vector3:le,Vector4:Nn,VectorKeyframeTrack:gh,VideoFrameTexture:koe,VideoTexture:LG,WebGL3DRenderTarget:noe,WebGLArrayRenderTarget:toe,WebGLCoordinateSystem:$a,WebGLCubeRenderTarget:RG,WebGLRenderTarget:Jl,WebGLRenderer:MH,WebGLUtils:bH,WebGPUCoordinateSystem:Py,WebXRController:t1,WireframeGeometry:jG,WrapAroundEnding:Cy,ZeroCurvatureEnding:Vd,ZeroFactor:G5,ZeroSlopeEnding:jd,ZeroStencilOp:lse,createCanvasElement:bG},Symbol.toStringTag,{value:"Module"}));var UE={exports:{}},Xc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk;function she(){return yk||(yk=1,Xc.ConcurrentRoot=1,Xc.ContinuousEventPriority=4,Xc.DefaultEventPriority=16,Xc.DiscreteEventPriority=1,Xc.IdleEventPriority=536870912,Xc.LegacyRoot=0),Xc}var xk;function ohe(){return xk||(xk=1,UE.exports=she()),UE.exports}var im=ohe();function ahe(t){let e;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=f?d:Object.assign({},e,d),n.forEach(g=>g(e,p))}},i=()=>e,s=(u,f=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function g(){const y=f(e);if(!d(p,y)){const S=p;u(p=y,S)}}return n.add(g),()=>n.delete(g)},l={setState:r,getState:i,subscribe:(u,f,d)=>f||d?s(u,f,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const lhe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_k=lhe?G.useEffect:G.useLayoutEffect;function uhe(t){const e=typeof t=="function"?ahe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=G.useReducer(_=>_+1,0),o=e.getState(),a=G.useRef(o),l=G.useRef(r),u=G.useRef(i),f=G.useRef(!1),d=G.useRef();d.current===void 0&&(d.current=r(o));let p,g=!1;(a.current!==o||l.current!==r||u.current!==i||f.current)&&(p=r(o),g=!i(d.current,p)),_k(()=>{g&&(d.current=p),a.current=o,l.current=r,u.current=i,f.current=!1});const y=G.useRef(o);_k(()=>{const _=()=>{try{const b=e.getState(),w=l.current(b);u.current(d.current,w)||(a.current=b,d.current=w,s())}catch{f.current=!0,s()}},x=e.subscribe(_);return e.getState()!==y.current&&_(),x},[]);const S=g?p:d.current;return G.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const che=t=>typeof t=="object"&&typeof t.then=="function",Xd=[];function CH(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function TH(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Xd)if(CH(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Xd.indexOf(i);s!==-1&&Xd.splice(s,1)},promise:(che(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Xd.push(i),!n)throw i.promise}const RH=(t,e,n)=>TH(t,e,!1,n),fhe=(t,e,n)=>void TH(t,e,!0,n),dhe=t=>{if(t===void 0||t.length===0)Xd.splice(0,Xd.length);else{const e=Xd.find(n=>CH(t,n.keys,n.equal));e&&e.remove()}};var NE={exports:{}},zE={exports:{}},GE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk;function hhe(){return Sk||(Sk=1,function(t){function e(W,Y){var Q=W.length;W.push(Y);e:for(;0<Q;){var z=Q-1>>>1,K=W[z];if(0<i(K,Y))W[z]=Y,W[Q]=K,Q=z;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],Q=W.pop();if(Q!==Y){W[0]=Q;e:for(var z=0,K=W.length,ae=K>>>1;z<ae;){var Z=2*(z+1)-1,se=W[Z],oe=Z+1,ue=W[oe];if(0>i(se,Q))oe<K&&0>i(ue,se)?(W[z]=ue,W[oe]=Q,z=oe):(W[z]=se,W[Z]=Q,z=Z);else if(oe<K&&0>i(ue,Q))W[z]=ue,W[oe]=Q,z=oe;else break e}}return Y}function i(W,Y){var Q=W.sortIndex-Y.sortIndex;return Q!==0?Q:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,g=!1,y=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=W)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function M(W){if(S=!1,w(W),!y)if(n(l)!==null)y=!0,$(C);else{var Y=n(u);Y!==null&&ie(M,Y.startTime-W)}}function C(W,Y){y=!1,S&&(S=!1,x(P),P=-1),g=!0;var Q=p;try{for(w(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||W&&!O());){var z=d.callback;if(typeof z=="function"){d.callback=null,p=d.priorityLevel;var K=z(d.expirationTime<=Y);Y=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),w(Y)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var Z=n(u);Z!==null&&ie(M,Z.startTime-Y),ae=!1}return ae}finally{d=null,p=Q,g=!1}}var I=!1,B=null,P=-1,L=5,E=-1;function O(){return!(t.unstable_now()-E<L)}function U(){if(B!==null){var W=t.unstable_now();E=W;var Y=!0;try{Y=B(!0,W)}finally{Y?H():(I=!1,B=null)}}else I=!1}var H;if(typeof b=="function")H=function(){b(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,te=q.port2;q.port1.onmessage=U,H=function(){te.postMessage(null)}}else H=function(){_(U,0)};function $(W){B=W,I||(I=!0,H())}function ie(W,Y){P=_(function(){W(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,$(C))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var Q=p;p=Y;try{return W()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=p;p=W;try{return Y()}finally{p=Q}},t.unstable_scheduleCallback=function(W,Y,Q){var z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,W){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Q+K,W={id:f++,callback:Y,priorityLevel:W,startTime:Q,expirationTime:K,sortIndex:-1},Q>z?(W.sortIndex=Q,e(u,W),n(l)===null&&W===n(u)&&(S?(x(P),P=-1):S=!0,ie(M,Q-z))):(W.sortIndex=K,e(l,W),y||g||(y=!0,$(C))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var Y=p;return function(){var Q=p;p=Y;try{return W.apply(this,arguments)}finally{p=Q}}}}(GE)),GE}var Ak;function PH(){return Ak||(Ak=1,zE.exports=hhe()),zE.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE,wk;function phe(){return wk||(wk=1,HE=function(e){var n={},r=Wy(),i=PH(),s=Object.assign;function o(m){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+m,T=1;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),C=Symbol.iterator;function I(m){return m===null||typeof m!="object"?null:(m=C&&m[C]||m["@@iterator"],typeof m=="function"?m:null)}function B(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case x:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case y:return(m.displayName||"Context")+".Consumer";case g:return(m._context.displayName||"Context")+".Provider";case S:var v=m.render;return m=m.displayName,m||(m=v.displayName||v.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case b:return v=m.displayName||null,v!==null?v:B(m.type)||"Memo";case w:v=m._payload,m=m._init;try{return B(m(v))}catch{}}return null}function P(m){var v=m.type;switch(m.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=v.render,m=m.displayName||m.name||"",v.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(v);case 8:return v===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function L(m){var v=m,T=m;if(m.alternate)for(;v.return;)v=v.return;else{m=v;do v=m,(v.flags&4098)!==0&&(T=v.return),m=v.return;while(m)}return v.tag===3?T:null}function E(m){if(L(m)!==m)throw Error(o(188))}function O(m){var v=m.alternate;if(!v){if(v=L(m),v===null)throw Error(o(188));return v!==m?null:m}for(var T=m,D=v;;){var k=T.return;if(k===null)break;var j=k.alternate;if(j===null){if(D=k.return,D!==null){T=D;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===T)return E(k),m;if(j===D)return E(k),v;j=j.sibling}throw Error(o(188))}if(T.return!==D.return)T=k,D=j;else{for(var fe=!1,Ce=k.child;Ce;){if(Ce===T){fe=!0,T=k,D=j;break}if(Ce===D){fe=!0,D=k,T=j;break}Ce=Ce.sibling}if(!fe){for(Ce=j.child;Ce;){if(Ce===T){fe=!0,T=j,D=k;break}if(Ce===D){fe=!0,D=j,T=k;break}Ce=Ce.sibling}if(!fe)throw Error(o(189))}}if(T.alternate!==D)throw Error(o(190))}if(T.tag!==3)throw Error(o(188));return T.stateNode.current===T?m:v}function U(m){return m=O(m),m!==null?H(m):null}function H(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var v=H(m);if(v!==null)return v;m=m.sibling}return null}function q(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var v=q(m);if(v!==null)return v}m=m.sibling}return null}var te=Array.isArray,$=e.getPublicInstance,ie=e.getRootHostContext,W=e.getChildHostContext,Y=e.prepareForCommit,Q=e.resetAfterCommit,z=e.createInstance,K=e.appendInitialChild,ae=e.finalizeInitialChildren,Z=e.prepareUpdate,se=e.shouldSetTextContent,oe=e.createTextInstance,ue=e.scheduleTimeout,ve=e.cancelTimeout,Be=e.noTimeout,Le=e.isPrimaryRenderer,Ve=e.supportsMutation,xe=e.supportsPersistence,Te=e.supportsHydration,re=e.getInstanceFromNode,nt=e.preparePortalMount,ke=e.getCurrentEventPriority,Ze=e.detachDeletedInstance,Ae=e.supportsMicrotasks,tt=e.scheduleMicrotask,Fe=e.supportsTestSelectors,J=e.findFiberRoot,X=e.getBoundingRect,he=e.getTextContent,Se=e.isHiddenSubtree,Me=e.matchAccessibilityRole,De=e.setFocusIfFocusable,qe=e.setupIntersectionObserver,Ne=e.appendChild,Ke=e.appendChildToContainer,ft=e.commitTextUpdate,Xe=e.commitMount,ot=e.commitUpdate,at=e.insertBefore,mt=e.insertInContainerBefore,$e=e.removeChild,pe=e.removeChildFromContainer,ze=e.resetTextContent,vt=e.hideInstance,de=e.hideTextInstance,je=e.unhideInstance,Ie=e.unhideTextInstance,Ye=e.clearContainer,ut=e.cloneInstance,st=e.createContainerChildSet,Mt=e.appendChildToContainerChildSet,Vt=e.finalizeContainerChildren,ce=e.replaceContainerChildren,ge=e.cloneHiddenInstance,Pe=e.cloneHiddenTextInstance,Qe=e.canHydrateInstance,dt=e.canHydrateTextInstance,Ot=e.canHydrateSuspenseInstance,Lt=e.isSuspenseInstancePending,Et=e.isSuspenseInstanceFallback,Dt=e.registerSuspenseInstanceRetry,St=e.getNextHydratableSibling,Pt=e.getFirstHydratableChild,kt=e.getFirstHydratableChildWithinContainer,on=e.getFirstHydratableChildWithinSuspenseInstance,Gn=e.hydrateInstance,On=e.hydrateTextInstance,Yn=e.hydrateSuspenseInstance,Hn=e.getNextHydratableInstanceAfterSuspenseInstance,Xn=e.commitHydratedContainer,wi=e.commitHydratedSuspenseInstance,us=e.clearSuspenseBoundary,Zr=e.clearSuspenseBoundaryFromContainer,ne=e.shouldDeleteUnhydratedTailInstances,Ee=e.didNotMatchHydratedContainerTextInstance,Ue=e.didNotMatchHydratedTextInstance,ye;function we(m){if(ye===void 0)try{throw Error()}catch(T){var v=T.stack.trim().match(/\n( *(at )?)/);ye=v&&v[1]||""}return`
`+ye+m}var ct=!1;function lt(m,v){if(!m||ct)return"";ct=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(_t){var D=_t}Reflect.construct(m,[],v)}else{try{v.call()}catch(_t){D=_t}m.call(v.prototype)}else{try{throw Error()}catch(_t){D=_t}m()}}catch(_t){if(_t&&D&&typeof _t.stack=="string"){for(var k=_t.stack.split(`
`),j=D.stack.split(`
`),fe=k.length-1,Ce=j.length-1;1<=fe&&0<=Ce&&k[fe]!==j[Ce];)Ce--;for(;1<=fe&&0<=Ce;fe--,Ce--)if(k[fe]!==j[Ce]){if(fe!==1||Ce!==1)do if(fe--,Ce--,0>Ce||k[fe]!==j[Ce]){var et=`
`+k[fe].replace(" at new "," at ");return m.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",m.displayName)),et}while(1<=fe&&0<=Ce);break}}}finally{ct=!1,Error.prepareStackTrace=T}return(m=m?m.displayName||m.name:"")?we(m):""}var yt=Object.prototype.hasOwnProperty,Rt=[],Ht=-1;function wt(m){return{current:m}}function ht(m){0>Ht||(m.current=Rt[Ht],Rt[Ht]=null,Ht--)}function Nt(m,v){Ht++,Rt[Ht]=m.current,m.current=v}var $t={},vn=wt($t),gn=wt(!1),fn=$t;function Ut(m,v){var T=m.type.contextTypes;if(!T)return $t;var D=m.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===v)return D.__reactInternalMemoizedMaskedChildContext;var k={},j;for(j in T)k[j]=v[j];return D&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=v,m.__reactInternalMemoizedMaskedChildContext=k),k}function ln(m){return m=m.childContextTypes,m!=null}function un(){ht(gn),ht(vn)}function Wt(m,v,T){if(vn.current!==$t)throw Error(o(168));Nt(vn,v),Nt(gn,T)}function Mr(m,v,T){var D=m.stateNode;if(v=v.childContextTypes,typeof D.getChildContext!="function")return T;D=D.getChildContext();for(var k in D)if(!(k in v))throw Error(o(108,P(m)||"Unknown",k));return s({},T,D)}function rr(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||$t,fn=vn.current,Nt(vn,m),Nt(gn,gn.current),!0}function yr(m,v,T){var D=m.stateNode;if(!D)throw Error(o(169));T?(m=Mr(m,v,fn),D.__reactInternalMemoizedMergedChildContext=m,ht(gn),ht(vn),Nt(vn,m)):ht(gn),Nt(gn,T)}var yn=Math.clz32?Math.clz32:Gr,xr=Math.log,_r=Math.LN2;function Gr(m){return m>>>=0,m===0?32:31-(xr(m)/_r|0)|0}var lr=64,wn=4194304;function li(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function dl(m,v){var T=m.pendingLanes;if(T===0)return 0;var D=0,k=m.suspendedLanes,j=m.pingedLanes,fe=T&268435455;if(fe!==0){var Ce=fe&~k;Ce!==0?D=li(Ce):(j&=fe,j!==0&&(D=li(j)))}else fe=T&~k,fe!==0?D=li(fe):j!==0&&(D=li(j));if(D===0)return 0;if(v!==0&&v!==D&&(v&k)===0&&(k=D&-D,j=v&-v,k>=j||k===16&&(j&4194240)!==0))return v;if((D&4)!==0&&(D|=T&16),v=m.entangledLanes,v!==0)for(m=m.entanglements,v&=D;0<v;)T=31-yn(v),k=1<<T,D|=m[T],v&=~k;return D}function lc(m,v){switch(m){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(m,v){for(var T=m.suspendedLanes,D=m.pingedLanes,k=m.expirationTimes,j=m.pendingLanes;0<j;){var fe=31-yn(j),Ce=1<<fe,et=k[fe];et===-1?((Ce&T)===0||(Ce&D)!==0)&&(k[fe]=lc(Ce,v)):et<=v&&(m.expiredLanes|=Ce),j&=~Ce}}function Go(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function $l(m){for(var v=[],T=0;31>T;T++)v.push(m);return v}function Xs(m,v,T){m.pendingLanes|=v,v!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,v=31-yn(v),m[v]=T}function go(m,v){var T=m.pendingLanes&~v;m.pendingLanes=v,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=v,m.mutableReadLanes&=v,m.entangledLanes&=v,v=m.entanglements;var D=m.eventTimes;for(m=m.expirationTimes;0<T;){var k=31-yn(T),j=1<<k;v[k]=0,D[k]=-1,m[k]=-1,T&=~j}}function bi(m,v){var T=m.entangledLanes|=v;for(m=m.entanglements;T;){var D=31-yn(T),k=1<<D;k&v|m[D]&v&&(m[D]|=v),T&=~k}}var dn=0;function qs(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var Cs=i.unstable_scheduleCallback,Ho=i.unstable_cancelCallback,Ks=i.unstable_shouldYield,Mh=i.unstable_requestPaint,Sr=i.unstable_now,vo=i.unstable_ImmediatePriority,Eh=i.unstable_UserBlockingPriority,Oi=i.unstable_NormalPriority,hl=i.unstable_IdlePriority,pl=null,Ts=null;function ga(m){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(pl,m,void 0,(m.current.flags&128)===128)}catch{}}function ml(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var ui=typeof Object.is=="function"?Object.is:ml,ci=null,Vo=!1,Js=!1;function Ql(m){ci===null?ci=[m]:ci.push(m)}function gl(m){Vo=!0,Ql(m)}function ki(){if(!Js&&ci!==null){Js=!0;var m=0,v=dn;try{var T=ci;for(dn=1;m<T.length;m++){var D=T[m];do D=D(!0);while(D!==null)}ci=null,Vo=!1}catch(k){throw ci!==null&&(ci=ci.slice(m+1)),Cs(vo,ki),k}finally{dn=v,Js=!1}}return null}var vl=a.ReactCurrentBatchConfig;function cs(m,v){if(ui(m,v))return!0;if(typeof m!="object"||m===null||typeof v!="object"||v===null)return!1;var T=Object.keys(m),D=Object.keys(v);if(T.length!==D.length)return!1;for(D=0;D<T.length;D++){var k=T[D];if(!yt.call(v,k)||!ui(m[k],v[k]))return!1}return!0}function va(m){switch(m.tag){case 5:return we(m.type);case 16:return we("Lazy");case 13:return we("Suspense");case 19:return we("SuspenseList");case 0:case 2:case 15:return m=lt(m.type,!1),m;case 11:return m=lt(m.type.render,!1),m;case 1:return m=lt(m.type,!0),m;default:return""}}function fi(m,v){if(m&&m.defaultProps){v=s({},v),m=m.defaultProps;for(var T in m)v[T]===void 0&&(v[T]=m[T]);return v}return v}var ei=wt(null),ya=null,fs=null,xa=null;function di(){xa=fs=ya=null}function _a(m,v,T){Le?(Nt(ei,v._currentValue),v._currentValue=T):(Nt(ei,v._currentValue2),v._currentValue2=T)}function Hr(m){var v=ei.current;ht(ei),Le?m._currentValue=v:m._currentValue2=v}function ti(m,v,T){for(;m!==null;){var D=m.alternate;if((m.childLanes&v)!==v?(m.childLanes|=v,D!==null&&(D.childLanes|=v)):D!==null&&(D.childLanes&v)!==v&&(D.childLanes|=v),m===T)break;m=m.return}}function Fr(m,v){ya=m,xa=fs=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&v)!==0&&(gi=!0),m.firstContext=null)}function Er(m){var v=Le?m._currentValue:m._currentValue2;if(xa!==m)if(m={context:m,memoizedValue:v,next:null},fs===null){if(ya===null)throw Error(o(308));fs=m,ya.dependencies={lanes:0,firstContext:m}}else fs=fs.next=m;return v}var Ji=null,Ys=!1;function cc(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qm(m,v){m=m.updateQueue,v.updateQueue===m&&(v.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Sa(m,v){return{eventTime:m,lane:v,tag:0,payload:null,callback:null,next:null}}function yl(m,v){var T=m.updateQueue;T!==null&&(T=T.shared,kr!==null&&(m.mode&1)!==0&&(bn&2)===0?(m=T.interleaved,m===null?(v.next=v,Ji===null?Ji=[T]:Ji.push(T)):(v.next=m.next,m.next=v),T.interleaved=v):(m=T.pending,m===null?v.next=v:(v.next=m.next,m.next=v),T.pending=v))}function Ch(m,v,T){if(v=v.updateQueue,v!==null&&(v=v.shared,(T&4194240)!==0)){var D=v.lanes;D&=m.pendingLanes,T|=D,v.lanes=T,bi(m,T)}}function Th(m,v){var T=m.updateQueue,D=m.alternate;if(D!==null&&(D=D.updateQueue,T===D)){var k=null,j=null;if(T=T.firstBaseUpdate,T!==null){do{var fe={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};j===null?k=j=fe:j=j.next=fe,T=T.next}while(T!==null);j===null?k=j=v:j=j.next=v}else k=j=v;T={baseState:D.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:D.shared,effects:D.effects},m.updateQueue=T;return}m=T.lastBaseUpdate,m===null?T.firstBaseUpdate=v:m.next=v,T.lastBaseUpdate=v}function Rh(m,v,T,D){var k=m.updateQueue;Ys=!1;var j=k.firstBaseUpdate,fe=k.lastBaseUpdate,Ce=k.shared.pending;if(Ce!==null){k.shared.pending=null;var et=Ce,_t=et.next;et.next=null,fe===null?j=_t:fe.next=_t,fe=et;var Gt=m.alternate;Gt!==null&&(Gt=Gt.updateQueue,Ce=Gt.lastBaseUpdate,Ce!==fe&&(Ce===null?Gt.firstBaseUpdate=_t:Ce.next=_t,Gt.lastBaseUpdate=et))}if(j!==null){var pn=k.baseState;fe=0,Gt=_t=et=null,Ce=j;do{var en=Ce.lane,En=Ce.eventTime;if((D&en)===en){Gt!==null&&(Gt=Gt.next={eventTime:En,lane:0,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null});e:{var Ft=m,Pi=Ce;switch(en=v,En=T,Pi.tag){case 1:if(Ft=Pi.payload,typeof Ft=="function"){pn=Ft.call(En,pn,en);break e}pn=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Pi.payload,en=typeof Ft=="function"?Ft.call(En,pn,en):Ft,en==null)break e;pn=s({},pn,en);break e;case 2:Ys=!0}}Ce.callback!==null&&Ce.lane!==0&&(m.flags|=64,en=k.effects,en===null?k.effects=[Ce]:en.push(Ce))}else En={eventTime:En,lane:en,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},Gt===null?(_t=Gt=En,et=pn):Gt=Gt.next=En,fe|=en;if(Ce=Ce.next,Ce===null){if(Ce=k.shared.pending,Ce===null)break;en=Ce,Ce=en.next,en.next=null,k.lastBaseUpdate=en,k.shared.pending=null}}while(!0);if(Gt===null&&(et=pn),k.baseState=et,k.firstBaseUpdate=_t,k.lastBaseUpdate=Gt,v=k.shared.interleaved,v!==null){k=v;do fe|=k.lane,k=k.next;while(k!==v)}else j===null&&(k.shared.lanes=0);qo|=fe,m.lanes=fe,m.memoizedState=pn}}function P0(m,v,T){if(m=v.effects,v.effects=null,m!==null)for(v=0;v<m.length;v++){var D=m[v],k=D.callback;if(k!==null){if(D.callback=null,D=T,typeof k!="function")throw Error(o(191,k));k.call(D)}}}var I0=new r.Component().refs;function Km(m,v,T,D){v=m.memoizedState,T=T(D,v),T=T==null?v:s({},v,T),m.memoizedState=T,m.lanes===0&&(m.updateQueue.baseState=T)}var Ph={isMounted:function(m){return(m=m._reactInternals)?L(m)===m:!1},enqueueSetState:function(m,v,T){m=m._reactInternals;var D=Vn(),k=bo(m),j=Sa(D,k);j.payload=v,T!=null&&(j.callback=T),yl(m,j),v=zi(m,k,D),v!==null&&Ch(v,m,k)},enqueueReplaceState:function(m,v,T){m=m._reactInternals;var D=Vn(),k=bo(m),j=Sa(D,k);j.tag=1,j.payload=v,T!=null&&(j.callback=T),yl(m,j),v=zi(m,k,D),v!==null&&Ch(v,m,k)},enqueueForceUpdate:function(m,v){m=m._reactInternals;var T=Vn(),D=bo(m),k=Sa(T,D);k.tag=2,v!=null&&(k.callback=v),yl(m,k),v=zi(m,D,T),v!==null&&Ch(v,m,D)}};function Jm(m,v,T,D,k,j,fe){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(D,j,fe):v.prototype&&v.prototype.isPureReactComponent?!cs(T,D)||!cs(k,j):!0}function B0(m,v,T){var D=!1,k=$t,j=v.contextType;return typeof j=="object"&&j!==null?j=Er(j):(k=ln(v)?fn:vn.current,D=v.contextTypes,j=(D=D!=null)?Ut(m,k):$t),v=new v(T,j),m.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ph,m.stateNode=v,v._reactInternals=m,D&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=k,m.__reactInternalMemoizedMaskedChildContext=j),v}function D0(m,v,T,D){m=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(T,D),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(T,D),v.state!==m&&Ph.enqueueReplaceState(v,v.state,null)}function Ym(m,v,T,D){var k=m.stateNode;k.props=T,k.state=m.memoizedState,k.refs=I0,cc(m);var j=v.contextType;typeof j=="object"&&j!==null?k.context=Er(j):(j=ln(v)?fn:vn.current,k.context=Ut(m,j)),k.state=m.memoizedState,j=v.getDerivedStateFromProps,typeof j=="function"&&(Km(m,v,j,T),k.state=m.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(v=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),v!==k.state&&Ph.enqueueReplaceState(k,k.state,null),Rh(m,T,k,D),k.state=m.memoizedState),typeof k.componentDidMount=="function"&&(m.flags|=4194308)}var fc=[],xl=0,Ih=null,Bh=0,$s=[],Rs=0,Zl=null,Aa=1,wa="";function eu(m,v){fc[xl++]=Bh,fc[xl++]=Ih,Ih=m,Bh=v}function L0(m,v,T){$s[Rs++]=Aa,$s[Rs++]=wa,$s[Rs++]=Zl,Zl=m;var D=Aa;m=wa;var k=32-yn(D)-1;D&=~(1<<k),T+=1;var j=32-yn(v)+k;if(30<j){var fe=k-k%5;j=(D&(1<<fe)-1).toString(32),D>>=fe,k-=fe,Aa=1<<32-yn(v)+k|T<<k|D,wa=j+m}else Aa=1<<j|T<<k|D,wa=m}function $m(m){m.return!==null&&(eu(m,1),L0(m,1,0))}function Qm(m){for(;m===Ih;)Ih=fc[--xl],fc[xl]=null,Bh=fc[--xl],fc[xl]=null;for(;m===Zl;)Zl=$s[--Rs],$s[Rs]=null,wa=$s[--Rs],$s[Rs]=null,Aa=$s[--Rs],$s[Rs]=null}var Yi=null,Mi=null,Ar=!1,dc=!1,Qs=null;function Zm(m,v){var T=Os(5,null,null,0);T.elementType="DELETED",T.stateNode=v,T.return=m,v=m.deletions,v===null?(m.deletions=[T],m.flags|=16):v.push(T)}function eg(m,v){switch(m.tag){case 5:return v=Qe(v,m.type,m.pendingProps),v!==null?(m.stateNode=v,Yi=m,Mi=Pt(v),!0):!1;case 6:return v=dt(v,m.pendingProps),v!==null?(m.stateNode=v,Yi=m,Mi=null,!0):!1;case 13:if(v=Ot(v),v!==null){var T=Zl!==null?{id:Aa,overflow:wa}:null;return m.memoizedState={dehydrated:v,treeContext:T,retryLane:1073741824},T=Os(18,null,null,0),T.stateNode=v,T.return=m,m.child=T,Yi=m,Mi=null,!0}return!1;default:return!1}}function Dh(m){return(m.mode&1)!==0&&(m.flags&128)===0}function _l(m){if(Ar){var v=Mi;if(v){var T=v;if(!eg(m,v)){if(Dh(m))throw Error(o(418));v=St(T);var D=Yi;v&&eg(m,v)?Zm(D,T):(m.flags=m.flags&-4097|2,Ar=!1,Yi=m)}}else{if(Dh(m))throw Error(o(418));m.flags=m.flags&-4097|2,Ar=!1,Yi=m}}}function F0(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Yi=m}function Ef(m){if(!Te||m!==Yi)return!1;if(!Ar)return F0(m),Ar=!0,!1;if(m.tag!==3&&(m.tag!==5||ne(m.type)&&!se(m.type,m.memoizedProps))){var v=Mi;if(v){if(Dh(m)){for(m=Mi;m;)m=St(m);throw Error(o(418))}for(;v;)Zm(m,v),v=St(v)}}if(F0(m),m.tag===13){if(!Te)throw Error(o(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));Mi=Hn(m)}else Mi=Yi?St(m.stateNode):null;return!0}function hc(){Te&&(Mi=Yi=null,dc=Ar=!1)}function Lh(m){Qs===null?Qs=[m]:Qs.push(m)}function pc(m,v,T){if(m=T.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(o(309));var D=T.stateNode}if(!D)throw Error(o(147,m));var k=D,j=""+m;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===j?v.ref:(v=function(fe){var Ce=k.refs;Ce===I0&&(Ce=k.refs={}),fe===null?delete Ce[j]:Ce[j]=fe},v._stringRef=j,v)}if(typeof m!="string")throw Error(o(284));if(!T._owner)throw Error(o(290,m))}return m}function Sl(m,v){throw m=Object.prototype.toString.call(v),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":m))}function mc(m){var v=m._init;return v(m._payload)}function O0(m){function v(He,Re){if(m){var Je=He.deletions;Je===null?(He.deletions=[Re],He.flags|=16):Je.push(Re)}}function T(He,Re){if(!m)return null;for(;Re!==null;)v(He,Re),Re=Re.sibling;return null}function D(He,Re){for(He=new Map;Re!==null;)Re.key!==null?He.set(Re.key,Re):He.set(Re.index,Re),Re=Re.sibling;return He}function k(He,Re){return He=ka(He,Re),He.index=0,He.sibling=null,He}function j(He,Re,Je){return He.index=Je,m?(Je=He.alternate,Je!==null?(Je=Je.index,Je<Re?(He.flags|=2,Re):Je):(He.flags|=2,Re)):(He.flags|=1048576,Re)}function fe(He){return m&&He.alternate===null&&(He.flags|=2),He}function Ce(He,Re,Je,It){return Re===null||Re.tag!==6?(Re=ap(Je,He.mode,It),Re.return=He,Re):(Re=k(Re,Je),Re.return=He,Re)}function et(He,Re,Je,It){var Jt=Je.type;return Jt===f?Gt(He,Re,Je.props.children,It,Je.key):Re!==null&&(Re.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===w&&mc(Jt)===Re.type)?(It=k(Re,Je.props),It.ref=pc(He,Re,Je),It.return=He,It):(It=op(Je.type,Je.key,Je.props,null,He.mode,It),It.ref=pc(He,Re,Je),It.return=He,It)}function _t(He,Re,Je,It){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Je.containerInfo||Re.stateNode.implementation!==Je.implementation?(Re=lp(Je,He.mode,It),Re.return=He,Re):(Re=k(Re,Je.children||[]),Re.return=He,Re)}function Gt(He,Re,Je,It,Jt){return Re===null||Re.tag!==7?(Re=Au(Je,He.mode,It,Jt),Re.return=He,Re):(Re=k(Re,Je),Re.return=He,Re)}function pn(He,Re,Je){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Re=ap(""+Re,He.mode,Je),Re.return=He,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:return Je=op(Re.type,Re.key,Re.props,null,He.mode,Je),Je.ref=pc(He,null,Re),Je.return=He,Je;case u:return Re=lp(Re,He.mode,Je),Re.return=He,Re;case w:var It=Re._init;return pn(He,It(Re._payload),Je)}if(te(Re)||I(Re))return Re=Au(Re,He.mode,Je,null),Re.return=He,Re;Sl(He,Re)}return null}function en(He,Re,Je,It){var Jt=Re!==null?Re.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Jt!==null?null:Ce(He,Re,""+Je,It);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case l:return Je.key===Jt?et(He,Re,Je,It):null;case u:return Je.key===Jt?_t(He,Re,Je,It):null;case w:return Jt=Je._init,en(He,Re,Jt(Je._payload),It)}if(te(Je)||I(Je))return Jt!==null?null:Gt(He,Re,Je,It,null);Sl(He,Je)}return null}function En(He,Re,Je,It,Jt){if(typeof It=="string"&&It!==""||typeof It=="number")return He=He.get(Je)||null,Ce(Re,He,""+It,Jt);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case l:return He=He.get(It.key===null?Je:It.key)||null,et(Re,He,It,Jt);case u:return He=He.get(It.key===null?Je:It.key)||null,_t(Re,He,It,Jt);case w:var xn=It._init;return En(He,Re,Je,xn(It._payload),Jt)}if(te(It)||I(It))return He=He.get(Je)||null,Gt(Re,He,It,Jt,null);Sl(Re,It)}return null}function Ft(He,Re,Je,It){for(var Jt=null,xn=null,mn=Re,kn=Re=0,jr=null;mn!==null&&kn<Je.length;kn++){mn.index>kn?(jr=mn,mn=null):jr=mn.sibling;var Dn=en(He,mn,Je[kn],It);if(Dn===null){mn===null&&(mn=jr);break}m&&mn&&Dn.alternate===null&&v(He,mn),Re=j(Dn,Re,kn),xn===null?Jt=Dn:xn.sibling=Dn,xn=Dn,mn=jr}if(kn===Je.length)return T(He,mn),Ar&&eu(He,kn),Jt;if(mn===null){for(;kn<Je.length;kn++)mn=pn(He,Je[kn],It),mn!==null&&(Re=j(mn,Re,kn),xn===null?Jt=mn:xn.sibling=mn,xn=mn);return Ar&&eu(He,kn),Jt}for(mn=D(He,mn);kn<Je.length;kn++)jr=En(mn,He,kn,Je[kn],It),jr!==null&&(m&&jr.alternate!==null&&mn.delete(jr.key===null?kn:jr.key),Re=j(jr,Re,kn),xn===null?Jt=jr:xn.sibling=jr,xn=jr);return m&&mn.forEach(function(Ua){return v(He,Ua)}),Ar&&eu(He,kn),Jt}function Pi(He,Re,Je,It){var Jt=I(Je);if(typeof Jt!="function")throw Error(o(150));if(Je=Jt.call(Je),Je==null)throw Error(o(151));for(var xn=Jt=null,mn=Re,kn=Re=0,jr=null,Dn=Je.next();mn!==null&&!Dn.done;kn++,Dn=Je.next()){mn.index>kn?(jr=mn,mn=null):jr=mn.sibling;var Ua=en(He,mn,Dn.value,It);if(Ua===null){mn===null&&(mn=jr);break}m&&mn&&Ua.alternate===null&&v(He,mn),Re=j(Ua,Re,kn),xn===null?Jt=Ua:xn.sibling=Ua,xn=Ua,mn=jr}if(Dn.done)return T(He,mn),Ar&&eu(He,kn),Jt;if(mn===null){for(;!Dn.done;kn++,Dn=Je.next())Dn=pn(He,Dn.value,It),Dn!==null&&(Re=j(Dn,Re,kn),xn===null?Jt=Dn:xn.sibling=Dn,xn=Dn);return Ar&&eu(He,kn),Jt}for(mn=D(He,mn);!Dn.done;kn++,Dn=Je.next())Dn=En(mn,He,kn,Dn.value,It),Dn!==null&&(m&&Dn.alternate!==null&&mn.delete(Dn.key===null?kn:Dn.key),Re=j(Dn,Re,kn),xn===null?Jt=Dn:xn.sibling=Dn,xn=Dn);return m&&mn.forEach(function(Ig){return v(He,Ig)}),Ar&&eu(He,kn),Jt}function ks(He,Re,Je,It){if(typeof Je=="object"&&Je!==null&&Je.type===f&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case l:e:{for(var Jt=Je.key,xn=Re;xn!==null;){if(xn.key===Jt){if(Jt=Je.type,Jt===f){if(xn.tag===7){T(He,xn.sibling),Re=k(xn,Je.props.children),Re.return=He,He=Re;break e}}else if(xn.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===w&&mc(Jt)===xn.type){T(He,xn.sibling),Re=k(xn,Je.props),Re.ref=pc(He,xn,Je),Re.return=He,He=Re;break e}T(He,xn);break}else v(He,xn);xn=xn.sibling}Je.type===f?(Re=Au(Je.props.children,He.mode,It,Je.key),Re.return=He,He=Re):(It=op(Je.type,Je.key,Je.props,null,He.mode,It),It.ref=pc(He,Re,Je),It.return=He,He=It)}return fe(He);case u:e:{for(xn=Je.key;Re!==null;){if(Re.key===xn)if(Re.tag===4&&Re.stateNode.containerInfo===Je.containerInfo&&Re.stateNode.implementation===Je.implementation){T(He,Re.sibling),Re=k(Re,Je.children||[]),Re.return=He,He=Re;break e}else{T(He,Re);break}else v(He,Re);Re=Re.sibling}Re=lp(Je,He.mode,It),Re.return=He,He=Re}return fe(He);case w:return xn=Je._init,ks(He,Re,xn(Je._payload),It)}if(te(Je))return Ft(He,Re,Je,It);if(I(Je))return Pi(He,Re,Je,It);Sl(He,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"?(Je=""+Je,Re!==null&&Re.tag===6?(T(He,Re.sibling),Re=k(Re,Je),Re.return=He,He=Re):(T(He,Re),Re=ap(Je,He.mode,It),Re.return=He,He=Re),fe(He)):T(He,Re)}return ks}var ba=O0(!0),k0=O0(!1),gc={},ds=wt(gc),tu=wt(gc),nu=wt(gc);function yo(m){if(m===gc)throw Error(o(174));return m}function Fh(m,v){Nt(nu,v),Nt(tu,m),Nt(ds,gc),m=ie(v),ht(ds),Nt(ds,m)}function vc(){ht(ds),ht(tu),ht(nu)}function U0(m){var v=yo(nu.current),T=yo(ds.current);v=W(T,m.type,v),T!==v&&(Nt(tu,m),Nt(ds,v))}function tg(m){tu.current===m&&(ht(ds),ht(tu))}var Cr=wt(0);function Oh(m){for(var v=m;v!==null;){if(v.tag===13){var T=v.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||Lt(T)||Et(T)))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Ps=[];function ru(){for(var m=0;m<Ps.length;m++){var v=Ps[m];Le?v._workInProgressVersionPrimary=null:v._workInProgressVersionSecondary=null}Ps.length=0}var Cf=a.ReactCurrentDispatcher,Is=a.ReactCurrentBatchConfig,iu=0,Tr=null,hi=null,pi=null,kh=!1,jo=!1,su=0,Tf=0;function mi(){throw Error(o(321))}function Uh(m,v){if(v===null)return!1;for(var T=0;T<v.length&&T<m.length;T++)if(!ui(m[T],v[T]))return!1;return!0}function yc(m,v,T,D,k,j){if(iu=j,Tr=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Cf.current=m===null||m.memoizedState===null?ag:lg,m=T(D,k),jo){j=0;do{if(jo=!1,su=0,25<=j)throw Error(o(301));j+=1,pi=hi=null,v.updateQueue=null,Cf.current=ug,m=T(D,k)}while(jo)}if(Cf.current=Ac,v=hi!==null&&hi.next!==null,iu=0,pi=hi=Tr=null,kh=!1,v)throw Error(o(300));return m}function Al(){var m=su!==0;return su=0,m}function xo(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?Tr.memoizedState=pi=m:pi=pi.next=m,pi}function _o(){if(hi===null){var m=Tr.alternate;m=m!==null?m.memoizedState:null}else m=hi.next;var v=pi===null?Tr.memoizedState:pi.next;if(v!==null)pi=v,hi=m;else{if(m===null)throw Error(o(310));hi=m,m={memoizedState:hi.memoizedState,baseState:hi.baseState,baseQueue:hi.baseQueue,queue:hi.queue,next:null},pi===null?Tr.memoizedState=pi=m:pi=pi.next=m}return pi}function Wo(m,v){return typeof v=="function"?v(m):v}function Rf(m){var v=_o(),T=v.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=m;var D=hi,k=D.baseQueue,j=T.pending;if(j!==null){if(k!==null){var fe=k.next;k.next=j.next,j.next=fe}D.baseQueue=k=j,T.pending=null}if(k!==null){j=k.next,D=D.baseState;var Ce=fe=null,et=null,_t=j;do{var Gt=_t.lane;if((iu&Gt)===Gt)et!==null&&(et=et.next={lane:0,action:_t.action,hasEagerState:_t.hasEagerState,eagerState:_t.eagerState,next:null}),D=_t.hasEagerState?_t.eagerState:m(D,_t.action);else{var pn={lane:Gt,action:_t.action,hasEagerState:_t.hasEagerState,eagerState:_t.eagerState,next:null};et===null?(Ce=et=pn,fe=D):et=et.next=pn,Tr.lanes|=Gt,qo|=Gt}_t=_t.next}while(_t!==null&&_t!==j);et===null?fe=D:et.next=Ce,ui(D,v.memoizedState)||(gi=!0),v.memoizedState=D,v.baseState=fe,v.baseQueue=et,T.lastRenderedState=D}if(m=T.interleaved,m!==null){k=m;do j=k.lane,Tr.lanes|=j,qo|=j,k=k.next;while(k!==m)}else k===null&&(T.lanes=0);return[v.memoizedState,T.dispatch]}function Pf(m){var v=_o(),T=v.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=m;var D=T.dispatch,k=T.pending,j=v.memoizedState;if(k!==null){T.pending=null;var fe=k=k.next;do j=m(j,fe.action),fe=fe.next;while(fe!==k);ui(j,v.memoizedState)||(gi=!0),v.memoizedState=j,v.baseQueue===null&&(v.baseState=j),T.lastRenderedState=j}return[j,D]}function ng(){}function rg(m,v){var T=Tr,D=_o(),k=v(),j=!ui(D.memoizedState,k);if(j&&(D.memoizedState=k,gi=!0),D=D.queue,xc(Ma.bind(null,T,D,m),[m]),D.getSnapshot!==v||j||pi!==null&&pi.memoizedState.tag&1){if(T.flags|=2048,Bf(9,sg.bind(null,T,D,k,v),void 0,null),kr===null)throw Error(o(349));(iu&30)!==0||ig(T,v,k)}return k}function ig(m,v,T){m.flags|=16384,m={getSnapshot:v,value:T},v=Tr.updateQueue,v===null?(v={lastEffect:null,stores:null},Tr.updateQueue=v,v.stores=[m]):(T=v.stores,T===null?v.stores=[m]:T.push(m))}function sg(m,v,T,D){v.value=T,v.getSnapshot=D,Nh(v)&&zi(m,1,-1)}function Ma(m,v,T){return T(function(){Nh(v)&&zi(m,1,-1)})}function Nh(m){var v=m.getSnapshot;m=m.value;try{var T=v();return!ui(m,T)}catch{return!0}}function If(m){var v=xo();return typeof m=="function"&&(m=m()),v.memoizedState=v.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:m},v.queue=m,m=m.dispatch=KA.bind(null,Tr,m),[v.memoizedState,m]}function Bf(m,v,T,D){return m={tag:m,create:v,destroy:T,deps:D,next:null},v=Tr.updateQueue,v===null?(v={lastEffect:null,stores:null},Tr.updateQueue=v,v.lastEffect=m.next=m):(T=v.lastEffect,T===null?v.lastEffect=m.next=m:(D=T.next,T.next=m,m.next=D,v.lastEffect=m)),m}function N0(){return _o().memoizedState}function wl(m,v,T,D){var k=xo();Tr.flags|=m,k.memoizedState=Bf(1|v,T,void 0,D===void 0?null:D)}function zh(m,v,T,D){var k=_o();D=D===void 0?null:D;var j=void 0;if(hi!==null){var fe=hi.memoizedState;if(j=fe.destroy,D!==null&&Uh(D,fe.deps)){k.memoizedState=Bf(v,T,j,D);return}}Tr.flags|=m,k.memoizedState=Bf(1|v,T,j,D)}function Gh(m,v){return wl(8390656,8,m,v)}function xc(m,v){return zh(2048,8,m,v)}function ur(m,v){return zh(4,2,m,v)}function Hh(m,v){return zh(4,4,m,v)}function Df(m,v){if(typeof v=="function")return m=m(),v(m),function(){v(null)};if(v!=null)return m=m(),v.current=m,function(){v.current=null}}function _c(m,v,T){return T=T!=null?T.concat([m]):null,zh(4,4,Df.bind(null,v,m),T)}function Vh(){}function jh(m,v){var T=_o();v=v===void 0?null:v;var D=T.memoizedState;return D!==null&&v!==null&&Uh(v,D[1])?D[0]:(T.memoizedState=[m,v],m)}function Sc(m,v){var T=_o();v=v===void 0?null:v;var D=T.memoizedState;return D!==null&&v!==null&&Uh(v,D[1])?D[0]:(m=m(),T.memoizedState=[m,v],m)}function Wh(m,v){var T=dn;dn=T!==0&&4>T?T:4,m(!0);var D=Is.transition;Is.transition={};try{m(!1),v()}finally{dn=T,Is.transition=D}}function ou(){return _o().memoizedState}function z0(m,v,T){var D=bo(m);T={lane:D,action:T,hasEagerState:!1,eagerState:null,next:null},G0(m)?og(v,T):(Lf(m,v,T),T=Vn(),m=zi(m,D,T),m!==null&&Ff(m,v,D))}function KA(m,v,T){var D=bo(m),k={lane:D,action:T,hasEagerState:!1,eagerState:null,next:null};if(G0(m))og(v,k);else{Lf(m,v,k);var j=m.alternate;if(m.lanes===0&&(j===null||j.lanes===0)&&(j=v.lastRenderedReducer,j!==null))try{var fe=v.lastRenderedState,Ce=j(fe,T);if(k.hasEagerState=!0,k.eagerState=Ce,ui(Ce,fe))return}catch{}finally{}T=Vn(),m=zi(m,D,T),m!==null&&Ff(m,v,D)}}function G0(m){var v=m.alternate;return m===Tr||v!==null&&v===Tr}function og(m,v){jo=kh=!0;var T=m.pending;T===null?v.next=v:(v.next=T.next,T.next=v),m.pending=v}function Lf(m,v,T){kr!==null&&(m.mode&1)!==0&&(bn&2)===0?(m=v.interleaved,m===null?(T.next=T,Ji===null?Ji=[v]:Ji.push(v)):(T.next=m.next,m.next=T),v.interleaved=T):(m=v.pending,m===null?T.next=T:(T.next=m.next,m.next=T),v.pending=T)}function Ff(m,v,T){if((T&4194240)!==0){var D=v.lanes;D&=m.pendingLanes,T|=D,v.lanes=T,bi(m,T)}}var Ac={readContext:Er,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},ag={readContext:Er,useCallback:function(m,v){return xo().memoizedState=[m,v===void 0?null:v],m},useContext:Er,useEffect:Gh,useImperativeHandle:function(m,v,T){return T=T!=null?T.concat([m]):null,wl(4194308,4,Df.bind(null,v,m),T)},useLayoutEffect:function(m,v){return wl(4194308,4,m,v)},useInsertionEffect:function(m,v){return wl(4,2,m,v)},useMemo:function(m,v){var T=xo();return v=v===void 0?null:v,m=m(),T.memoizedState=[m,v],m},useReducer:function(m,v,T){var D=xo();return v=T!==void 0?T(v):v,D.memoizedState=D.baseState=v,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:v},D.queue=m,m=m.dispatch=z0.bind(null,Tr,m),[D.memoizedState,m]},useRef:function(m){var v=xo();return m={current:m},v.memoizedState=m},useState:If,useDebugValue:Vh,useDeferredValue:function(m){var v=If(m),T=v[0],D=v[1];return Gh(function(){var k=Is.transition;Is.transition={};try{D(m)}finally{Is.transition=k}},[m]),T},useTransition:function(){var m=If(!1),v=m[0];return m=Wh.bind(null,m[1]),xo().memoizedState=m,[v,m]},useMutableSource:function(){},useSyncExternalStore:function(m,v,T){var D=Tr,k=xo();if(Ar){if(T===void 0)throw Error(o(407));T=T()}else{if(T=v(),kr===null)throw Error(o(349));(iu&30)!==0||ig(D,v,T)}k.memoizedState=T;var j={value:T,getSnapshot:v};return k.queue=j,Gh(Ma.bind(null,D,j,m),[m]),D.flags|=2048,Bf(9,sg.bind(null,D,j,T,v),void 0,null),T},useId:function(){var m=xo(),v=kr.identifierPrefix;if(Ar){var T=wa,D=Aa;T=(D&~(1<<32-yn(D)-1)).toString(32)+T,v=":"+v+"R"+T,T=su++,0<T&&(v+="H"+T.toString(32)),v+=":"}else T=Tf++,v=":"+v+"r"+T.toString(32)+":";return m.memoizedState=v},unstable_isNewReconciler:!1},lg={readContext:Er,useCallback:jh,useContext:Er,useEffect:xc,useImperativeHandle:_c,useInsertionEffect:ur,useLayoutEffect:Hh,useMemo:Sc,useReducer:Rf,useRef:N0,useState:function(){return Rf(Wo)},useDebugValue:Vh,useDeferredValue:function(m){var v=Rf(Wo),T=v[0],D=v[1];return xc(function(){var k=Is.transition;Is.transition={};try{D(m)}finally{Is.transition=k}},[m]),T},useTransition:function(){var m=Rf(Wo)[0],v=_o().memoizedState;return[m,v]},useMutableSource:ng,useSyncExternalStore:rg,useId:ou,unstable_isNewReconciler:!1},ug={readContext:Er,useCallback:jh,useContext:Er,useEffect:xc,useImperativeHandle:_c,useInsertionEffect:ur,useLayoutEffect:Hh,useMemo:Sc,useReducer:Pf,useRef:N0,useState:function(){return Pf(Wo)},useDebugValue:Vh,useDeferredValue:function(m){var v=Pf(Wo),T=v[0],D=v[1];return xc(function(){var k=Is.transition;Is.transition={};try{D(m)}finally{Is.transition=k}},[m]),T},useTransition:function(){var m=Pf(Wo)[0],v=_o().memoizedState;return[m,v]},useMutableSource:ng,useSyncExternalStore:rg,useId:ou,unstable_isNewReconciler:!1};function cg(m,v){try{var T="",D=v;do T+=va(D),D=D.return;while(D);var k=T}catch(j){k=`
Error generating stack: `+j.message+`
`+j.stack}return{value:m,source:v,stack:k}}function Xh(m,v){try{console.error(v.value)}catch(T){setTimeout(function(){throw T})}}var JA=typeof WeakMap=="function"?WeakMap:Map;function H0(m,v,T){T=Sa(-1,T),T.tag=3,T.payload={element:null};var D=v.value;return T.callback=function(){Tc||(Tc=!0,pr=D),Xh(m,v)},T}function qh(m,v,T){T=Sa(-1,T),T.tag=3;var D=m.type.getDerivedStateFromError;if(typeof D=="function"){var k=v.value;T.payload=function(){return D(k)},T.callback=function(){Xh(m,v)}}var j=m.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(T.callback=function(){Xh(m,v),typeof D!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var fe=v.stack;this.componentDidCatch(v.value,{componentStack:fe!==null?fe:""})}),T}function Ea(m,v,T){var D=m.pingCache;if(D===null){D=m.pingCache=new JA;var k=new Set;D.set(v,k)}else k=D.get(v),k===void 0&&(k=new Set,D.set(v,k));k.has(T)||(k.add(T),m=Tg.bind(null,m,v,T),v.then(m,m))}function fg(m){do{var v;if((v=m.tag===13)&&(v=m.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return m;m=m.return}while(m!==null);return null}function au(m,v,T,D,k){return(m.mode&1)===0?(m===v?m.flags|=65536:(m.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(v=Sa(-1,1),v.tag=2,yl(T,v))),T.lanes|=1),m):(m.flags|=65536,m.lanes=k,m)}function ni(m){m.flags|=4}function wc(m,v){if(m!==null&&m.child===v.child)return!0;if((v.flags&16)!==0)return!1;for(m=v.child;m!==null;){if((m.flags&12854)!==0||(m.subtreeFlags&12854)!==0)return!1;m=m.sibling}return!0}var Bs,lu,Kh,Jh;if(Ve)Bs=function(m,v){for(var T=v.child;T!==null;){if(T.tag===5||T.tag===6)K(m,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===v)break;for(;T.sibling===null;){if(T.return===null||T.return===v)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},lu=function(){},Kh=function(m,v,T,D,k){if(m=m.memoizedProps,m!==D){var j=v.stateNode,fe=yo(ds.current);T=Z(j,T,m,D,k,fe),(v.updateQueue=T)&&ni(v)}},Jh=function(m,v,T,D){T!==D&&ni(v)};else if(xe){Bs=function(m,v,T,D){for(var k=v.child;k!==null;){if(k.tag===5){var j=k.stateNode;T&&D&&(j=ge(j,k.type,k.memoizedProps,k)),K(m,j)}else if(k.tag===6)j=k.stateNode,T&&D&&(j=Pe(j,k.memoizedProps,k)),K(m,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),Bs(m,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===v)break;for(;k.sibling===null;){if(k.return===null||k.return===v)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};var bl=function(m,v,T,D){for(var k=v.child;k!==null;){if(k.tag===5){var j=k.stateNode;T&&D&&(j=ge(j,k.type,k.memoizedProps,k)),Mt(m,j)}else if(k.tag===6)j=k.stateNode,T&&D&&(j=Pe(j,k.memoizedProps,k)),Mt(m,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),bl(m,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===v)break;for(;k.sibling===null;){if(k.return===null||k.return===v)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};lu=function(m,v){var T=v.stateNode;if(!wc(m,v)){m=T.containerInfo;var D=st(m);bl(D,v,!1,!1),T.pendingChildren=D,ni(v),Vt(m,D)}},Kh=function(m,v,T,D,k){var j=m.stateNode,fe=m.memoizedProps;if((m=wc(m,v))&&fe===D)v.stateNode=j;else{var Ce=v.stateNode,et=yo(ds.current),_t=null;fe!==D&&(_t=Z(Ce,T,fe,D,k,et)),m&&_t===null?v.stateNode=j:(j=ut(j,_t,T,fe,D,v,m,Ce),ae(j,T,D,k,et)&&ni(v),v.stateNode=j,m?ni(v):Bs(j,v,!1,!1))}},Jh=function(m,v,T,D){T!==D?(m=yo(nu.current),T=yo(ds.current),v.stateNode=oe(D,m,T,v),ni(v)):v.stateNode=m.stateNode}}else lu=function(){},Kh=function(){},Jh=function(){};function Ca(m,v){if(!Ar)switch(m.tailMode){case"hidden":v=m.tail;for(var T=null;v!==null;)v.alternate!==null&&(T=v),v=v.sibling;T===null?m.tail=null:T.sibling=null;break;case"collapsed":T=m.tail;for(var D=null;T!==null;)T.alternate!==null&&(D=T),T=T.sibling;D===null?v||m.tail===null?m.tail=null:m.tail.sibling=null:D.sibling=null}}function Or(m){var v=m.alternate!==null&&m.alternate.child===m.child,T=0,D=0;if(v)for(var k=m.child;k!==null;)T|=k.lanes|k.childLanes,D|=k.subtreeFlags&14680064,D|=k.flags&14680064,k.return=m,k=k.sibling;else for(k=m.child;k!==null;)T|=k.lanes|k.childLanes,D|=k.subtreeFlags,D|=k.flags,k.return=m,k=k.sibling;return m.subtreeFlags|=D,m.childLanes=T,v}function Yh(m,v,T){var D=v.pendingProps;switch(Qm(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(v),null;case 1:return ln(v.type)&&un(),Or(v),null;case 3:return D=v.stateNode,vc(),ht(gn),ht(vn),ru(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(m===null||m.child===null)&&(Ef(v)?ni(v):m===null||m.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,Qs!==null&&(Kf(Qs),Qs=null))),lu(m,v),Or(v),null;case 5:tg(v),T=yo(nu.current);var k=v.type;if(m!==null&&v.stateNode!=null)Kh(m,v,k,D,T),m.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!D){if(v.stateNode===null)throw Error(o(166));return Or(v),null}if(m=yo(ds.current),Ef(v)){if(!Te)throw Error(o(175));m=Gn(v.stateNode,v.type,v.memoizedProps,T,m,v,!dc),v.updateQueue=m,m!==null&&ni(v)}else{var j=z(k,D,T,m,v);Bs(j,v,!1,!1),v.stateNode=j,ae(j,k,D,T,m)&&ni(v)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Or(v),null;case 6:if(m&&v.stateNode!=null)Jh(m,v,m.memoizedProps,D);else{if(typeof D!="string"&&v.stateNode===null)throw Error(o(166));if(m=yo(nu.current),T=yo(ds.current),Ef(v)){if(!Te)throw Error(o(176));if(m=v.stateNode,D=v.memoizedProps,(T=On(m,D,v,!dc))&&(k=Yi,k!==null))switch(j=(k.mode&1)!==0,k.tag){case 3:Ee(k.stateNode.containerInfo,m,D,j);break;case 5:Ue(k.type,k.memoizedProps,k.stateNode,m,D,j)}T&&ni(v)}else v.stateNode=oe(D,m,T,v)}return Or(v),null;case 13:if(ht(Cr),D=v.memoizedState,Ar&&Mi!==null&&(v.mode&1)!==0&&(v.flags&128)===0){for(m=Mi;m;)m=St(m);return hc(),v.flags|=98560,v}if(D!==null&&D.dehydrated!==null){if(D=Ef(v),m===null){if(!D)throw Error(o(318));if(!Te)throw Error(o(344));if(m=v.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));Yn(m,v)}else hc(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;return Or(v),null}return Qs!==null&&(Kf(Qs),Qs=null),(v.flags&128)!==0?(v.lanes=T,v):(D=D!==null,T=!1,m===null?Ef(v):T=m.memoizedState!==null,D&&!T&&(v.child.flags|=8192,(v.mode&1)!==0&&(m===null||(Cr.current&1)!==0?Ir===0&&(Ir=3):rp())),v.updateQueue!==null&&(v.flags|=4),Or(v),null);case 4:return vc(),lu(m,v),m===null&&nt(v.stateNode.containerInfo),Or(v),null;case 10:return Hr(v.type._context),Or(v),null;case 17:return ln(v.type)&&un(),Or(v),null;case 19:if(ht(Cr),k=v.memoizedState,k===null)return Or(v),null;if(D=(v.flags&128)!==0,j=k.rendering,j===null)if(D)Ca(k,!1);else{if(Ir!==0||m!==null&&(m.flags&128)!==0)for(m=v.child;m!==null;){if(j=Oh(m),j!==null){for(v.flags|=128,Ca(k,!1),m=j.updateQueue,m!==null&&(v.updateQueue=m,v.flags|=4),v.subtreeFlags=0,m=T,D=v.child;D!==null;)T=D,k=m,T.flags&=14680066,j=T.alternate,j===null?(T.childLanes=0,T.lanes=k,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=j.childLanes,T.lanes=j.lanes,T.child=j.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=j.memoizedProps,T.memoizedState=j.memoizedState,T.updateQueue=j.updateQueue,T.type=j.type,k=j.dependencies,T.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext}),D=D.sibling;return Nt(Cr,Cr.current&1|2),v.child}m=m.sibling}k.tail!==null&&Sr()>Cl&&(v.flags|=128,D=!0,Ca(k,!1),v.lanes=4194304)}else{if(!D)if(m=Oh(j),m!==null){if(v.flags|=128,D=!0,m=m.updateQueue,m!==null&&(v.updateQueue=m,v.flags|=4),Ca(k,!0),k.tail===null&&k.tailMode==="hidden"&&!j.alternate&&!Ar)return Or(v),null}else 2*Sr()-k.renderingStartTime>Cl&&T!==1073741824&&(v.flags|=128,D=!0,Ca(k,!1),v.lanes=4194304);k.isBackwards?(j.sibling=v.child,v.child=j):(m=k.last,m!==null?m.sibling=j:v.child=j,k.last=j)}return k.tail!==null?(v=k.tail,k.rendering=v,k.tail=v.sibling,k.renderingStartTime=Sr(),v.sibling=null,m=Cr.current,Nt(Cr,D?m&1|2:m&1),v):(Or(v),null);case 22:case 23:return Jf(),D=v.memoizedState!==null,m!==null&&m.memoizedState!==null!==D&&(v.flags|=8192),D&&(v.mode&1)!==0?(Ni&1073741824)!==0&&(Or(v),Ve&&v.subtreeFlags&6&&(v.flags|=8192)):Or(v),null;case 24:return null;case 25:return null}throw Error(o(156,v.tag))}var dg=a.ReactCurrentOwner,gi=!1;function Pr(m,v,T,D){v.child=m===null?k0(v,null,T,D):ba(v,m.child,T,D)}function cr(m,v,T,D,k){T=T.render;var j=v.ref;return Fr(v,k),D=yc(m,v,T,D,j,k),T=Al(),m!==null&&!gi?(v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~k,hs(m,v,k)):(Ar&&T&&$m(v),v.flags|=1,Pr(m,v,D,k),v.child)}function ir(m,v,T,D,k){if(m===null){var j=T.type;return typeof j=="function"&&!sp(j)&&j.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(v.tag=15,v.type=j,Ta(m,v,j,D,k)):(m=op(T.type,null,D,v,v.mode,k),m.ref=v.ref,m.return=v,v.child=m)}if(j=m.child,(m.lanes&k)===0){var fe=j.memoizedProps;if(T=T.compare,T=T!==null?T:cs,T(fe,D)&&m.ref===v.ref)return hs(m,v,k)}return v.flags|=1,m=ka(j,D),m.ref=v.ref,m.return=v,v.child=m}function Ta(m,v,T,D,k){if(m!==null&&cs(m.memoizedProps,D)&&m.ref===v.ref)if(gi=!1,(m.lanes&k)!==0)(m.flags&131072)!==0&&(gi=!0);else return v.lanes=m.lanes,hs(m,v,k);return Ra(m,v,T,D,k)}function Ei(m,v,T){var D=v.pendingProps,k=D.children,j=m!==null?m.memoizedState:null;if(D.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null},Nt(vu,Ni),Ni|=T;else if((T&1073741824)!==0)v.memoizedState={baseLanes:0,cachePool:null},D=j!==null?j.baseLanes:T,Nt(vu,Ni),Ni|=D;else return m=j!==null?j.baseLanes|T:T,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:m,cachePool:null},v.updateQueue=null,Nt(vu,Ni),Ni|=m,null;else j!==null?(D=j.baseLanes|T,v.memoizedState=null):D=T,Nt(vu,Ni),Ni|=D;return Pr(m,v,k,T),v.child}function $i(m,v){var T=v.ref;(m===null&&T!==null||m!==null&&m.ref!==T)&&(v.flags|=512,v.flags|=2097152)}function Ra(m,v,T,D,k){var j=ln(T)?fn:vn.current;return j=Ut(v,j),Fr(v,k),T=yc(m,v,T,D,j,k),D=Al(),m!==null&&!gi?(v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~k,hs(m,v,k)):(Ar&&D&&$m(v),v.flags|=1,Pr(m,v,T,k),v.child)}function uu(m,v,T,D,k){if(ln(T)){var j=!0;rr(v)}else j=!1;if(Fr(v,k),v.stateNode===null)m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),B0(v,T,D),Ym(v,T,D,k),D=!0;else if(m===null){var fe=v.stateNode,Ce=v.memoizedProps;fe.props=Ce;var et=fe.context,_t=T.contextType;typeof _t=="object"&&_t!==null?_t=Er(_t):(_t=ln(T)?fn:vn.current,_t=Ut(v,_t));var Gt=T.getDerivedStateFromProps,pn=typeof Gt=="function"||typeof fe.getSnapshotBeforeUpdate=="function";pn||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(Ce!==D||et!==_t)&&D0(v,fe,D,_t),Ys=!1;var en=v.memoizedState;fe.state=en,Rh(v,D,fe,k),et=v.memoizedState,Ce!==D||en!==et||gn.current||Ys?(typeof Gt=="function"&&(Km(v,T,Gt,D),et=v.memoizedState),(Ce=Ys||Jm(v,T,Ce,D,en,et,_t))?(pn||typeof fe.UNSAFE_componentWillMount!="function"&&typeof fe.componentWillMount!="function"||(typeof fe.componentWillMount=="function"&&fe.componentWillMount(),typeof fe.UNSAFE_componentWillMount=="function"&&fe.UNSAFE_componentWillMount()),typeof fe.componentDidMount=="function"&&(v.flags|=4194308)):(typeof fe.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=D,v.memoizedState=et),fe.props=D,fe.state=et,fe.context=_t,D=Ce):(typeof fe.componentDidMount=="function"&&(v.flags|=4194308),D=!1)}else{fe=v.stateNode,qm(m,v),Ce=v.memoizedProps,_t=v.type===v.elementType?Ce:fi(v.type,Ce),fe.props=_t,pn=v.pendingProps,en=fe.context,et=T.contextType,typeof et=="object"&&et!==null?et=Er(et):(et=ln(T)?fn:vn.current,et=Ut(v,et));var En=T.getDerivedStateFromProps;(Gt=typeof En=="function"||typeof fe.getSnapshotBeforeUpdate=="function")||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(Ce!==pn||en!==et)&&D0(v,fe,D,et),Ys=!1,en=v.memoizedState,fe.state=en,Rh(v,D,fe,k);var Ft=v.memoizedState;Ce!==pn||en!==Ft||gn.current||Ys?(typeof En=="function"&&(Km(v,T,En,D),Ft=v.memoizedState),(_t=Ys||Jm(v,T,_t,D,en,Ft,et)||!1)?(Gt||typeof fe.UNSAFE_componentWillUpdate!="function"&&typeof fe.componentWillUpdate!="function"||(typeof fe.componentWillUpdate=="function"&&fe.componentWillUpdate(D,Ft,et),typeof fe.UNSAFE_componentWillUpdate=="function"&&fe.UNSAFE_componentWillUpdate(D,Ft,et)),typeof fe.componentDidUpdate=="function"&&(v.flags|=4),typeof fe.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof fe.componentDidUpdate!="function"||Ce===m.memoizedProps&&en===m.memoizedState||(v.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||Ce===m.memoizedProps&&en===m.memoizedState||(v.flags|=1024),v.memoizedProps=D,v.memoizedState=Ft),fe.props=D,fe.state=Ft,fe.context=et,D=_t):(typeof fe.componentDidUpdate!="function"||Ce===m.memoizedProps&&en===m.memoizedState||(v.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||Ce===m.memoizedProps&&en===m.memoizedState||(v.flags|=1024),D=!1)}return Ui(m,v,T,D,j,k)}function Ui(m,v,T,D,k,j){$i(m,v);var fe=(v.flags&128)!==0;if(!D&&!fe)return k&&yr(v,T,!1),hs(m,v,j);D=v.stateNode,dg.current=v;var Ce=fe&&typeof T.getDerivedStateFromError!="function"?null:D.render();return v.flags|=1,m!==null&&fe?(v.child=ba(v,m.child,null,j),v.child=ba(v,null,Ce,j)):Pr(m,v,Ce,j),v.memoizedState=D.state,k&&yr(v,T,!0),v.child}function Of(m){var v=m.stateNode;v.pendingContext?Wt(m,v.pendingContext,v.pendingContext!==v.context):v.context&&Wt(m,v.context,!1),Fh(m,v.containerInfo)}function hg(m,v,T,D,k){return hc(),Lh(k),v.flags|=256,Pr(m,v,T,D),v.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function cu(m){return{baseLanes:m,cachePool:null}}function pg(m,v,T){var D=v.pendingProps,k=Cr.current,j=!1,fe=(v.flags&128)!==0,Ce;if((Ce=fe)||(Ce=m!==null&&m.memoizedState===null?!1:(k&2)!==0),Ce?(j=!0,v.flags&=-129):(m===null||m.memoizedState!==null)&&(k|=1),Nt(Cr,k&1),m===null)return _l(v),m=v.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((v.mode&1)===0?v.lanes=1:Et(m)?v.lanes=8:v.lanes=1073741824,null):(k=D.children,m=D.fallback,j?(D=v.mode,j=v.child,k={mode:"hidden",children:k},(D&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=k):j=Qf(k,D,0,null),m=Au(m,D,T,null),j.return=v,m.return=v,j.sibling=m,v.child=j,v.child.memoizedState=cu(T),v.memoizedState=kf,m):So(v,k));if(k=m.memoizedState,k!==null){if(Ce=k.dehydrated,Ce!==null){if(fe)return v.flags&256?(v.flags&=-257,Nf(m,v,T,Error(o(422)))):v.memoizedState!==null?(v.child=m.child,v.flags|=128,null):(j=D.fallback,k=v.mode,D=Qf({mode:"visible",children:D.children},k,0,null),j=Au(j,k,T,null),j.flags|=2,D.return=v,j.return=v,D.sibling=j,v.child=D,(v.mode&1)!==0&&ba(v,m.child,null,T),v.child.memoizedState=cu(T),v.memoizedState=kf,j);if((v.mode&1)===0)v=Nf(m,v,T,null);else if(Et(Ce))v=Nf(m,v,T,Error(o(419)));else if(D=(T&m.childLanes)!==0,gi||D){if(D=kr,D!==null){switch(T&-T){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}D=(j&(D.suspendedLanes|T))!==0?0:j,D!==0&&D!==k.retryLane&&(k.retryLane=D,zi(m,D,-1))}rp(),v=Nf(m,v,T,Error(o(421)))}else Lt(Ce)?(v.flags|=128,v.child=m.child,v=q0.bind(null,m),Dt(Ce,v),v=null):(T=k.treeContext,Te&&(Mi=on(Ce),Yi=v,Ar=!0,Qs=null,dc=!1,T!==null&&($s[Rs++]=Aa,$s[Rs++]=wa,$s[Rs++]=Zl,Aa=T.id,wa=T.overflow,Zl=v)),v=So(v,v.pendingProps.children),v.flags|=4096);return v}return j?(D=$h(m,v,D.children,D.fallback,T),j=v.child,k=m.child.memoizedState,j.memoizedState=k===null?cu(T):{baseLanes:k.baseLanes|T,cachePool:null},j.childLanes=m.childLanes&~T,v.memoizedState=kf,D):(T=Uf(m,v,D.children,T),v.memoizedState=null,T)}return j?(D=$h(m,v,D.children,D.fallback,T),j=v.child,k=m.child.memoizedState,j.memoizedState=k===null?cu(T):{baseLanes:k.baseLanes|T,cachePool:null},j.childLanes=m.childLanes&~T,v.memoizedState=kf,D):(T=Uf(m,v,D.children,T),v.memoizedState=null,T)}function So(m,v){return v=Qf({mode:"visible",children:v},m.mode,0,null),v.return=m,m.child=v}function Uf(m,v,T,D){var k=m.child;return m=k.sibling,T=ka(k,{mode:"visible",children:T}),(v.mode&1)===0&&(T.lanes=D),T.return=v,T.sibling=null,m!==null&&(D=v.deletions,D===null?(v.deletions=[m],v.flags|=16):D.push(m)),v.child=T}function $h(m,v,T,D,k){var j=v.mode;m=m.child;var fe=m.sibling,Ce={mode:"hidden",children:T};return(j&1)===0&&v.child!==m?(T=v.child,T.childLanes=0,T.pendingProps=Ce,v.deletions=null):(T=ka(m,Ce),T.subtreeFlags=m.subtreeFlags&14680064),fe!==null?D=ka(fe,D):(D=Au(D,j,k,null),D.flags|=2),D.return=v,T.return=v,T.sibling=D,v.child=T,D}function Nf(m,v,T,D){return D!==null&&Lh(D),ba(v,m.child,null,T),m=So(v,v.pendingProps.children),m.flags|=2,v.memoizedState=null,m}function V0(m,v,T){m.lanes|=v;var D=m.alternate;D!==null&&(D.lanes|=v),ti(m.return,v,T)}function Xo(m,v,T,D,k){var j=m.memoizedState;j===null?m.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:D,tail:T,tailMode:k}:(j.isBackwards=v,j.rendering=null,j.renderingStartTime=0,j.last=D,j.tail=T,j.tailMode=k)}function fu(m,v,T){var D=v.pendingProps,k=D.revealOrder,j=D.tail;if(Pr(m,v,D.children,T),D=Cr.current,(D&2)!==0)D=D&1|2,v.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=v.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&V0(m,T,v);else if(m.tag===19)V0(m,T,v);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===v)break e;for(;m.sibling===null;){if(m.return===null||m.return===v)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}D&=1}if(Nt(Cr,D),(v.mode&1)===0)v.memoizedState=null;else switch(k){case"forwards":for(T=v.child,k=null;T!==null;)m=T.alternate,m!==null&&Oh(m)===null&&(k=T),T=T.sibling;T=k,T===null?(k=v.child,v.child=null):(k=T.sibling,T.sibling=null),Xo(v,!1,k,T,j);break;case"backwards":for(T=null,k=v.child,v.child=null;k!==null;){if(m=k.alternate,m!==null&&Oh(m)===null){v.child=k;break}m=k.sibling,k.sibling=T,T=k,k=m}Xo(v,!0,T,null,j);break;case"together":Xo(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function hs(m,v,T){if(m!==null&&(v.dependencies=m.dependencies),qo|=v.lanes,(T&v.childLanes)===0)return null;if(m!==null&&v.child!==m.child)throw Error(o(153));if(v.child!==null){for(m=v.child,T=ka(m,m.pendingProps),v.child=T,T.return=v;m.sibling!==null;)m=m.sibling,T=T.sibling=ka(m,m.pendingProps),T.return=v;T.sibling=null}return v.child}function Qh(m,v,T){switch(v.tag){case 3:Of(v),hc();break;case 5:U0(v);break;case 1:ln(v.type)&&rr(v);break;case 4:Fh(v,v.stateNode.containerInfo);break;case 10:_a(v,v.type._context,v.memoizedProps.value);break;case 13:var D=v.memoizedState;if(D!==null)return D.dehydrated!==null?(Nt(Cr,Cr.current&1),v.flags|=128,null):(T&v.child.childLanes)!==0?pg(m,v,T):(Nt(Cr,Cr.current&1),m=hs(m,v,T),m!==null?m.sibling:null);Nt(Cr,Cr.current&1);break;case 19:if(D=(T&v.childLanes)!==0,(m.flags&128)!==0){if(D)return fu(m,v,T);v.flags|=128}var k=v.memoizedState;if(k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Nt(Cr,Cr.current),D)break;return null;case 22:case 23:return v.lanes=0,Ei(m,v,T)}return hs(m,v,T)}function Zh(m,v){switch(Qm(v),v.tag){case 1:return ln(v.type)&&un(),m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 3:return vc(),ht(gn),ht(vn),ru(),m=v.flags,(m&65536)!==0&&(m&128)===0?(v.flags=m&-65537|128,v):null;case 5:return tg(v),null;case 13:if(ht(Cr),m=v.memoizedState,m!==null&&m.dehydrated!==null){if(v.alternate===null)throw Error(o(340));hc()}return m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 19:return ht(Cr),null;case 4:return vc(),null;case 10:return Hr(v.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Qi=!1,vi=!1,du=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Zs(m,v){var T=m.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(D){es(m,v,D)}else T.current=null}function Pa(m,v,T){try{T()}catch(D){es(m,v,D)}}var mg=!1;function gg(m,v){for(Y(m.containerInfo),bt=v;bt!==null;)if(m=bt,v=m.child,(m.subtreeFlags&1028)!==0&&v!==null)v.return=m,bt=v;else for(;bt!==null;){m=bt;try{var T=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var D=T.memoizedProps,k=T.memoizedState,j=m.stateNode,fe=j.getSnapshotBeforeUpdate(m.elementType===m.type?D:fi(m.type,D),k);j.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:Ve&&Ye(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ce){es(m,m.return,Ce)}if(v=m.sibling,v!==null){v.return=m.return,bt=v;break}bt=m.return}return T=mg,mg=!1,T}function Ia(m,v,T){var D=v.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var k=D=D.next;do{if((k.tag&m)===m){var j=k.destroy;k.destroy=void 0,j!==void 0&&Pa(v,T,j)}k=k.next}while(k!==D)}}function Ci(m,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var T=v=v.next;do{if((T.tag&m)===m){var D=T.create;T.destroy=D()}T=T.next}while(T!==v)}}function Zi(m){var v=m.ref;if(v!==null){var T=m.stateNode;switch(m.tag){case 5:m=$(T);break;default:m=T}typeof v=="function"?v(m):v.current=m}}function hr(m,v,T){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(pl,v)}catch{}switch(v.tag){case 0:case 11:case 14:case 15:if(m=v.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var D=m=m.next;do{var k=D,j=k.destroy;k=k.tag,j!==void 0&&((k&2)!==0||(k&4)!==0)&&Pa(v,T,j),D=D.next}while(D!==m)}break;case 1:if(Zs(v,T),m=v.stateNode,typeof m.componentWillUnmount=="function")try{m.props=v.memoizedProps,m.state=v.memoizedState,m.componentWillUnmount()}catch(fe){es(v,T,fe)}break;case 5:Zs(v,T);break;case 4:Ve?xg(m,v,T):xe&&xe&&(v=v.stateNode.containerInfo,T=st(v),ce(v,T))}}function eo(m,v,T){for(var D=v;;)if(hr(m,D,T),D.child===null||Ve&&D.tag===4){if(D===v)break;for(;D.sibling===null;){if(D.return===null||D.return===v)return;D=D.return}D.sibling.return=D.return,D=D.sibling}else D.child.return=D,D=D.child}function vg(m){var v=m.alternate;v!==null&&(m.alternate=null,vg(v)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(v=m.stateNode,v!==null&&Ze(v)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function yg(m){return m.tag===5||m.tag===3||m.tag===4}function ep(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||yg(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function tp(m){if(Ve){e:{for(var v=m.return;v!==null;){if(yg(v))break e;v=v.return}throw Error(o(160))}var T=v;switch(T.tag){case 5:v=T.stateNode,T.flags&32&&(ze(v),T.flags&=-33),T=ep(m),bc(m,T,v);break;case 3:case 4:v=T.stateNode.containerInfo,T=ep(m),np(m,T,v);break;default:throw Error(o(161))}}}function np(m,v,T){var D=m.tag;if(D===5||D===6)m=m.stateNode,v?mt(T,m,v):Ke(T,m);else if(D!==4&&(m=m.child,m!==null))for(np(m,v,T),m=m.sibling;m!==null;)np(m,v,T),m=m.sibling}function bc(m,v,T){var D=m.tag;if(D===5||D===6)m=m.stateNode,v?at(T,m,v):Ne(T,m);else if(D!==4&&(m=m.child,m!==null))for(bc(m,v,T),m=m.sibling;m!==null;)bc(m,v,T),m=m.sibling}function xg(m,v,T){for(var D=v,k=!1,j,fe;;){if(!k){k=D.return;e:for(;;){if(k===null)throw Error(o(160));switch(j=k.stateNode,k.tag){case 5:fe=!1;break e;case 3:j=j.containerInfo,fe=!0;break e;case 4:j=j.containerInfo,fe=!0;break e}k=k.return}k=!0}if(D.tag===5||D.tag===6)eo(m,D,T),fe?pe(j,D.stateNode):$e(j,D.stateNode);else if(D.tag===18)fe?Zr(j,D.stateNode):us(j,D.stateNode);else if(D.tag===4){if(D.child!==null){j=D.stateNode.containerInfo,fe=!0,D.child.return=D,D=D.child;continue}}else if(hr(m,D,T),D.child!==null){D.child.return=D,D=D.child;continue}if(D===v)break;for(;D.sibling===null;){if(D.return===null||D.return===v)return;D=D.return,D.tag===4&&(k=!1)}D.sibling.return=D.return,D=D.sibling}}function Ml(m,v){if(Ve){switch(v.tag){case 0:case 11:case 14:case 15:Ia(3,v,v.return),Ci(3,v),Ia(5,v,v.return);return;case 1:return;case 5:var T=v.stateNode;if(T!=null){var D=v.memoizedProps;m=m!==null?m.memoizedProps:D;var k=v.type,j=v.updateQueue;v.updateQueue=null,j!==null&&ot(T,j,k,m,D,v)}return;case 6:if(v.stateNode===null)throw Error(o(162));T=v.memoizedProps,ft(v.stateNode,m!==null?m.memoizedProps:T,T);return;case 3:Te&&m!==null&&m.memoizedState.isDehydrated&&Xn(v.stateNode.containerInfo);return;case 12:return;case 13:Mc(v);return;case 19:Mc(v);return;case 17:return}throw Error(o(163))}switch(v.tag){case 0:case 11:case 14:case 15:Ia(3,v,v.return),Ci(3,v),Ia(5,v,v.return);return;case 12:return;case 13:Mc(v);return;case 19:Mc(v);return;case 3:Te&&m!==null&&m.memoizedState.isDehydrated&&Xn(v.stateNode.containerInfo);break;case 22:case 23:return}e:if(xe){switch(v.tag){case 1:case 5:case 6:break e;case 3:case 4:v=v.stateNode,ce(v.containerInfo,v.pendingChildren);break e}throw Error(o(163))}}function Mc(m){var v=m.updateQueue;if(v!==null){m.updateQueue=null;var T=m.stateNode;T===null&&(T=m.stateNode=new du),v.forEach(function(D){var k=K0.bind(null,m,D);T.has(D)||(T.add(D),D.then(k,k))})}}function YA(m,v){for(bt=v;bt!==null;){v=bt;var T=v.deletions;if(T!==null)for(var D=0;D<T.length;D++){var k=T[D];try{var j=m;Ve?xg(j,k,v):eo(j,k,v);var fe=k.alternate;fe!==null&&(fe.return=null),k.return=null}catch(Jt){es(k,v,Jt)}}if(T=v.child,(v.subtreeFlags&12854)!==0&&T!==null)T.return=v,bt=T;else for(;bt!==null;){v=bt;try{var Ce=v.flags;if(Ce&32&&Ve&&ze(v.stateNode),Ce&512){var et=v.alternate;if(et!==null){var _t=et.ref;_t!==null&&(typeof _t=="function"?_t(null):_t.current=null)}}if(Ce&8192)switch(v.tag){case 13:if(v.memoizedState!==null){var Gt=v.alternate;(Gt===null||Gt.memoizedState===null)&&(Xf=Sr())}break;case 22:var pn=v.memoizedState!==null,en=v.alternate,En=en!==null&&en.memoizedState!==null;if(T=v,Ve){e:if(D=T,k=pn,j=null,Ve)for(var Ft=D;;){if(Ft.tag===5){if(j===null){j=Ft;var Pi=Ft.stateNode;k?vt(Pi):je(Ft.stateNode,Ft.memoizedProps)}}else if(Ft.tag===6){if(j===null){var ks=Ft.stateNode;k?de(ks):Ie(ks,Ft.memoizedProps)}}else if((Ft.tag!==22&&Ft.tag!==23||Ft.memoizedState===null||Ft===D)&&Ft.child!==null){Ft.child.return=Ft,Ft=Ft.child;continue}if(Ft===D)break;for(;Ft.sibling===null;){if(Ft.return===null||Ft.return===D)break e;j===Ft&&(j=null),Ft=Ft.return}j===Ft&&(j=null),Ft.sibling.return=Ft.return,Ft=Ft.sibling}}if(pn&&!En&&(T.mode&1)!==0){bt=T;for(var He=T.child;He!==null;){for(T=bt=He;bt!==null;){D=bt;var Re=D.child;switch(D.tag){case 0:case 11:case 14:case 15:Ia(4,D,D.return);break;case 1:Zs(D,D.return);var Je=D.stateNode;if(typeof Je.componentWillUnmount=="function"){var It=D.return;try{Je.props=D.memoizedProps,Je.state=D.memoizedState,Je.componentWillUnmount()}catch(Jt){es(D,It,Jt)}}break;case 5:Zs(D,D.return);break;case 22:if(D.memoizedState!==null){Sg(T);continue}}Re!==null?(Re.return=D,bt=Re):Sg(T)}He=He.sibling}}}switch(Ce&4102){case 2:tp(v),v.flags&=-3;break;case 6:tp(v),v.flags&=-3,Ml(v.alternate,v);break;case 4096:v.flags&=-4097;break;case 4100:v.flags&=-4097,Ml(v.alternate,v);break;case 4:Ml(v.alternate,v)}}catch(Jt){es(v,v.return,Jt)}if(T=v.sibling,T!==null){T.return=v.return,bt=T;break}bt=v.return}}}function zf(m,v,T){bt=m,Gf(m)}function Gf(m,v,T){for(var D=(m.mode&1)!==0;bt!==null;){var k=bt,j=k.child;if(k.tag===22&&D){var fe=k.memoizedState!==null||Qi;if(!fe){var Ce=k.alternate,et=Ce!==null&&Ce.memoizedState!==null||vi;Ce=Qi;var _t=vi;if(Qi=fe,(vi=et)&&!_t)for(bt=k;bt!==null;)fe=bt,et=fe.child,fe.tag===22&&fe.memoizedState!==null?hu(k):et!==null?(et.return=fe,bt=et):hu(k);for(;j!==null;)bt=j,Gf(j),j=j.sibling;bt=k,Qi=Ce,vi=_t}_g(m)}else(k.subtreeFlags&8772)!==0&&j!==null?(j.return=k,bt=j):_g(m)}}function _g(m){for(;bt!==null;){var v=bt;if((v.flags&8772)!==0){var T=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:vi||Ci(5,v);break;case 1:var D=v.stateNode;if(v.flags&4&&!vi)if(T===null)D.componentDidMount();else{var k=v.elementType===v.type?T.memoizedProps:fi(v.type,T.memoizedProps);D.componentDidUpdate(k,T.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var j=v.updateQueue;j!==null&&P0(v,j,D);break;case 3:var fe=v.updateQueue;if(fe!==null){if(T=null,v.child!==null)switch(v.child.tag){case 5:T=$(v.child.stateNode);break;case 1:T=v.child.stateNode}P0(v,fe,T)}break;case 5:var Ce=v.stateNode;T===null&&v.flags&4&&Xe(Ce,v.type,v.memoizedProps,v);break;case 6:break;case 4:break;case 12:break;case 13:if(Te&&v.memoizedState===null){var et=v.alternate;if(et!==null){var _t=et.memoizedState;if(_t!==null){var Gt=_t.dehydrated;Gt!==null&&wi(Gt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}vi||v.flags&512&&Zi(v)}catch(pn){es(v,v.return,pn)}}if(v===m){bt=null;break}if(T=v.sibling,T!==null){T.return=v.return,bt=T;break}bt=v.return}}function Sg(m){for(;bt!==null;){var v=bt;if(v===m){bt=null;break}var T=v.sibling;if(T!==null){T.return=v.return,bt=T;break}bt=v.return}}function hu(m){for(;bt!==null;){var v=bt;try{switch(v.tag){case 0:case 11:case 15:var T=v.return;try{Ci(4,v)}catch(et){es(v,T,et)}break;case 1:var D=v.stateNode;if(typeof D.componentDidMount=="function"){var k=v.return;try{D.componentDidMount()}catch(et){es(v,k,et)}}var j=v.return;try{Zi(v)}catch(et){es(v,j,et)}break;case 5:var fe=v.return;try{Zi(v)}catch(et){es(v,fe,et)}}}catch(et){es(v,v.return,et)}if(v===m){bt=null;break}var Ce=v.sibling;if(Ce!==null){Ce.return=v.return,bt=Ce;break}bt=v.return}}var Hf=0,pu=1,mu=2,Ba=3,Ec=4;if(typeof Symbol=="function"&&Symbol.for){var gu=Symbol.for;Hf=gu("selector.component"),pu=gu("selector.has_pseudo_class"),mu=gu("selector.role"),Ba=gu("selector.test_id"),Ec=gu("selector.text")}function Vf(m){var v=re(m);if(v!=null){if(typeof v.memoizedProps["data-testname"]!="string")throw Error(o(364));return v}if(m=J(m),m===null)throw Error(o(362));return m.stateNode.current}function jf(m,v){switch(v.$$typeof){case Hf:if(m.type===v.value)return!0;break;case pu:e:{v=v.value,m=[m,0];for(var T=0;T<m.length;){var D=m[T++],k=m[T++],j=v[k];if(D.tag!==5||!Se(D)){for(;j!=null&&jf(D,j);)k++,j=v[k];if(k===v.length){v=!0;break e}else for(D=D.child;D!==null;)m.push(D,k),D=D.sibling}}v=!1}return v;case mu:if(m.tag===5&&Me(m.stateNode,v.value))return!0;break;case Ec:if((m.tag===5||m.tag===6)&&(m=he(m),m!==null&&0<=m.indexOf(v.value)))return!0;break;case Ba:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===v.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function El(m){switch(m.$$typeof){case Hf:return"<"+(B(m.value)||"Unknown")+">";case pu:return":has("+(El(m)||"")+")";case mu:return'[role="'+m.value+'"]';case Ec:return'"'+m.value+'"';case Ba:return'[data-testname="'+m.value+'"]';default:throw Error(o(365))}}function Ds(m,v){var T=[];m=[m,0];for(var D=0;D<m.length;){var k=m[D++],j=m[D++],fe=v[j];if(k.tag!==5||!Se(k)){for(;fe!=null&&jf(k,fe);)j++,fe=v[j];if(j===v.length)T.push(k);else for(k=k.child;k!==null;)m.push(k,j),k=k.sibling}}return T}function Da(m,v){if(!Fe)throw Error(o(363));m=Vf(m),m=Ds(m,v),v=[],m=Array.from(m);for(var T=0;T<m.length;){var D=m[T++];if(D.tag===5)Se(D)||v.push(D.stateNode);else for(D=D.child;D!==null;)m.push(D),D=D.sibling}return v}var Ag=Math.ceil,Wf=a.ReactCurrentDispatcher,Ao=a.ReactCurrentOwner,Zn=a.ReactCurrentBatchConfig,bn=0,kr=null,er=null,wr=0,Ni=0,vu=wt(0),Ir=0,Cc=null,qo=0,Ls=0,yu=0,La=null,Vr=null,Xf=0,Cl=1/0;function xu(){Cl=Sr()+500}var Tc=!1,pr=null,wo=null,Rc=!1,Ko=null,_u=0,Su=0,Fa=null,fr=-1,Br=0;function Vn(){return(bn&6)!==0?Sr():fr!==-1?fr:fr=Sr()}function bo(m){return(m.mode&1)===0?1:(bn&2)!==0&&wr!==0?wr&-wr:vl.transition!==null?(Br===0&&(m=lr,lr<<=1,(lr&4194240)===0&&(lr=64),Br=m),Br):(m=dn,m!==0?m:ke())}function zi(m,v,T){if(50<Su)throw Su=0,Fa=null,Error(o(185));var D=Tl(m,v);return D===null?null:(Xs(D,v,T),((bn&2)===0||D!==kr)&&(D===kr&&((bn&2)===0&&(Ls|=v),Ir===4&&Ri(D,wr)),ps(D,T),v===1&&bn===0&&(m.mode&1)===0&&(xu(),Vo&&ki())),D)}function Tl(m,v){m.lanes|=v;var T=m.alternate;for(T!==null&&(T.lanes|=v),T=m,m=m.return;m!==null;)m.childLanes|=v,T=m.alternate,T!==null&&(T.childLanes|=v),T=m,m=m.return;return T.tag===3?T.stateNode:null}function ps(m,v){var T=m.callbackNode;uc(m,v);var D=dl(m,m===kr?wr:0);if(D===0)T!==null&&Ho(T),m.callbackNode=null,m.callbackPriority=0;else if(v=D&-D,m.callbackPriority!==v){if(T!=null&&Ho(T),v===1)m.tag===0?gl(Fs.bind(null,m)):Ql(Fs.bind(null,m)),Ae?tt(function(){bn===0&&ki()}):Cs(vo,ki),T=null;else{switch(qs(D)){case 1:T=vo;break;case 4:T=Eh;break;case 16:T=Oi;break;case 536870912:T=hl;break;default:T=Oi}T=ip(T,Ti.bind(null,m))}m.callbackPriority=v,m.callbackNode=T}}function Ti(m,v){if(fr=-1,Br=0,(bn&6)!==0)throw Error(o(327));var T=m.callbackNode;if(Jo()&&m.callbackNode!==T)return null;var D=dl(m,m===kr?wr:0);if(D===0)return null;if((D&30)!==0||(D&m.expiredLanes)!==0||v)v=Yf(m,D);else{v=D;var k=bn;bn|=2;var j=Mg();(kr!==m||wr!==v)&&(xu(),Oa(m,v));do try{W0();break}catch(Ce){bg(m,Ce)}while(!0);di(),Wf.current=j,bn=k,er!==null?v=0:(kr=null,wr=0,v=Ir)}if(v!==0){if(v===2&&(k=Go(m),k!==0&&(D=k,v=qf(m,k))),v===1)throw T=Cc,Oa(m,0),Ri(m,D),ps(m,Sr()),T;if(v===6)Ri(m,D);else{if(k=m.current.alternate,(D&30)===0&&!wg(k)&&(v=Yf(m,D),v===2&&(j=Go(m),j!==0&&(D=j,v=qf(m,j))),v===1))throw T=Cc,Oa(m,0),Ri(m,D),ps(m,Sr()),T;switch(m.finishedWork=k,m.finishedLanes=D,v){case 0:case 1:throw Error(o(345));case 2:Mo(m,Vr);break;case 3:if(Ri(m,D),(D&130023424)===D&&(v=Xf+500-Sr(),10<v)){if(dl(m,0)!==0)break;if(k=m.suspendedLanes,(k&D)!==D){Vn(),m.pingedLanes|=m.suspendedLanes&k;break}m.timeoutHandle=ue(Mo.bind(null,m,Vr),v);break}Mo(m,Vr);break;case 4:if(Ri(m,D),(D&4194240)===D)break;for(v=m.eventTimes,k=-1;0<D;){var fe=31-yn(D);j=1<<fe,fe=v[fe],fe>k&&(k=fe),D&=~j}if(D=k,D=Sr()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*Ag(D/1960))-D,10<D){m.timeoutHandle=ue(Mo.bind(null,m,Vr),D);break}Mo(m,Vr);break;case 5:Mo(m,Vr);break;default:throw Error(o(329))}}}return ps(m,Sr()),m.callbackNode===T?Ti.bind(null,m):null}function qf(m,v){var T=La;return m.current.memoizedState.isDehydrated&&(Oa(m,v).flags|=256),m=Yf(m,v),m!==2&&(v=Vr,Vr=T,v!==null&&Kf(v)),m}function Kf(m){Vr===null?Vr=m:Vr.push.apply(Vr,m)}function wg(m){for(var v=m;;){if(v.flags&16384){var T=v.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var D=0;D<T.length;D++){var k=T[D],j=k.getSnapshot;k=k.value;try{if(!ui(j(),k))return!1}catch{return!1}}}if(T=v.child,v.subtreeFlags&16384&&T!==null)T.return=v,v=T;else{if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Ri(m,v){for(v&=~yu,v&=~Ls,m.suspendedLanes|=v,m.pingedLanes&=~v,m=m.expirationTimes;0<v;){var T=31-yn(v),D=1<<T;m[T]=-1,v&=~D}}function Fs(m){if((bn&6)!==0)throw Error(o(327));Jo();var v=dl(m,0);if((v&1)===0)return ps(m,Sr()),null;var T=Yf(m,v);if(m.tag!==0&&T===2){var D=Go(m);D!==0&&(v=D,T=qf(m,D))}if(T===1)throw T=Cc,Oa(m,0),Ri(m,v),ps(m,Sr()),T;if(T===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=v,Mo(m,Vr),ps(m,Sr()),null}function Pc(m){Ko!==null&&Ko.tag===0&&(bn&6)===0&&Jo();var v=bn;bn|=1;var T=Zn.transition,D=dn;try{if(Zn.transition=null,dn=1,m)return m()}finally{dn=D,Zn.transition=T,bn=v,(bn&6)===0&&ki()}}function Jf(){Ni=vu.current,ht(vu)}function Oa(m,v){m.finishedWork=null,m.finishedLanes=0;var T=m.timeoutHandle;if(T!==Be&&(m.timeoutHandle=Be,ve(T)),er!==null)for(T=er.return;T!==null;){var D=T;switch(Qm(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&un();break;case 3:vc(),ht(gn),ht(vn),ru();break;case 5:tg(D);break;case 4:vc();break;case 13:ht(Cr);break;case 19:ht(Cr);break;case 10:Hr(D.type._context);break;case 22:case 23:Jf()}T=T.return}if(kr=m,er=m=ka(m.current,null),wr=Ni=v,Ir=0,Cc=null,yu=Ls=qo=0,Vr=La=null,Ji!==null){for(v=0;v<Ji.length;v++)if(T=Ji[v],D=T.interleaved,D!==null){T.interleaved=null;var k=D.next,j=T.pending;if(j!==null){var fe=j.next;j.next=k,D.next=fe}T.pending=D}Ji=null}return m}function bg(m,v){do{var T=er;try{if(di(),Cf.current=Ac,kh){for(var D=Tr.memoizedState;D!==null;){var k=D.queue;k!==null&&(k.pending=null),D=D.next}kh=!1}if(iu=0,pi=hi=Tr=null,jo=!1,su=0,Ao.current=null,T===null||T.return===null){Ir=1,Cc=v,er=null;break}e:{var j=m,fe=T.return,Ce=T,et=v;if(v=wr,Ce.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var _t=et,Gt=Ce,pn=Gt.tag;if((Gt.mode&1)===0&&(pn===0||pn===11||pn===15)){var en=Gt.alternate;en?(Gt.updateQueue=en.updateQueue,Gt.memoizedState=en.memoizedState,Gt.lanes=en.lanes):(Gt.updateQueue=null,Gt.memoizedState=null)}var En=fg(fe);if(En!==null){En.flags&=-257,au(En,fe,Ce,j,v),En.mode&1&&Ea(j,_t,v),v=En,et=_t;var Ft=v.updateQueue;if(Ft===null){var Pi=new Set;Pi.add(et),v.updateQueue=Pi}else Ft.add(et);break e}else{if((v&1)===0){Ea(j,_t,v),rp();break e}et=Error(o(426))}}else if(Ar&&Ce.mode&1){var ks=fg(fe);if(ks!==null){(ks.flags&65536)===0&&(ks.flags|=256),au(ks,fe,Ce,j,v),Lh(et);break e}}j=et,Ir!==4&&(Ir=2),La===null?La=[j]:La.push(j),et=cg(et,Ce),Ce=fe;do{switch(Ce.tag){case 3:Ce.flags|=65536,v&=-v,Ce.lanes|=v;var He=H0(Ce,et,v);Th(Ce,He);break e;case 1:j=et;var Re=Ce.type,Je=Ce.stateNode;if((Ce.flags&128)===0&&(typeof Re.getDerivedStateFromError=="function"||Je!==null&&typeof Je.componentDidCatch=="function"&&(wo===null||!wo.has(Je)))){Ce.flags|=65536,v&=-v,Ce.lanes|=v;var It=qh(Ce,j,v);Th(Ce,It);break e}}Ce=Ce.return}while(Ce!==null)}Cg(T)}catch(Jt){v=Jt,er===T&&T!==null&&(er=T=T.return);continue}break}while(!0)}function Mg(){var m=Wf.current;return Wf.current=Ac,m===null?Ac:m}function rp(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),kr===null||(qo&268435455)===0&&(Ls&268435455)===0||Ri(kr,wr)}function Yf(m,v){var T=bn;bn|=2;var D=Mg();kr===m&&wr===v||Oa(m,v);do try{j0();break}catch(k){bg(m,k)}while(!0);if(di(),bn=T,Wf.current=D,er!==null)throw Error(o(261));return kr=null,wr=0,Ir}function j0(){for(;er!==null;)Eg(er)}function W0(){for(;er!==null&&!Ks();)Eg(er)}function Eg(m){var v=Pg(m.alternate,m,Ni);m.memoizedProps=m.pendingProps,v===null?Cg(m):er=v,Ao.current=null}function Cg(m){var v=m;do{var T=v.alternate;if(m=v.return,(v.flags&32768)===0){if(T=Yh(T,v,Ni),T!==null){er=T;return}}else{if(T=Zh(T,v),T!==null){T.flags&=32767,er=T;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Ir=6,er=null;return}}if(v=v.sibling,v!==null){er=v;return}er=v=m}while(v!==null);Ir===0&&(Ir=5)}function Mo(m,v){var T=dn,D=Zn.transition;try{Zn.transition=null,dn=1,X0(m,v,T)}finally{Zn.transition=D,dn=T}return null}function X0(m,v,T){do Jo();while(Ko!==null);if((bn&6)!==0)throw Error(o(327));var D=m.finishedWork,k=m.finishedLanes;if(D===null)return null;if(m.finishedWork=null,m.finishedLanes=0,D===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var j=D.lanes|D.childLanes;if(go(m,j),m===kr&&(er=kr=null,wr=0),(D.subtreeFlags&2064)===0&&(D.flags&2064)===0||Rc||(Rc=!0,ip(Oi,function(){return Jo(),null})),j=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||j){j=Zn.transition,Zn.transition=null;var fe=dn;dn=1;var Ce=bn;bn|=4,Ao.current=null,gg(m,D),YA(m,D),Q(m.containerInfo),m.current=D,zf(D),Mh(),bn=Ce,dn=fe,Zn.transition=j}else m.current=D;if(Rc&&(Rc=!1,Ko=m,_u=k),j=m.pendingLanes,j===0&&(wo=null),ga(D.stateNode),ps(m,Sr()),v!==null)for(T=m.onRecoverableError,D=0;D<v.length;D++)T(v[D]);if(Tc)throw Tc=!1,m=pr,pr=null,m;return(_u&1)!==0&&m.tag!==0&&Jo(),j=m.pendingLanes,(j&1)!==0?m===Fa?Su++:(Su=0,Fa=m):Su=0,ki(),null}function Jo(){if(Ko!==null){var m=qs(_u),v=Zn.transition,T=dn;try{if(Zn.transition=null,dn=16>m?16:m,Ko===null)var D=!1;else{if(m=Ko,Ko=null,_u=0,(bn&6)!==0)throw Error(o(331));var k=bn;for(bn|=4,bt=m.current;bt!==null;){var j=bt,fe=j.child;if((bt.flags&16)!==0){var Ce=j.deletions;if(Ce!==null){for(var et=0;et<Ce.length;et++){var _t=Ce[et];for(bt=_t;bt!==null;){var Gt=bt;switch(Gt.tag){case 0:case 11:case 15:Ia(8,Gt,j)}var pn=Gt.child;if(pn!==null)pn.return=Gt,bt=pn;else for(;bt!==null;){Gt=bt;var en=Gt.sibling,En=Gt.return;if(vg(Gt),Gt===_t){bt=null;break}if(en!==null){en.return=En,bt=en;break}bt=En}}}var Ft=j.alternate;if(Ft!==null){var Pi=Ft.child;if(Pi!==null){Ft.child=null;do{var ks=Pi.sibling;Pi.sibling=null,Pi=ks}while(Pi!==null)}}bt=j}}if((j.subtreeFlags&2064)!==0&&fe!==null)fe.return=j,bt=fe;else e:for(;bt!==null;){if(j=bt,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Ia(9,j,j.return)}var He=j.sibling;if(He!==null){He.return=j.return,bt=He;break e}bt=j.return}}var Re=m.current;for(bt=Re;bt!==null;){fe=bt;var Je=fe.child;if((fe.subtreeFlags&2064)!==0&&Je!==null)Je.return=fe,bt=Je;else e:for(fe=Re;bt!==null;){if(Ce=bt,(Ce.flags&2048)!==0)try{switch(Ce.tag){case 0:case 11:case 15:Ci(9,Ce)}}catch(Jt){es(Ce,Ce.return,Jt)}if(Ce===fe){bt=null;break e}var It=Ce.sibling;if(It!==null){It.return=Ce.return,bt=It;break e}bt=Ce.return}}if(bn=k,ki(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(pl,m)}catch{}D=!0}return D}finally{dn=T,Zn.transition=v}}return!1}function $f(m,v,T){v=cg(T,v),v=H0(m,v,1),yl(m,v),v=Vn(),m=Tl(m,1),m!==null&&(Xs(m,1,v),ps(m,v))}function es(m,v,T){if(m.tag===3)$f(m,m,T);else for(;v!==null;){if(v.tag===3){$f(v,m,T);break}else if(v.tag===1){var D=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(wo===null||!wo.has(D))){m=cg(T,m),m=qh(v,m,1),yl(v,m),m=Vn(),v=Tl(v,1),v!==null&&(Xs(v,1,m),ps(v,m));break}}v=v.return}}function Tg(m,v,T){var D=m.pingCache;D!==null&&D.delete(v),v=Vn(),m.pingedLanes|=m.suspendedLanes&T,kr===m&&(wr&T)===T&&(Ir===4||Ir===3&&(wr&130023424)===wr&&500>Sr()-Xf?Oa(m,0):yu|=T),ps(m,v)}function Rg(m,v){v===0&&((m.mode&1)===0?v=1:(v=wn,wn<<=1,(wn&130023424)===0&&(wn=4194304)));var T=Vn();m=Tl(m,v),m!==null&&(Xs(m,v,T),ps(m,T))}function q0(m){var v=m.memoizedState,T=0;v!==null&&(T=v.retryLane),Rg(m,T)}function K0(m,v){var T=0;switch(m.tag){case 13:var D=m.stateNode,k=m.memoizedState;k!==null&&(T=k.retryLane);break;case 19:D=m.stateNode;break;default:throw Error(o(314))}D!==null&&D.delete(v),Rg(m,T)}var Pg;Pg=function(m,v,T){if(m!==null)if(m.memoizedProps!==v.pendingProps||gn.current)gi=!0;else{if((m.lanes&T)===0&&(v.flags&128)===0)return gi=!1,Qh(m,v,T);gi=(m.flags&131072)!==0}else gi=!1,Ar&&(v.flags&1048576)!==0&&L0(v,Bh,v.index);switch(v.lanes=0,v.tag){case 2:var D=v.type;m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),m=v.pendingProps;var k=Ut(v,vn.current);Fr(v,T),k=yc(null,v,D,m,k,T);var j=Al();return v.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,ln(D)?(j=!0,rr(v)):j=!1,v.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,cc(v),k.updater=Ph,v.stateNode=k,k._reactInternals=v,Ym(v,D,m,T),v=Ui(null,v,D,!0,j,T)):(v.tag=0,Ar&&j&&$m(v),Pr(null,v,k,T),v=v.child),v;case 16:D=v.elementType;e:{switch(m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),m=v.pendingProps,k=D._init,D=k(D._payload),v.type=D,k=v.tag=$A(D),m=fi(D,m),k){case 0:v=Ra(null,v,D,m,T);break e;case 1:v=uu(null,v,D,m,T);break e;case 11:v=cr(null,v,D,m,T);break e;case 14:v=ir(null,v,D,fi(D.type,m),T);break e}throw Error(o(306,D,""))}return v;case 0:return D=v.type,k=v.pendingProps,k=v.elementType===D?k:fi(D,k),Ra(m,v,D,k,T);case 1:return D=v.type,k=v.pendingProps,k=v.elementType===D?k:fi(D,k),uu(m,v,D,k,T);case 3:e:{if(Of(v),m===null)throw Error(o(387));D=v.pendingProps,j=v.memoizedState,k=j.element,qm(m,v),Rh(v,D,null,T);var fe=v.memoizedState;if(D=fe.element,Te&&j.isDehydrated)if(j={element:D,isDehydrated:!1,cache:fe.cache,transitions:fe.transitions},v.updateQueue.baseState=j,v.memoizedState=j,v.flags&256){k=Error(o(423)),v=hg(m,v,D,T,k);break e}else if(D!==k){k=Error(o(424)),v=hg(m,v,D,T,k);break e}else for(Te&&(Mi=kt(v.stateNode.containerInfo),Yi=v,Ar=!0,Qs=null,dc=!1),T=k0(v,null,D,T),v.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(hc(),D===k){v=hs(m,v,T);break e}Pr(m,v,D,T)}v=v.child}return v;case 5:return U0(v),m===null&&_l(v),D=v.type,k=v.pendingProps,j=m!==null?m.memoizedProps:null,fe=k.children,se(D,k)?fe=null:j!==null&&se(D,j)&&(v.flags|=32),$i(m,v),Pr(m,v,fe,T),v.child;case 6:return m===null&&_l(v),null;case 13:return pg(m,v,T);case 4:return Fh(v,v.stateNode.containerInfo),D=v.pendingProps,m===null?v.child=ba(v,null,D,T):Pr(m,v,D,T),v.child;case 11:return D=v.type,k=v.pendingProps,k=v.elementType===D?k:fi(D,k),cr(m,v,D,k,T);case 7:return Pr(m,v,v.pendingProps,T),v.child;case 8:return Pr(m,v,v.pendingProps.children,T),v.child;case 12:return Pr(m,v,v.pendingProps.children,T),v.child;case 10:e:{if(D=v.type._context,k=v.pendingProps,j=v.memoizedProps,fe=k.value,_a(v,D,fe),j!==null)if(ui(j.value,fe)){if(j.children===k.children&&!gn.current){v=hs(m,v,T);break e}}else for(j=v.child,j!==null&&(j.return=v);j!==null;){var Ce=j.dependencies;if(Ce!==null){fe=j.child;for(var et=Ce.firstContext;et!==null;){if(et.context===D){if(j.tag===1){et=Sa(-1,T&-T),et.tag=2;var _t=j.updateQueue;if(_t!==null){_t=_t.shared;var Gt=_t.pending;Gt===null?et.next=et:(et.next=Gt.next,Gt.next=et),_t.pending=et}}j.lanes|=T,et=j.alternate,et!==null&&(et.lanes|=T),ti(j.return,T,v),Ce.lanes|=T;break}et=et.next}}else if(j.tag===10)fe=j.type===v.type?null:j.child;else if(j.tag===18){if(fe=j.return,fe===null)throw Error(o(341));fe.lanes|=T,Ce=fe.alternate,Ce!==null&&(Ce.lanes|=T),ti(fe,T,v),fe=j.sibling}else fe=j.child;if(fe!==null)fe.return=j;else for(fe=j;fe!==null;){if(fe===v){fe=null;break}if(j=fe.sibling,j!==null){j.return=fe.return,fe=j;break}fe=fe.return}j=fe}Pr(m,v,k.children,T),v=v.child}return v;case 9:return k=v.type,D=v.pendingProps.children,Fr(v,T),k=Er(k),D=D(k),v.flags|=1,Pr(m,v,D,T),v.child;case 14:return D=v.type,k=fi(D,v.pendingProps),k=fi(D.type,k),ir(m,v,D,k,T);case 15:return Ta(m,v,v.type,v.pendingProps,T);case 17:return D=v.type,k=v.pendingProps,k=v.elementType===D?k:fi(D,k),m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),v.tag=1,ln(D)?(m=!0,rr(v)):m=!1,Fr(v,T),B0(v,D,k),Ym(v,D,k,T),Ui(null,v,D,!0,m,T);case 19:return fu(m,v,T);case 22:return Ei(m,v,T)}throw Error(o(156,v.tag))};function ip(m,v){return Cs(m,v)}function J0(m,v,T,D){this.tag=m,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(m,v,T,D){return new J0(m,v,T,D)}function sp(m){return m=m.prototype,!(!m||!m.isReactComponent)}function $A(m){if(typeof m=="function")return sp(m)?1:0;if(m!=null){if(m=m.$$typeof,m===S)return 11;if(m===b)return 14}return 2}function ka(m,v){var T=m.alternate;return T===null?(T=Os(m.tag,v,m.key,m.mode),T.elementType=m.elementType,T.type=m.type,T.stateNode=m.stateNode,T.alternate=m,m.alternate=T):(T.pendingProps=v,T.type=m.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=m.flags&14680064,T.childLanes=m.childLanes,T.lanes=m.lanes,T.child=m.child,T.memoizedProps=m.memoizedProps,T.memoizedState=m.memoizedState,T.updateQueue=m.updateQueue,v=m.dependencies,T.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},T.sibling=m.sibling,T.index=m.index,T.ref=m.ref,T}function op(m,v,T,D,k,j){var fe=2;if(D=m,typeof m=="function")sp(m)&&(fe=1);else if(typeof m=="string")fe=5;else e:switch(m){case f:return Au(T.children,k,j,v);case d:fe=8,k|=8;break;case p:return m=Os(12,T,v,k|2),m.elementType=p,m.lanes=j,m;case _:return m=Os(13,T,v,k),m.elementType=_,m.lanes=j,m;case x:return m=Os(19,T,v,k),m.elementType=x,m.lanes=j,m;case M:return Qf(T,k,j,v);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case g:fe=10;break e;case y:fe=9;break e;case S:fe=11;break e;case b:fe=14;break e;case w:fe=16,D=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return v=Os(fe,T,v,k),v.elementType=m,v.type=D,v.lanes=j,v}function Au(m,v,T,D){return m=Os(7,m,D,v),m.lanes=T,m}function Qf(m,v,T,D){return m=Os(22,m,D,v),m.elementType=M,m.lanes=T,m.stateNode={},m}function ap(m,v,T){return m=Os(6,m,null,v),m.lanes=T,m}function lp(m,v,T){return v=Os(4,m.children!==null?m.children:[],m.key,v),v.lanes=T,v.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},v}function up(m,v,T,D,k){this.tag=v,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Be,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=D,this.onRecoverableError=k,Te&&(this.mutableSourceEagerHydrationData=null)}function Y0(m,v,T,D,k,j,fe,Ce,et){return m=new up(m,v,T,Ce,et),v===1?(v=1,j===!0&&(v|=8)):v=0,j=Os(3,null,null,v),m.current=j,j.stateNode=m,j.memoizedState={element:D,isDehydrated:T,cache:null,transitions:null},cc(j),m}function $0(m){if(!m)return $t;m=m._reactInternals;e:{if(L(m)!==m||m.tag!==1)throw Error(o(170));var v=m;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(ln(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(o(171))}if(m.tag===1){var T=m.type;if(ln(T))return Mr(m,T,v)}return v}function Q0(m){var v=m._reactInternals;if(v===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=U(v),m===null?null:m.stateNode}function to(m,v){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var T=m.retryLane;m.retryLane=T!==0&&T<v?T:v}}function Zf(m,v){to(m,v),(m=m.alternate)&&to(m,v)}function cp(m){return m=U(m),m===null?null:m.stateNode}function Z0(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var v=Vn();zi(m,134217728,v),Zf(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var v=Vn(),T=bo(m);zi(m,T,v),Zf(m,T)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var v=m.stateNode;if(v.current.memoizedState.isDehydrated){var T=li(v.pendingLanes);T!==0&&(bi(v,T|1),ps(v,Sr()),(bn&6)===0&&(xu(),ki()))}break;case 13:var D=Vn();Pc(function(){return zi(m,1,D)}),Zf(m,1)}},n.batchedUpdates=function(m,v){var T=bn;bn|=1;try{return m(v)}finally{bn=T,bn===0&&(xu(),Vo&&ki())}},n.createComponentSelector=function(m){return{$$typeof:Hf,value:m}},n.createContainer=function(m,v,T,D,k,j,fe){return Y0(m,v,!1,null,T,D,k,j,fe)},n.createHasPseudoClassSelector=function(m){return{$$typeof:pu,value:m}},n.createHydrationContainer=function(m,v,T,D,k,j,fe,Ce,et){return m=Y0(T,D,!0,m,k,j,fe,Ce,et),m.context=$0(null),T=m.current,D=Vn(),k=bo(T),j=Sa(D,k),j.callback=v??null,yl(T,j),m.current.lanes=k,Xs(m,k,D),ps(m,D),m},n.createPortal=function(m,v,T){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:m,containerInfo:v,implementation:T}},n.createRoleSelector=function(m){return{$$typeof:mu,value:m}},n.createTestNameSelector=function(m){return{$$typeof:Ba,value:m}},n.createTextSelector=function(m){return{$$typeof:Ec,value:m}},n.deferredUpdates=function(m){var v=dn,T=Zn.transition;try{return Zn.transition=null,dn=16,m()}finally{dn=v,Zn.transition=T}},n.discreteUpdates=function(m,v,T,D,k){var j=dn,fe=Zn.transition;try{return Zn.transition=null,dn=1,m(v,T,D,k)}finally{dn=j,Zn.transition=fe,bn===0&&xu()}},n.findAllNodes=Da,n.findBoundingRects=function(m,v){if(!Fe)throw Error(o(363));v=Da(m,v),m=[];for(var T=0;T<v.length;T++)m.push(X(v[T]));for(v=m.length-1;0<v;v--){T=m[v];for(var D=T.x,k=D+T.width,j=T.y,fe=j+T.height,Ce=v-1;0<=Ce;Ce--)if(v!==Ce){var et=m[Ce],_t=et.x,Gt=_t+et.width,pn=et.y,en=pn+et.height;if(D>=_t&&j>=pn&&k<=Gt&&fe<=en){m.splice(v,1);break}else if(D!==_t||T.width!==et.width||en<j||pn>fe){if(!(j!==pn||T.height!==et.height||Gt<D||_t>k)){_t>D&&(et.width+=_t-D,et.x=D),Gt<k&&(et.width=k-_t),m.splice(v,1);break}}else{pn>j&&(et.height+=pn-j,et.y=j),en<fe&&(et.height=fe-pn),m.splice(v,1);break}}}return m},n.findHostInstance=Q0,n.findHostInstanceWithNoPortals=function(m){return m=O(m),m=m!==null?q(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return Q0(m)},n.flushControlled=function(m){var v=bn;bn|=1;var T=Zn.transition,D=dn;try{Zn.transition=null,dn=1,m()}finally{dn=D,Zn.transition=T,bn=v,bn===0&&(xu(),ki())}},n.flushPassiveEffects=Jo,n.flushSync=Pc,n.focusWithin=function(m,v){if(!Fe)throw Error(o(363));for(m=Vf(m),v=Ds(m,v),v=Array.from(v),m=0;m<v.length;){var T=v[m++];if(!Se(T)){if(T.tag===5&&De(T.stateNode))return!0;for(T=T.child;T!==null;)v.push(T),T=T.sibling}}return!1},n.getCurrentUpdatePriority=function(){return dn},n.getFindAllNodesFailureDescription=function(m,v){if(!Fe)throw Error(o(363));var T=0,D=[];m=[Vf(m),0];for(var k=0;k<m.length;){var j=m[k++],fe=m[k++],Ce=v[fe];if((j.tag!==5||!Se(j))&&(jf(j,Ce)&&(D.push(El(Ce)),fe++,fe>T&&(T=fe)),fe<v.length))for(j=j.child;j!==null;)m.push(j,fe),j=j.sibling}if(T<v.length){for(m=[];T<v.length;T++)m.push(El(v[T]));return`findAllNodes was able to match part of the selector:
  `+(D.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return $(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:cp,findFiberByHostInstance:m.findFiberByHostInstance||Z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(v.isDisabled||!v.supportsFiber)m=!0;else{try{pl=v.inject(m),Ts=v}catch{}m=!!v.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,v,T,D){if(!Fe)throw Error(o(363));m=Da(m,v);var k=qe(m,T,D).disconnect;return{disconnect:function(){k()}}},n.registerMutableSourceForHydration=function(m,v){var T=v._getVersion;T=T(v._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[v,T]:m.mutableSourceEagerHydrationData.push(v,T)},n.runWithPriority=function(m,v){var T=dn;try{return dn=m,v()}finally{dn=T}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,v,T,D){var k=v.current,j=Vn(),fe=bo(k);return T=$0(T),v.context===null?v.context=T:v.pendingContext=T,v=Sa(j,fe),v.payload={element:m},D=D===void 0?null:D,D!==null&&(v.callback=D),yl(k,v),m=zi(k,fe,j),m!==null&&Ch(m,k,fe),fe},n}),HE}var bk;function mhe(){return bk||(bk=1,NE.exports=phe()),NE.exports}var ghe=mhe();const vhe=jy(ghe);var Mk=PH();const AP={},yhe=t=>void Object.assign(AP,t);function xhe(t,e){function n(f,{args:d=[],attach:p,...g},y){let S=`${f[0].toUpperCase()}${f.slice(1)}`,_;if(f==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=g.object;_=Xp(x,{type:f,root:y,attach:p,primitive:!0})}else{const x=AP[S];if(!x)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=Xp(new x(...d),{type:f,root:y,attach:p,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_.isBufferGeometry?_.__r3f.attach="geometry":_.isMaterial&&(_.__r3f.attach="material")),S!=="inject"&&WE(_,g),_}function r(f,d){let p=!1;if(d){var g,y;(g=d.__r3f)!=null&&g.attach?jE(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),p=!0),p||(y=f.__r3f)==null||y.objects.push(d),d.__r3f||Xp(d,{}),d.__r3f.parent=f,TT(d),qp(d)}}function i(f,d,p){let g=!1;if(d){var y,S;if((y=d.__r3f)!=null&&y.attach)jE(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:d});const _=f.children.filter(b=>b!==d),x=_.indexOf(p);f.children=[..._.slice(0,x),d,..._.slice(x)],g=!0}g||(S=f.__r3f)==null||S.objects.push(d),d.__r3f||Xp(d,{}),d.__r3f.parent=f,TT(d),qp(d)}}function s(f,d,p=!1){f&&[...f].forEach(g=>o(d,g,p))}function o(f,d,p){if(d){var g,y,S;if(d.__r3f&&(d.__r3f.parent=null),(g=f.__r3f)!=null&&g.objects&&(f.__r3f.objects=f.__r3f.objects.filter(M=>M!==d)),(y=d.__r3f)!=null&&y.attach)Pk(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var _;f.remove(d),(_=d.__r3f)!=null&&_.root&&Che(r1(d),d)}const b=(S=d.__r3f)==null?void 0:S.primitive,w=!b&&(p===void 0?d.dispose!==null:p);if(!b){var x;s((x=d.__r3f)==null?void 0:x.objects,d,w),s(d.children,d,w)}if(delete d.__r3f,w&&d.dispose&&d.type!=="Scene"){const M=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Mk.unstable_scheduleCallback(Mk.unstable_IdlePriority,M):M()}qp(f)}}function a(f,d,p,g){var y;const S=(y=f.__r3f)==null?void 0:y.parent;if(!S)return;const _=n(d,p,f.__r3f.root);if(f.children){for(const x of f.children)x.__r3f&&r(_,x);f.children=f.children.filter(x=>!x.__r3f)}f.__r3f.objects.forEach(x=>r(_,x)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(S,f),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(S,_),_.raycast&&_.__r3f.eventCount&&r1(_).getState().internal.interaction.push(_),[g,g.alternate].forEach(x=>{x!==null&&(x.stateNode=_,x.ref&&(typeof x.ref=="function"?x.ref(_):x.ref.current=_))})}const l=()=>{};return{reconciler:vhe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,r(p,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,p)=>{if(!d||!p)return;const g=f.getState().scene;g.__r3f&&i(g,d,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;return!!((d=f==null?void 0:f.__r3f)!=null?d:{}).handlers},prepareUpdate(f,d,p,g){var y;if(((y=f==null?void 0:f.__r3f)!=null?y:{}).primitive&&g.object&&g.object!==f)return[!0];{const{args:_=[],children:x,...b}=g,{args:w=[],children:M,...C}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((B,P)=>B!==w[P]))return[!0];const I=kH(f,b,C,!0);return I.changes.length?[!1,I]:null}},commitUpdate(f,[d,p],g,y,S,_){d?a(f,g,S,_):WE(f,p)},commitMount(f,d,p,g){var y;const S=(y=f.__r3f)!=null?y:{};f.raycast&&S.handlers&&S.eventCount&&r1(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Xp(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:p,parent:g}=(d=f.__r3f)!=null?d:{};p&&g&&Pk(g,f,p),f.isObject3D&&(f.visible=!1),qp(f)},unhideInstance(f,d){var p;const{attach:g,parent:y}=(p=f.__r3f)!=null?p:{};g&&y&&jE(y,f,g),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),qp(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():im.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&br.fun(performance.now)?performance.now:br.fun(Date.now)?Date.now:()=>0,scheduleTimeout:br.fun(setTimeout)?setTimeout:void 0,cancelTimeout:br.fun(clearTimeout)?clearTimeout:void 0}),applyProps:WE}}var Ek,Ck;const VE=t=>"colorSpace"in t||"outputColorSpace"in t,IH=()=>{var t;return(t=AP.ColorManagement)!=null?t:null},BH=t=>t&&t.isOrthographicCamera,_he=t=>t&&t.hasOwnProperty("current"),w0=typeof window<"u"&&((Ek=window.document)!=null&&Ek.createElement||((Ck=window.navigator)==null?void 0:Ck.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function DH(t){const e=G.useRef(t);return w0(()=>void(e.current=t),[t]),e}function She({set:t}){return w0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class LH extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}LH.getDerivedStateFromError=()=>({error:!0});const FH="__default",Tk=new Map,Ahe=t=>t&&!!t.memoized&&!!t.changes;function OH(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const uv=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function r1(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const br={obj:t=>t===Object(t)&&!br.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(br.str(t)||br.num(t)||br.boo(t))return t===e;const s=br.obj(t);if(s&&r==="reference")return t===e;const o=br.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!br.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(br.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function whe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function bhe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Xp(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function CT(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const Rk=/-\d+$/;function jE(t,e,n){if(br.str(n)){if(Rk.test(n)){const s=n.replace(Rk,""),{target:o,key:a}=CT(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=CT(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function Pk(t,e,n){var r,i;if(br.str(n)){const{target:s,key:o}=CT(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function kH(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){const f=t.__r3f,d=Object.entries(i),p=[];if(u){const y=Object.keys(l);for(let S=0;S<y.length;S++)i.hasOwnProperty(y[S])||d.unshift([y[S],FH+"remove"])}d.forEach(([y,S])=>{var _;if((_=t.__r3f)!=null&&_.primitive&&y==="object"||br.equ(S,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,S,!0,[]]);let x=[];y.includes("-")&&(x=y.split("-")),p.push([y,S,!1,x]);for(const b in i){const w=i[b];b.startsWith(`${y}-`)&&p.push([b,w,!1,b.split("-")])}});const g={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:p}}function WE(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Ahe(e)?e:kH(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[g,y,S,_]=a[p];if(VE(t)){const M="srgb",C="srgb-linear";g==="encoding"?(g="colorSpace",y=y===3001?M:C):g==="outputEncoding"&&(g="outputColorSpace",y=y===3001?M:C)}let x=t,b=x[g];if(_.length&&(b=_.reduce((w,M)=>w[M],t),!(b&&b.set))){const[w,...M]=_.reverse();x=M.reverse().reduce((C,I)=>C[I],t),g=w}if(y===FH+"remove")if(x.constructor){let w=Tk.get(x.constructor);w||(w=new x.constructor,Tk.set(x.constructor,w)),y=w[g]}else y=0;if(S&&r)y?r.handlers[g]=y:delete r.handlers[g],r.eventCount=Object.keys(r.handlers).length;else if(b&&b.set&&(b.copy||b instanceof Zd)){if(Array.isArray(y))b.fromArray?b.fromArray(y):b.set(...y);else if(b.copy&&y&&y.constructor&&b.constructor===y.constructor)b.copy(y);else if(y!==void 0){var u;const w=(u=b)==null?void 0:u.isColor;!w&&b.setScalar?b.setScalar(y):b instanceof Zd&&y instanceof Zd?b.mask=y.mask:b.set(y),!IH()&&s&&!s.linear&&w&&b.convertSRGBToLinear()}}else{var f;if(x[g]=y,(f=x[g])!=null&&f.isTexture&&x[g].format===ws&&x[g].type===il&&s){const w=x[g];VE(w)&&VE(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}}qp(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const p=r1(t).getState().internal,g=p.interaction.indexOf(t);g>-1&&p.interaction.splice(g,1),r.eventCount&&p.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&TT(t),t}function qp(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function TT(t){t.onUpdate==null||t.onUpdate(t)}function Mhe(t,e){t.manual||(BH(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function D_(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Ehe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return im.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return im.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return im.ContinuousEventPriority;default:return im.DefaultEventPriority}}function UH(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Che(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{UH(n.capturedMap,e,r,i)})}function The(t){function e(l){const{internal:u}=t.getState(),f=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function r(l,u){const f=t.getState(),d=new Set,p=[],g=u?u(f.internal.interaction):f.internal.interaction;for(let x=0;x<g.length;x++){const b=uv(g[x]);b&&(b.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function y(x){const b=uv(x);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var w;b.events.compute==null||b.events.compute(l,b,(w=b.previousRoot)==null?void 0:w.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(x,!0):[]}let S=g.flatMap(y).sort((x,b)=>{const w=uv(x.object),M=uv(b.object);return!w||!M?x.distance-b.distance:M.events.priority-w.events.priority||x.distance-b.distance}).filter(x=>{const b=D_(x);return d.has(b)?!1:(d.add(b),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const x of S){let b=x.object;for(;b;){var _;(_=b.__r3f)!=null&&_.eventCount&&p.push({...x,eventObject:b}),b=b.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let x of f.internal.capturedMap.get(l.pointerId).values())d.has(D_(x.intersection))||p.push(x.intersection);return p}function i(l,u,f,d){const p=t.getState();if(l.length){const g={stopped:!1};for(const y of l){const S=uv(y.object)||p,{raycaster:_,pointer:x,camera:b,internal:w}=S,M=new le(x.x,x.y,0).unproject(b),C=E=>{var O,U;return(O=(U=w.capturedMap.get(E))==null?void 0:U.has(y.eventObject))!=null?O:!1},I=E=>{const O={intersection:y,target:u.target};w.capturedMap.has(E)?w.capturedMap.get(E).set(y.eventObject,O):w.capturedMap.set(E,new Map([[y.eventObject,O]])),u.target.setPointerCapture(E)},B=E=>{const O=w.capturedMap.get(E);O&&UH(w.capturedMap,y.eventObject,O,E)};let P={};for(let E in u){let O=u[E];typeof O!="function"&&(P[E]=O)}let L={...y,...P,pointer:x,intersections:l,stopped:g.stopped,delta:f,unprojectedPoint:M,ray:_.ray,camera:b,stopPropagation(){const E="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!E||E.has(y.eventObject))&&(L.stopped=g.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(O=>O.eventObject===y.eventObject))){const O=l.slice(0,l.indexOf(y));s([...O,y])}},target:{hasPointerCapture:C,setPointerCapture:I,releasePointerCapture:B},currentTarget:{hasPointerCapture:C,setPointerCapture:I,releasePointerCapture:B},nativeEvent:u};if(d(L),g.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const f of u.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const p=f.eventObject.__r3f,g=p==null?void 0:p.handlers;if(u.hovered.delete(D_(f)),p!=null&&p.eventCount){const y={...f,intersections:l};g.onPointerOut==null||g.onPointerOut(y),g.onPointerLeave==null||g.onPointerLeave(y)}}}function o(l,u){for(let f=0;f<u.length;f++){const d=u[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=t.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))})}}return function(f){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=f;const g=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(f,g?n:void 0),x=y?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=_.map(w=>w.eventObject)),y&&!_.length&&x<=2&&(o(f,p.interaction),d&&d(f)),g&&s(_);function b(w){const M=w.eventObject,C=M.__r3f,I=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(g){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const B=D_(w),P=p.hovered.get(B);P?P.stopped&&w.stopPropagation():(p.hovered.set(B,w),I.onPointerOver==null||I.onPointerOver(w),I.onPointerEnter==null||I.onPointerEnter(w))}I.onPointerMove==null||I.onPointerMove(w)}else{const B=I[l];B?(!y||p.initialHits.includes(M))&&(o(f,p.interaction.filter(P=>!p.initialHits.includes(P))),B(w)):y&&p.initialHits.includes(M)&&o(f,p.interaction.filter(P=>!p.initialHits.includes(P)))}}i(_,f,x,b)}}return{handlePointer:a}}const NH=t=>!!(t!=null&&t.render),zH=G.createContext(null),Rhe=(t,e)=>{const n=uhe((a,l)=>{const u=new le,f=new le,d=new le;function p(x=l().camera,b=f,w=l().size){const{width:M,height:C,top:I,left:B}=w,P=M/C;b.isVector3?d.copy(b):d.set(...b);const L=x.getWorldPosition(u).distanceTo(d);if(BH(x))return{width:M/x.zoom,height:C/x.zoom,top:I,left:B,factor:1,distance:L,aspect:P};{const E=x.fov*Math.PI/180,O=2*Math.tan(E/2)*L,U=O*(M/C);return{width:U,height:O,top:I,left:B,factor:M/U,distance:L,aspect:P}}}let g;const y=x=>a(b=>({performance:{...b.performance,current:x}})),S=new it;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>t(l(),x),advance:(x,b)=>e(x,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new gP,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();g&&clearTimeout(g),x.performance.current!==x.performance.min&&y(x.performance.min),g=setTimeout(()=>y(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:x=>a(b=>({...b,events:{...b.events,...x}})),setSize:(x,b,w,M,C)=>{const I=l().camera,B={width:x,height:b,top:M||0,left:C||0,updateStyle:w};a(P=>({size:B,viewport:{...P.viewport,...p(I,f,B)}}))},setDpr:x=>a(b=>{const w=OH(x);return{viewport:{...b.viewport,dpr:w,initialDpr:b.viewport.initialDpr||w}}}),setFrameloop:(x="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,x!=="never"&&(b.start(),b.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,b,w)=>{const M=l().internal;return M.priority=M.priority+(b>0?1:0),M.subscribers.push({ref:x,priority:b,store:w}),M.subscribers=M.subscribers.sort((C,I)=>C.priority-I.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(b>0?1:0),C.subscribers=C.subscribers.filter(I=>I.ref!==x))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:f,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var p;i=l,s=u.dpr,Mhe(a,l),f.setPixelRatio(u.dpr);const g=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,g)}a!==o&&(o=a,d(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};function Phe(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}let L_,GH=new Set,Ihe=new Set,Bhe=new Set;const Dhe=t=>Phe(t,GH);function XE(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function cv(t,e){switch(t){case"before":return XE(GH,e);case"after":return XE(Ihe,e);case"tail":return XE(Bhe,e)}}let qE,KE;function JE(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),qE=e.internal.subscribers,L_=0;L_<qE.length;L_++)KE=qE[L_],KE.ref.current(KE.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Lhe(t){let e=!1,n=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,cv("before",u),n=!0;for(const d of t.values()){var f;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(r+=JE(u,s))}if(n=!1,cv("after",u),r===0)return cv("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,f=1){var d;if(!u)return t.forEach(p=>a(p.store.getState(),f));(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(f>1?u.internal.frames=Math.min(60,u.internal.frames+f):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,f=!0,d,p){if(f&&cv("before",u),d)JE(u,d,p);else for(const g of t.values())JE(u,g.store.getState());f&&cv("after",u)}return{loop:o,invalidate:a,advance:l}}function HH(){const t=G.useContext(zH);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Lu(t=n=>n,e){return HH()(t,e)}function wP(t,e=0){const n=HH(),r=n.getState().internal.subscribe,i=DH(t);return w0(()=>r(i,e,n),[e,r,n]),null}const Ik=new WeakMap;function VH(t,e){return function(n,...r){let i=Ik.get(n);return i||(i=new n,Ik.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,whe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function b0(t,e,n,r){const i=Array.isArray(e)?e:[e],s=RH(VH(n,r),[t,...i],{equal:br.equ});return Array.isArray(e)?s:s[0]}b0.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return fhe(VH(n),[t,...r])};b0.clear=function(t,e){const n=Array.isArray(e)?e:[e];return dhe([t,...n])};const Bm=new Map,{invalidate:Bk,advance:Dk}=Lhe(Bm),{reconciler:pS,applyProps:Fd}=xhe(Bm,Ehe),Gp={objects:"shallow",strict:!1},Fhe=(t,e)=>{const n=typeof t=="function"?t(e):t;return NH(n)?n:new MH({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Ohe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function khe(t){const e=Bm.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Rhe(Bk,Dk),o=n||pS.createContainer(s,im.ConcurrentRoot,null,!1,null,"",i,null);e||Bm.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(f={}){let{gl:d,size:p,scene:g,events:y,onCreated:S,shadows:_=!1,linear:x=!1,flat:b=!1,legacy:w=!1,orthographic:M=!1,frameloop:C="always",dpr:I=[1,2],performance:B,raycaster:P,camera:L,onPointerMissed:E}=f,O=s.getState(),U=O.gl;O.gl||O.set({gl:U=Fhe(d,t)});let H=O.raycaster;H||O.set({raycaster:H=new vH});const{params:q,...te}=P||{};if(br.equ(te,H,Gp)||Fd(H,{...te}),br.equ(q,H.params,Gp)||Fd(H,{params:{...H.params,...q}}),!O.camera||O.camera===u&&!br.equ(u,L,Gp)){u=L;const Q=L instanceof p0,z=Q?L:M?new Ku(0,0,0,0,.1,1e3):new Qr(75,0,.1,1e3);Q||(z.position.z=5,L&&(Fd(z,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(z.manual=!0,z.updateProjectionMatrix())),!O.camera&&!(L!=null&&L.rotation)&&z.lookAt(0,0,0)),O.set({camera:z}),H.camera=z}if(!O.scene){let Q;g!=null&&g.isScene?Q=g:(Q=new q2,g&&Fd(Q,g)),O.set({scene:Xp(Q)})}if(!O.xr){var $;const Q=(ae,Z)=>{const se=s.getState();se.frameloop!=="never"&&Dk(ae,!0,se,Z)},z=()=>{const ae=s.getState();ae.gl.xr.enabled=ae.gl.xr.isPresenting,ae.gl.xr.setAnimationLoop(ae.gl.xr.isPresenting?Q:null),ae.gl.xr.isPresenting||Bk(ae)},K={connect(){const ae=s.getState().gl;ae.xr.addEventListener("sessionstart",z),ae.xr.addEventListener("sessionend",z)},disconnect(){const ae=s.getState().gl;ae.xr.removeEventListener("sessionstart",z),ae.xr.removeEventListener("sessionend",z)}};typeof(($=U.xr)==null?void 0:$.addEventListener)=="function"&&K.connect(),O.set({xr:K})}if(U.shadowMap){const Q=U.shadowMap.enabled,z=U.shadowMap.type;if(U.shadowMap.enabled=!!_,br.boo(_))U.shadowMap.type=Gv;else if(br.str(_)){var ie;const K={basic:F5,percentage:sA,soft:Gv,variance:Xa};U.shadowMap.type=(ie=K[_])!=null?ie:Gv}else br.obj(_)&&Object.assign(U.shadowMap,_);(Q!==U.shadowMap.enabled||z!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const W=IH();W&&("enabled"in W?W.enabled=!w:"legacyMode"in W&&(W.legacyMode=w)),l||Fd(U,{outputEncoding:x?3e3:3001,toneMapping:b?Vl:R2}),O.legacy!==w&&O.set(()=>({legacy:w})),O.linear!==x&&O.set(()=>({linear:x})),O.flat!==b&&O.set(()=>({flat:b})),d&&!br.fun(d)&&!NH(d)&&!br.equ(d,U,Gp)&&Fd(U,d),y&&!O.events.handlers&&O.set({events:y(s)});const Y=Ohe(t,p);return br.equ(Y,O.size,Gp)||O.setSize(Y.width,Y.height,Y.updateStyle,Y.top,Y.left),I&&O.viewport.dpr!==OH(I)&&O.setDpr(I),O.frameloop!==C&&O.setFrameloop(C),O.onPointerMissed||O.set({onPointerMissed:E}),B&&!br.equ(B,O.performance,Gp)&&O.set(Q=>({performance:{...Q.performance,...B}})),a=S,l=!0,this},render(f){return l||this.configure(),pS.updateContainer(V.jsx(Uhe,{store:s,children:f,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){jH(t)}}}function Uhe({store:t,children:e,onCreated:n,rootElement:r}){return w0(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),V.jsx(zH.Provider,{value:t,children:e})}function jH(t,e){const n=Bm.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),pS.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),bhe(i),Bm.delete(t)}catch{}},500)})}}pS.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version});const YE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Nhe(t){const{handlePointer:e}=The(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(YE).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=YE[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=YE[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function Lk(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function zhe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,f=G.useRef(!1);G.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,g]=G.useMemo(()=>{const x=()=>{if(!a.current.element)return;const{left:b,top:w,width:M,height:C,bottom:I,right:B,x:P,y:L}=a.current.element.getBoundingClientRect(),E={left:b,top:w,width:M,height:C,bottom:I,right:B,x:P,y:L};a.current.element instanceof HTMLElement&&r&&(E.height=a.current.element.offsetHeight,E.width=a.current.element.offsetWidth),Object.freeze(E),f.current&&!jhe(a.current.lastBounds,E)&&o(a.current.lastBounds=E)};return[x,u?Lk(x,u):x,l?Lk(x,l):x]},[o,r,l,u]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function S(){a.current.element&&(a.current.resizeObserver=new i(g),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const _=x=>{!x||x===a.current.element||(y(),a.current.element=x,a.current.scrollContainers=WH(x),S())};return Hhe(g,!!e),Ghe(p),G.useEffect(()=>{y(),S()},[e,g,p]),G.useEffect(()=>y,[]),[_,s,d]}function Ghe(t){G.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Hhe(t,e){G.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function WH(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...WH(t.parentElement)]}const Vhe=["x","y","top","bottom","left","right","width","height"],jhe=(t,e)=>Vhe.every(n=>t[n]===e[n]);var Whe=Object.defineProperty,Xhe=Object.defineProperties,qhe=Object.getOwnPropertyDescriptors,Fk=Object.getOwnPropertySymbols,Khe=Object.prototype.hasOwnProperty,Jhe=Object.prototype.propertyIsEnumerable,Ok=(t,e,n)=>e in t?Whe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kk=(t,e)=>{for(var n in e||(e={}))Khe.call(e,n)&&Ok(t,n,e[n]);if(Fk)for(var n of Fk(e))Jhe.call(e,n)&&Ok(t,n,e[n]);return t},Yhe=(t,e)=>Xhe(t,qhe(e)),Uk,Nk;typeof window<"u"&&((Uk=window.document)!=null&&Uk.createElement||((Nk=window.navigator)==null?void 0:Nk.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function XH(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=XH(r,e,n);if(i)return i;r=r.sibling}}function qH(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const zk=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=zk;return}return zk.apply(this,arguments)};const bP=qH(G.createContext(null));class KH extends G.Component{render(){return G.createElement(bP.Provider,{value:this._reactInternals},this.props.children)}}function $he(){const t=G.useContext(bP);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=XH(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Qhe(){const t=$he(),[e]=G.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==bP&&!e.has(i)&&e.set(i,G.useContext(qH(i)))}n=n.return}return e}function Zhe(){const t=Qhe();return G.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>G.createElement(e,null,G.createElement(n.Provider,Yhe(kk({},r),{value:t.get(n)}))),e=>G.createElement(KH,kk({},e))),[t])}const epe=G.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Nhe,eventSource:a,eventPrefix:l,shadows:u,linear:f,flat:d,legacy:p,orthographic:g,frameloop:y,dpr:S,performance:_,raycaster:x,camera:b,scene:w,onPointerMissed:M,onCreated:C,...I},B){G.useMemo(()=>yhe(EH),[]);const P=Zhe(),[L,E]=zhe({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=G.useRef(null),U=G.useRef(null);G.useImperativeHandle(B,()=>O.current);const H=DH(M),[q,te]=G.useState(!1),[$,ie]=G.useState(!1);if(q)throw q;if($)throw $;const W=G.useRef(null);w0(()=>{const Q=O.current;E.width>0&&E.height>0&&Q&&(W.current||(W.current=khe(Q)),W.current.configure({gl:s,events:o,shadows:u,linear:f,flat:d,legacy:p,orthographic:g,frameloop:y,dpr:S,performance:_,raycaster:x,camera:b,scene:w,size:E,onPointerMissed:(...z)=>H.current==null?void 0:H.current(...z),onCreated:z=>{z.events.connect==null||z.events.connect(a?_he(a)?a.current:a:U.current),l&&z.setEvents({compute:(K,ae)=>{const Z=K[l+"X"],se=K[l+"Y"];ae.pointer.set(Z/ae.size.width*2-1,-(se/ae.size.height)*2+1),ae.raycaster.setFromCamera(ae.pointer,ae.camera)}}),C==null||C(z)}}),W.current.render(V.jsx(P,{children:V.jsx(LH,{set:ie,children:V.jsx(G.Suspense,{fallback:V.jsx(She,{set:te}),children:e??null})})})))}),G.useEffect(()=>{const Q=O.current;if(Q)return()=>jH(Q)},[]);const Y=a?"none":"auto";return V.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...i},...I,children:V.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:V.jsx("canvas",{ref:O,style:{display:"block"},children:n})})})}),JH=G.forwardRef(function(e,n){return V.jsx(KH,{children:V.jsx(epe,{...e,ref:n})})});var MP=E0(),An=t=>M0(t,MP),EP=E0();An.write=t=>M0(t,EP);var zA=E0();An.onStart=t=>M0(t,zA);var CP=E0();An.onFrame=t=>M0(t,CP);var TP=E0();An.onFinish=t=>M0(t,TP);var cm=[];An.setTimeout=(t,e)=>{const n=An.now()+e,r=()=>{const s=cm.findIndex(o=>o.cancel==r);~s&&cm.splice(s,1),rf-=~s?1:0},i={time:n,handler:t,cancel:r};return cm.splice(YH(n),0,i),rf+=1,$H(),i};var YH=t=>~(~cm.findIndex(e=>e.time>t)||~cm.length);An.cancel=t=>{zA.delete(t),CP.delete(t),TP.delete(t),MP.delete(t),EP.delete(t)};An.sync=t=>{RT=!0,An.batchedUpdates(t),RT=!1};An.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,An.onStart(n)}return r.handler=t,r.cancel=()=>{zA.delete(n),e=null},r};var RP=typeof window<"u"?window.requestAnimationFrame:()=>{};An.use=t=>RP=t;An.now=typeof performance<"u"?()=>performance.now():Date.now;An.batchedUpdates=t=>t();An.catch=console.error;An.frameLoop="always";An.advance=()=>{An.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):ZH()};var nf=-1,rf=0,RT=!1;function M0(t,e){RT?(e.delete(t),t(0)):(e.add(t),$H())}function $H(){nf<0&&(nf=0,An.frameLoop!=="demand"&&RP(QH))}function tpe(){nf=-1}function QH(){~nf&&(RP(QH),An.batchedUpdates(ZH))}function ZH(){const t=nf;nf=An.now();const e=YH(nf);if(e&&(eV(cm.splice(0,e),n=>n.handler()),rf-=e),!rf){tpe();return}zA.flush(),MP.flush(t?Math.min(64,nf-t):16.667),CP.flush(),EP.flush(),TP.flush()}function E0(){let t=new Set,e=t;return{add(n){rf+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return rf-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,rf-=e.size,eV(e,r=>r(n)&&t.add(r)),rf+=t.size,e=t)}}}function eV(t,e){t.forEach(n=>{try{e(n)}catch(r){An.catch(r)}})}var npe=Object.defineProperty,rpe=(t,e)=>{for(var n in e)npe(t,n,{get:e[n],enumerable:!0})},ol={};rpe(ol,{assign:()=>spe,colors:()=>uf,createStringInterpolator:()=>IP,skipAnimation:()=>nV,to:()=>tV,willAdvance:()=>BP});function PT(){}var ipe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Ct={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Fu(t,e){if(Ct.arr(t)){if(!Ct.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var nr=(t,e)=>t.forEach(e);function ic(t,e,n){if(Ct.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var ua=t=>Ct.und(t)?[]:Ct.arr(t)?t:[t];function Yv(t,e){if(t.size){const n=Array.from(t);t.clear(),nr(n,e)}}var Rv=(t,...e)=>Yv(t,n=>n(...e)),PP=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),IP,tV,uf=null,nV=!1,BP=PT,spe=t=>{t.to&&(tV=t.to),t.now&&(An.now=t.now),t.colors!==void 0&&(uf=t.colors),t.skipAnimation!=null&&(nV=t.skipAnimation),t.createStringInterpolator&&(IP=t.createStringInterpolator),t.requestAnimationFrame&&An.use(t.requestAnimationFrame),t.batchedUpdates&&(An.batchedUpdates=t.batchedUpdates),t.willAdvance&&(BP=t.willAdvance),t.frameLoop&&(An.frameLoop=t.frameLoop)},$v=new Set,aa=[],$E=[],mS=0,GA={get idle(){return!$v.size&&!aa.length},start(t){mS>t.priority?($v.add(t),An.onStart(ope)):(rV(t),An(IT))},advance:IT,sort(t){if(mS)An.onFrame(()=>GA.sort(t));else{const e=aa.indexOf(t);~e&&(aa.splice(e,1),iV(t))}},clear(){aa=[],$v.clear()}};function ope(){$v.forEach(rV),$v.clear(),An(IT)}function rV(t){aa.includes(t)||iV(t)}function iV(t){aa.splice(ape(aa,e=>e.priority>t.priority),0,t)}function IT(t){const e=$E;for(let n=0;n<aa.length;n++){const r=aa[n];mS=r.priority,r.idle||(BP(r),r.advance(t),r.idle||e.push(r))}return mS=0,$E=aa,$E.length=0,aa=e,aa.length>0}function ape(t,e){const n=t.findIndex(e);return n<0?t.length:n}var lpe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Qa="[-+]?\\d*\\.?\\d+",gS=Qa+"%";function HA(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var upe=new RegExp("rgb"+HA(Qa,Qa,Qa)),cpe=new RegExp("rgba"+HA(Qa,Qa,Qa,Qa)),fpe=new RegExp("hsl"+HA(Qa,gS,gS)),dpe=new RegExp("hsla"+HA(Qa,gS,gS,Qa)),hpe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ppe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,mpe=/^#([0-9a-fA-F]{6})$/,gpe=/^#([0-9a-fA-F]{8})$/;function vpe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=mpe.exec(t))?parseInt(e[1]+"ff",16)>>>0:uf&&uf[t]!==void 0?uf[t]:(e=upe.exec(t))?(Hp(e[1])<<24|Hp(e[2])<<16|Hp(e[3])<<8|255)>>>0:(e=cpe.exec(t))?(Hp(e[1])<<24|Hp(e[2])<<16|Hp(e[3])<<8|Vk(e[4]))>>>0:(e=hpe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=gpe.exec(t))?parseInt(e[1],16)>>>0:(e=ppe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=fpe.exec(t))?(Gk(Hk(e[1]),F_(e[2]),F_(e[3]))|255)>>>0:(e=dpe.exec(t))?(Gk(Hk(e[1]),F_(e[2]),F_(e[3]))|Vk(e[4]))>>>0:null}function QE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Gk(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=QE(i,r,t+1/3),o=QE(i,r,t),a=QE(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Hp(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Hk(t){return(parseFloat(t)%360+360)%360/360}function Vk(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function F_(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function jk(t){let e=vpe(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var ky=(t,e,n)=>{if(Ct.fun(t))return t;if(Ct.arr(t))return ky({range:t,output:e,extrapolate:n});if(Ct.str(t.output[0]))return IP(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const f=xpe(u,s);return ype(u,s[f],s[f+1],i[f],i[f+1],l,o,a,r.map)}};function ype(t,e,n,r,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function xpe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var Wk=2*Math.PI/4.5,BT={linear:t=>t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*Wk))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*Wk)/2+1},Uy=Symbol.for("FluidValue.get"),Dm=Symbol.for("FluidValue.observers"),Ll=t=>!!(t&&t[Uy]),ia=t=>t&&t[Uy]?t[Uy]():t,Xk=t=>t[Dm]||null;function _pe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function vS(t,e){const n=t[Dm];n&&n.forEach(r=>{_pe(r,e)})}var Spe=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");Ape(this,t)}},Ape=(t,e)=>sV(t,Uy,e);function C0(t,e){if(t[Uy]){let n=t[Dm];n||sV(t,Dm,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function yS(t,e){const n=t[Dm];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Dm]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var sV=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),i1=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,wpe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,qk=new RegExp(`(${i1.source})(%|[a-z]+)`,"i"),bpe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,VA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,oV=t=>{const[e,n]=Mpe(t);if(!e||PP())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&VA.test(n))return oV(n);if(n)return n}return t},Mpe=t=>{const e=VA.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},ZE,Epe=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,aV=t=>{ZE||(ZE=uf?new RegExp(`(${Object.keys(uf).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>ia(s).replace(VA,oV).replace(wpe,jk).replace(ZE,jk)),n=e.map(s=>s.match(i1).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>ky({...t,output:s}));return s=>{var l;const o=!qk.test(e[0])&&((l=e.find(u=>qk.test(u)))==null?void 0:l.replace(i1,""));let a=0;return e[0].replace(i1,()=>`${i[a++](s)}${o||""}`).replace(bpe,Epe)}},DP="react-spring: ",lV=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${DP}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},Cpe=lV(console.warn);function Tpe(){Cpe(`${DP}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Rpe=lV(console.warn);function Ppe(){Rpe(`${DP}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function jA(t){return Ct.str(t)&&(t[0]=="#"||/\d/.test(t)||!PP()&&VA.test(t)||t in(uf||{}))}var LP=PP()?G.useEffect:G.useLayoutEffect,Ipe=()=>{const t=G.useRef(!1);return LP(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function uV(){const t=G.useState()[1],e=Ipe();return()=>{e.current&&t(Math.random())}}function Bpe(t,e){const[n]=G.useState(()=>({inputs:e,result:t()})),r=G.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&Dpe(e,s.inputs)||(s={inputs:e,result:t()}):s=n,G.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function Dpe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var cV=t=>G.useEffect(t,Lpe),Lpe=[];function Kk(t){const e=G.useRef();return G.useEffect(()=>{e.current=t}),e.current}var Ny=Symbol.for("Animated:node"),Fpe=t=>!!t&&t[Ny]===t,Il=t=>t&&t[Ny],FP=(t,e)=>ipe(t,Ny,e),WA=t=>t&&t[Ny]&&t[Ny].getPayload(),fV=class{constructor(){FP(this,this)}getPayload(){return this.payload||[]}},T0=class extends fV{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,Ct.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new T0(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Ct.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Ct.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},zy=class extends T0{constructor(t){super(0),this._string=null,this._toString=ky({output:[t,t]})}static create(t){return new zy(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(Ct.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=ky({output:[this.getValue(),t]})),this._value=0,super.reset()}},xS={dependencies:null},OP=class extends fV{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return ic(this.source,(n,r)=>{Fpe(n)?e[r]=n.getValue(t):Ll(n)?e[r]=ia(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&nr(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return ic(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){xS.dependencies&&Ll(t)&&xS.dependencies.add(t);const e=WA(t);e&&nr(e,n=>this.add(n))}},dV=class extends OP{constructor(t){super(t)}static create(t){return new dV(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(Ope)),!0)}};function Ope(t){return(jA(t)?zy:T0).create(t)}function DT(t){const e=Il(t);return e?e.constructor:Ct.arr(t)?dV:jA(t)?zy:T0}var Jk=(t,e)=>{const n=!Ct.fun(t)||t.prototype&&t.prototype.isReactComponent;return G.forwardRef((r,i)=>{const s=G.useRef(null),o=n&&G.useCallback(y=>{s.current=Npe(i,y)},[i]),[a,l]=Upe(r,e),u=uV(),f=()=>{const y=s.current;if(n&&!y)return;(y?e.applyAnimatedValues(y,a.getValue(!0)):!1)===!1&&u()},d=new kpe(f,l),p=G.useRef();LP(()=>(p.current=d,nr(l,y=>C0(y,d)),()=>{p.current&&(nr(p.current.deps,y=>yS(y,p.current)),An.cancel(p.current.update))})),G.useEffect(f,[]),cV(()=>()=>{const y=p.current;nr(y.deps,S=>yS(S,y))});const g=e.getComponentProps(a.getValue());return G.createElement(t,{...g,ref:o})})},kpe=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&An.write(this.update)}};function Upe(t,e){const n=new Set;return xS.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new OP(t),xS.dependencies=null,[t,n]}function Npe(t,e){return t&&(Ct.fun(t)?t(e):t.current=e),e}var Yk=Symbol.for("AnimatedComponent"),zpe=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new OP(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=$k(o)||"Anonymous";return Ct.str(o)?o=s[o]||(s[o]=Jk(o,i)):o=o[Yk]||(o[Yk]=Jk(o,i)),o.displayName=`Animated(${a})`,o};return ic(t,(o,a)=>{Ct.arr(t)&&(a=$k(o)),s[a]=s(o)}),{animated:s}},$k=t=>Ct.str(t)?t:t&&Ct.str(t.displayName)?t.displayName:Ct.fun(t)&&t.name||null;function Ud(t,...e){return Ct.fun(t)?t(...e):t}var Qv=(t,e)=>t===!0||!!(e&&t&&(Ct.fun(t)?t(e):ua(t).includes(e))),hV=(t,e)=>Ct.obj(t)?e&&t[e]:t,pV=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Gpe=t=>t,kP=(t,e=Gpe)=>{let n=Hpe;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);Ct.und(s)||(r[i]=s)}return r},Hpe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Vpe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function jpe(t){const e={};let n=0;if(ic(t,(r,i)=>{Vpe[i]||(e[i]=r,n++)}),n)return e}function mV(t){const e=jpe(t);if(e){const n={to:e};return ic(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function Gy(t){return t=ia(t),Ct.arr(t)?t.map(Gy):jA(t)?ol.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Wpe(t){for(const e in t)return!0;return!1}function LT(t){return Ct.fun(t)||Ct.arr(t)&&Ct.obj(t[0])}function Xpe(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function qpe(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var Kpe={default:{tension:170,friction:26}},FT={...Kpe.default,mass:1,damping:1,easing:BT.linear,clamp:!1},Jpe=class{constructor(){this.velocity=0,Object.assign(this,FT)}};function Ype(t,e,n){n&&(n={...n},Qk(n,e),e={...n,...e}),Qk(t,e),Object.assign(t,e);for(const o in FT)t[o]==null&&(t[o]=FT[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return Ct.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function Qk(t,e){if(!Ct.und(e.decay))t.duration=void 0;else{const n=!Ct.und(e.tension)||!Ct.und(e.friction);(n||!Ct.und(e.frequency)||!Ct.und(e.damping)||!Ct.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var Zk=[],$pe=class{constructor(){this.changed=!1,this.values=Zk,this.toValues=null,this.fromValues=Zk,this.config=new Jpe,this.immediate=!1}};function gV(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,u,f=Qv(n.cancel??(r==null?void 0:r.cancel),e);if(f)g();else{Ct.und(n.pause)||(i.paused=Qv(n.pause,e));let y=r==null?void 0:r.pause;y!==!0&&(y=i.paused||Qv(y,e)),l=Ud(n.delay||0,e),y?(i.resumeQueue.add(p),s.pause()):(s.resume(),p())}function d(){i.resumeQueue.add(p),i.timeouts.delete(u),u.cancel(),l=u.time-An.now()}function p(){l>0&&!ol.skipAnimation?(i.delayed=!0,u=An.setTimeout(g,l),i.pauseQueue.add(d),i.timeouts.add(u)):g()}function g(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),t<=(i.cancelId||0)&&(f=!0);try{s.start({...n,callId:t,cancel:f},o)}catch(y){a(y)}}})}var UP=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?fm(t.get()):e.every(n=>n.noop)?vV(t.get()):Ja(t.get(),e.every(n=>n.finished)),vV=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Ja=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),fm=t=>({value:t,cancelled:!0,finished:!1});function yV(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const u=kP(e,(_,x)=>x==="onRest"?void 0:_);let f,d;const p=new Promise((_,x)=>(f=_,d=x)),g=_=>{const x=i<=(n.cancelId||0)&&fm(r)||i!==n.asyncId&&Ja(r,!1);if(x)throw _.result=x,d(_),_},y=(_,x)=>{const b=new eU,w=new tU;return(async()=>{if(ol.skipAnimation)throw Hy(n),w.result=Ja(r,!1),d(w),w;g(b);const M=Ct.obj(_)?{..._}:{...x,to:_};M.parentId=i,ic(u,(I,B)=>{Ct.und(M[B])&&(M[B]=I)});const C=await r.start(M);return g(b),n.paused&&await new Promise(I=>{n.resumeQueue.add(I)}),C})()};let S;if(ol.skipAnimation)return Hy(n),Ja(r,!1);try{let _;Ct.arr(t)?_=(async x=>{for(const b of x)await y(b)})(t):_=Promise.resolve(t(y,r.stop.bind(r))),await Promise.all([_.then(f),p]),S=Ja(r.get(),!0,!1)}catch(_){if(_ instanceof eU)S=_.result;else if(_ instanceof tU)S=_.result;else throw _}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Ct.fun(o)&&An.batchedUpdates(()=>{o(S,r,r.item)}),S})()}function Hy(t,e){Yv(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var eU=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tU=class extends Error{constructor(){super("SkipAnimationSignal")}},OT=t=>t instanceof NP,Qpe=1,NP=class extends Spe{constructor(){super(...arguments),this.id=Qpe++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Il(this);return t&&t.getValue()}to(...t){return ol.to(this,t)}interpolate(...t){return Tpe(),ol.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){vS(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||GA.sort(this),vS(this,{type:"priority",parent:this,priority:t})}},vh=Symbol.for("SpringPhase"),xV=1,_V=2,SV=4,eC=t=>(t[vh]&xV)>0,qc=t=>(t[vh]&_V)>0,fv=t=>(t[vh]&SV)>0,nU=(t,e)=>e?t[vh]|=_V|xV:t[vh]&=-3,rU=(t,e)=>e?t[vh]|=SV:t[vh]&=-5,Zpe=class extends NP{constructor(t,e){if(super(),this.animation=new $pe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ct.und(t)||!Ct.und(e)){const n=Ct.obj(t)?{...t}:{...e,from:t};Ct.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(qc(this)||this._state.asyncTo)||fv(this)}get goal(){return ia(this.animation.to)}get velocity(){const t=Il(this);return t instanceof T0?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return eC(this)}get isAnimating(){return qc(this)}get isPaused(){return fv(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=WA(r.to);!o&&Ll(r.to)&&(i=ua(ia(r.to))),r.values.forEach((u,f)=>{if(u.done)return;const d=u.constructor==zy?1:o?o[f].lastPosition:i[f];let p=r.immediate,g=d;if(!p){if(g=u.lastPosition,s.tension<=0){u.done=!0;return}let y=u.elapsedTime+=t;const S=r.fromValues[f],_=u.v0!=null?u.v0:u.v0=Ct.arr(s.velocity)?s.velocity[f]:s.velocity;let x;const b=s.precision||(S==d?.005:Math.min(1,Math.abs(d-S)*.001));if(Ct.und(s.duration))if(s.decay){const w=s.decay===!0?.998:s.decay,M=Math.exp(-(1-w)*y);g=S+_/(1-w)*(1-M),p=Math.abs(u.lastPosition-g)<=b,x=_*M}else{x=u.lastVelocity==null?_:u.lastVelocity;const w=s.restVelocity||b/10,M=s.clamp?0:s.bounce,C=!Ct.und(M),I=S==d?u.v0>0:S<d;let B,P=!1;const L=1,E=Math.ceil(t/L);for(let O=0;O<E&&(B=Math.abs(x)>w,!(!B&&(p=Math.abs(d-g)<=b,p)));++O){C&&(P=g==d||g>d==I,P&&(x=-x*M,g=d));const U=-s.tension*1e-6*(g-d),H=-s.friction*.001*x,q=(U+H)/s.mass;x=x+q*L,g=g+x*L}}else{let w=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,y=u.elapsedTime+=t)),w=(s.progress||0)+y/this._memoizedDuration,w=w>1?1:w<0?0:w,u.durationProgress=w),g=S+s.easing(w)*(d-S),x=(g-u.lastPosition)/t,p=w==1}u.lastVelocity=x,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),p=!0)}o&&!o[f].done&&(p=!1),p?u.done=!0:e=!1,u.setValue(g,s.round)&&(n=!0)});const a=Il(this),l=a.getValue();if(e){const u=ia(r.to);(l!==u||n)&&!s.decay?(a.setValue(u),this._onChange(u)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return An.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(qc(this)){const{to:t,config:e}=this.animation;An.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return Ct.und(t)?(n=this.queue||[],this.queue=[]):n=[Ct.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>UP(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Hy(this._state,t&&this._lastCallId),An.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=Ct.obj(n)?n[e]:n,(n==null||LT(n))&&(n=void 0),r=Ct.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return eC(this)||(t.reverse&&([n,r]=[r,n]),r=ia(r),Ct.und(r)?Il(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,kP(t,(o,a)=>/^on/.test(a)?hV(o,n):o)),sU(this,t,"onProps"),hv(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return gV(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{fv(this)||(rU(this,!0),Rv(s.pauseQueue),hv(this,"onPause",Ja(this,dv(this,this.animation.to)),this))},resume:()=>{fv(this)&&(rU(this,!1),qc(this)&&this._resume(),Rv(s.resumeQueue),hv(this,"onResume",Ja(this,dv(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=AV(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(fm(this));const r=!Ct.und(t.to),i=!Ct.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(fm(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:f=l,from:d=u}=t;i&&!r&&(!e.default||Ct.und(f))&&(f=d),e.reverse&&([f,d]=[d,f]);const p=!Fu(d,u);p&&(a.from=d),d=ia(d);const g=!Fu(f,l);g&&this._focus(f);const y=LT(e.to),{config:S}=a,{decay:_,velocity:x}=S;(r||i)&&(S.velocity=0),e.config&&!y&&Ype(S,Ud(e.config,s),e.config!==o.config?Ud(o.config,s):void 0);let b=Il(this);if(!b||Ct.und(f))return n(Ja(this,!0));const w=Ct.und(e.reset)?i&&!e.default:!Ct.und(d)&&Qv(e.reset,s),M=w?d:this.get(),C=Gy(f),I=Ct.num(C)||Ct.arr(C)||jA(C),B=!y&&(!I||Qv(o.immediate||e.immediate,s));if(g){const O=DT(f);if(O!==b.constructor)if(B)b=this._set(C);else throw Error(`Cannot animate between ${b.constructor.name} and ${O.name}, as the "to" prop suggests`)}const P=b.constructor;let L=Ll(f),E=!1;if(!L){const O=w||!eC(this)&&p;(g||O)&&(E=Fu(Gy(M),C),L=!E),(!Fu(a.immediate,B)&&!B||!Fu(S.decay,_)||!Fu(S.velocity,x))&&(L=!0)}if(E&&qc(this)&&(a.changed&&!w?L=!0:L||this._stop(l)),!y&&((L||Ll(l))&&(a.values=b.getPayload(),a.toValues=Ll(f)?null:P==zy?[1]:ua(C)),a.immediate!=B&&(a.immediate=B,!B&&!w&&this._set(l)),L)){const{onRest:O}=a;nr(tme,H=>sU(this,e,H));const U=Ja(this,dv(this,l));Rv(this._pendingCalls,U),this._pendingCalls.add(n),a.changed&&An.batchedUpdates(()=>{var H;a.changed=!w,O==null||O(U,this),w?Ud(o.onRest,U):(H=a.onStart)==null||H.call(a,U,this)})}w&&this._set(M),y?n(yV(e.to,e,this._state,this)):L?this._start():qc(this)&&!g?this._pendingCalls.add(n):n(vV(M))}_focus(t){const e=this.animation;t!==e.to&&(Xk(this)&&this._detach(),e.to=t,Xk(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Ll(e)&&(C0(e,this),OT(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Ll(t)&&yS(t,this)}_set(t,e=!0){const n=ia(t);if(!Ct.und(n)){const r=Il(this);if(!r||!Fu(n,r.getValue())){const i=DT(n);!r||r.constructor!=i?FP(this,i.create(n)):r.setValue(n),r&&An.batchedUpdates(()=>{this._onChange(n,e)})}}return Il(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,hv(this,"onStart",Ja(this,dv(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Ud(this.animation.onChange,t,this)),Ud(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Il(this).reset(ia(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),qc(this)||(nU(this,!0),fv(this)||this._resume())}_resume(){ol.skipAnimation?this.finish():GA.start(this)}_stop(t,e){if(qc(this)){nU(this,!1);const n=this.animation;nr(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),vS(this,{type:"idle",parent:this});const r=e?fm(this.get()):Ja(this.get(),dv(this,t??n.to));Rv(this._pendingCalls,r),n.changed&&(n.changed=!1,hv(this,"onRest",r,this))}}};function dv(t,e){const n=Gy(e),r=Gy(t.get());return Fu(r,n)}function AV(t,e=t.loop,n=t.to){const r=Ud(e);if(r){const i=r!==!0&&mV(r),s=(i||t).reverse,o=!i||i.reset;return Vy({...t,loop:e,default:!1,pause:void 0,to:!s||LT(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function Vy(t){const{to:e,from:n}=t=mV(t),r=new Set;return Ct.obj(e)&&iU(e,r),Ct.obj(n)&&iU(n,r),t.keys=r.size?Array.from(r):null,t}function eme(t){const e=Vy(t);return Ct.und(e.default)&&(e.default=kP(e)),e}function iU(t,e){ic(t,(n,r)=>n!=null&&e.add(r))}var tme=["onStart","onRest","onChange","onPause","onResume"];function sU(t,e,n){t.animation[n]=e[n]!==pV(e,n)?hV(e[n],t.key):void 0}function hv(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var nme=["onStart","onChange","onRest"],rme=1,ime=class{constructor(t,e){this.id=rme++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];Ct.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(Vy(t)),this}start(t){let{queue:e}=this;return t?e=ua(t).map(Vy):this.queue=[],this._flush?this._flush(this,e):(CV(this,e),kT(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;nr(ua(e),r=>n[r].stop(!!t))}else Hy(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(Ct.und(t))this.start({pause:!0});else{const e=this.springs;nr(ua(t),n=>e[n].pause())}return this}resume(t){if(Ct.und(t))this.start({pause:!1});else{const e=this.springs;nr(ua(t),n=>e[n].resume())}return this}each(t){ic(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Yv(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&e.size&&Yv(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,Yv(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;An.onFrame(this._onFrame)}};function kT(t,e){return Promise.all(e.map(n=>wV(t,n))).then(n=>UP(t,n))}async function wV(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,u=Ct.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const f=Ct.arr(i)||Ct.fun(i)?i:void 0;f?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):nr(nme,S=>{const _=e[S];if(Ct.fun(_)){const x=t._events[S];e[S]=({finished:b,cancelled:w})=>{const M=x.get(_);M?(b||(M.finished=!1),w&&(M.cancelled=!0)):x.set(_,{value:null,finished:b||!1,cancelled:w||!1})},u&&(u[S]=e[S])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,Rv(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const p=(r||Object.keys(t.springs)).map(S=>t.springs[S].start(e)),g=e.cancel===!0||pV(e,"cancel")===!0;(f||g&&d.asyncId)&&p.push(gV(++t._lastAsyncId,{props:e,state:d,actions:{pause:PT,resume:PT,start(S,_){g?(Hy(d,t._lastAsyncId),_(fm(t))):(S.onRest=a,_(yV(f,S,d,t)))}}})),d.paused&&await new Promise(S=>{d.resumeQueue.add(S)});const y=UP(t,await Promise.all(p));if(o&&y.finished&&!(n&&y.noop)){const S=AV(e,o,i);if(S)return CV(t,[S]),wV(t,S,!0)}return l&&An.batchedUpdates(()=>l(y,t,t.item)),y}function oU(t,e){const n={...t.springs};return e&&nr(ua(e),r=>{Ct.und(r.keys)&&(r=Vy(r)),Ct.obj(r.to)||(r={...r,to:void 0}),EV(n,r,i=>MV(i))}),bV(t,n),n}function bV(t,e){ic(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,C0(n,t))})}function MV(t,e){const n=new Zpe;return n.key=t,e&&C0(n,e),n}function EV(t,e,n){e.keys&&nr(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function CV(t,e){nr(e,n=>{EV(t.springs,n,r=>MV(r,t))})}var XA=({children:t,...e})=>{const n=G.useContext(_S),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=Bpe(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=_S;return G.createElement(s,{value:e},t)},_S=sme(XA,{});XA.Provider=_S.Provider;XA.Consumer=_S.Consumer;function sme(t,e){return Object.assign(t,G.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var ome=()=>{const t=[],e=function(r){Ppe();const i=[];return nr(t,(s,o)=>{if(Ct.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return nr(t,r=>r.pause(...arguments)),this},e.resume=function(){return nr(t,r=>r.resume(...arguments)),this},e.set=function(r){nr(t,(i,s)=>{const o=Ct.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return nr(t,(s,o)=>{if(Ct.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return nr(t,r=>r.stop(...arguments)),this},e.update=function(r){return nr(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return Ct.fun(r)?r(s,i):r};return e._getProps=n,e};function ame(t,e,n){const r=Ct.fun(e)&&e;r&&!n&&(n=[]);const i=G.useMemo(()=>r||arguments.length==3?ome():void 0,[]),s=G.useRef(0),o=uV(),a=G.useMemo(()=>({ctrls:[],queue:[],flush(x,b){const w=oU(x,b);return s.current>0&&!a.queue.length&&!Object.keys(w).some(C=>!x.springs[C])?kT(x,b):new Promise(C=>{bV(x,w),a.queue.push(()=>{C(kT(x,b))}),o()})}}),[]),l=G.useRef([...a.ctrls]),u=[],f=Kk(t)||0;G.useMemo(()=>{nr(l.current.slice(t,f),x=>{Xpe(x,i),x.stop(!0)}),l.current.length=t,d(f,t)},[t]),G.useMemo(()=>{d(0,Math.min(f,t))},n);function d(x,b){for(let w=x;w<b;w++){const M=l.current[w]||(l.current[w]=new ime(null,a.flush)),C=r?r(w,M):e[w];C&&(u[w]=eme(C))}}const p=l.current.map((x,b)=>oU(x,u[b])),g=G.useContext(XA),y=Kk(g),S=g!==y&&Wpe(g);LP(()=>{s.current++,a.ctrls=l.current;const{queue:x}=a;x.length&&(a.queue=[],nr(x,b=>b())),nr(l.current,(b,w)=>{i==null||i.add(b),S&&b.start({default:g});const M=u[w];M&&(qpe(b,M.ref),b.ref?b.queue.push(M):b.start(M))})}),cV(()=>()=>{nr(a.ctrls,x=>x.stop(!0))});const _=p.map(x=>({...x}));return i?[_,i]:_}function lme(t,e){const n=Ct.fun(t),[[r],i]=ame(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}var ume=class extends NP{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=ky(...e);const n=this._get(),r=DT(n);FP(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Fu(e,n)||(Il(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&aU(this._active)&&tC(this)}_get(){const t=Ct.arr(this.source)?this.source.map(ia):ua(ia(this.source));return this.calc(...t)}_start(){this.idle&&!aU(this._active)&&(this.idle=!1,nr(WA(this),t=>{t.done=!1}),ol.skipAnimation?(An.batchedUpdates(()=>this.advance()),tC(this)):GA.start(this))}_attach(){let t=1;nr(ua(this.source),e=>{Ll(e)&&C0(e,this),OT(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){nr(ua(this.source),t=>{Ll(t)&&yS(t,this)}),this._active.clear(),tC(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=ua(this.source).reduce((e,n)=>Math.max(e,(OT(n)?n.priority:0)+1),0))}};function cme(t){return t.idle!==!1}function aU(t){return!t.size||Array.from(t).every(cme)}function tC(t){t.idle||(t.idle=!0,nr(WA(t),e=>{e.done=!0}),vS(t,{type:"idle",parent:t}))}ol.assign({createStringInterpolator:aV,to:(t,e)=>new ume(t,e)});var fme=["primitive"].concat(Object.keys(EH).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));ol.assign({createStringInterpolator:aV,colors:lpe,frameLoop:"demand"});Dhe(()=>{An.advance()});var dme=zpe(fme,{applyAnimatedValues:Fd}),hme=dme.animated;const pme=parseInt(c0.replace(/\D+/g,""));function lU(t,e){if(e===dG)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===cS||e===z2){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===cS)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var mme=Object.defineProperty,gme=(t,e,n)=>e in t?mme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vme=(t,e,n)=>(gme(t,e+"",n),n);class yme{constructor(){vme(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var xme=Object.defineProperty,_me=(t,e,n)=>e in t?xme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sn=(t,e,n)=>(_me(t,typeof e!="symbol"?e+"":e,n),n);const O_=new Sh,uU=new Uu,Sme=Math.cos(70*(Math.PI/180)),cU=(t,e)=>(t%e+e)%e;let Ame=class extends yme{constructor(e,n){super(),sn(this,"object"),sn(this,"domElement"),sn(this,"enabled",!0),sn(this,"target",new le),sn(this,"minDistance",0),sn(this,"maxDistance",1/0),sn(this,"minZoom",0),sn(this,"maxZoom",1/0),sn(this,"minPolarAngle",0),sn(this,"maxPolarAngle",Math.PI),sn(this,"minAzimuthAngle",-1/0),sn(this,"maxAzimuthAngle",1/0),sn(this,"enableDamping",!1),sn(this,"dampingFactor",.05),sn(this,"enableZoom",!0),sn(this,"zoomSpeed",1),sn(this,"enableRotate",!0),sn(this,"rotateSpeed",1),sn(this,"enablePan",!0),sn(this,"panSpeed",1),sn(this,"screenSpacePanning",!0),sn(this,"keyPanSpeed",7),sn(this,"zoomToCursor",!1),sn(this,"autoRotate",!1),sn(this,"autoRotateSpeed",2),sn(this,"reverseOrbit",!1),sn(this,"reverseHorizontalOrbit",!1),sn(this,"reverseVerticalOrbit",!1),sn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),sn(this,"mouseButtons",{LEFT:Pd.ROTATE,MIDDLE:Pd.DOLLY,RIGHT:Pd.PAN}),sn(this,"touches",{ONE:Id.ROTATE,TWO:Id.DOLLY_PAN}),sn(this,"target0"),sn(this,"position0"),sn(this,"zoom0"),sn(this,"_domElementKeyEvents",null),sn(this,"getPolarAngle"),sn(this,"getAzimuthalAngle"),sn(this,"setPolarAngle"),sn(this,"setAzimuthalAngle"),sn(this,"getDistance"),sn(this,"getZoomScale"),sn(this,"listenToKeyEvents"),sn(this,"stopListenToKeyEvents"),sn(this,"saveState"),sn(this,"reset"),sn(this,"update"),sn(this,"connect"),sn(this,"dispose"),sn(this,"dollyIn"),sn(this,"dollyOut"),sn(this,"getScale"),sn(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=pe=>{let ze=cU(pe,2*Math.PI),vt=f.phi;vt<0&&(vt+=2*Math.PI),ze<0&&(ze+=2*Math.PI);let de=Math.abs(ze-vt);2*Math.PI-de<de&&(ze<vt?ze+=2*Math.PI:vt+=2*Math.PI),d.phi=ze-vt,r.update()},this.setAzimuthalAngle=pe=>{let ze=cU(pe,2*Math.PI),vt=f.theta;vt<0&&(vt+=2*Math.PI),ze<0&&(ze+=2*Math.PI);let de=Math.abs(ze-vt);2*Math.PI-de<de&&(ze<vt?ze+=2*Math.PI:vt+=2*Math.PI),d.theta=ze-vt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=pe=>{pe.addEventListener("keydown",Ne),this._domElementKeyEvents=pe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ne),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const pe=new le,ze=new le(0,1,0),vt=new Xi().setFromUnitVectors(e.up,ze),de=vt.clone().invert(),je=new le,Ie=new Xi,Ye=2*Math.PI;return function(){const st=r.object.position;vt.setFromUnitVectors(e.up,ze),de.copy(vt).invert(),pe.copy(st).sub(r.target),pe.applyQuaternion(vt),f.setFromVector3(pe),r.autoRotate&&l===a.NONE&&q(U()),r.enableDamping?(f.theta+=d.theta*r.dampingFactor,f.phi+=d.phi*r.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);let Mt=r.minAzimuthAngle,Vt=r.maxAzimuthAngle;isFinite(Mt)&&isFinite(Vt)&&(Mt<-Math.PI?Mt+=Ye:Mt>Math.PI&&(Mt-=Ye),Vt<-Math.PI?Vt+=Ye:Vt>Math.PI&&(Vt-=Ye),Mt<=Vt?f.theta=Math.max(Mt,Math.min(Vt,f.theta)):f.theta=f.theta>(Mt+Vt)/2?Math.max(Mt,f.theta):Math.min(Vt,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),r.zoomToCursor&&L||r.object.isOrthographicCamera?f.radius=ae(f.radius):f.radius=ae(f.radius*p),pe.setFromSpherical(f),pe.applyQuaternion(de),st.copy(r.target).add(pe),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),g.set(0,0,0));let ce=!1;if(r.zoomToCursor&&L){let ge=null;if(r.object instanceof Qr&&r.object.isPerspectiveCamera){const Pe=pe.length();ge=ae(Pe*p);const Qe=Pe-ge;r.object.position.addScaledVector(B,Qe),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Pe=new le(P.x,P.y,0);Pe.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),ce=!0;const Qe=new le(P.x,P.y,0);Qe.unproject(r.object),r.object.position.sub(Qe).add(Pe),r.object.updateMatrixWorld(),ge=pe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;ge!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(ge).add(r.object.position):(O_.origin.copy(r.object.position),O_.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(O_.direction))<Sme?e.lookAt(r.target):(uU.setFromNormalAndCoplanarPoint(r.object.up,r.target),O_.intersectPlane(uU,r.target))))}else r.object instanceof Ku&&r.object.isOrthographicCamera&&(ce=p!==1,ce&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,L=!1,ce||je.distanceToSquared(r.object.position)>u||8*(1-Ie.dot(r.object.quaternion))>u?(r.dispatchEvent(i),je.copy(r.object.position),Ie.copy(r.object.quaternion),ce=!1,!0):!1}})(),this.connect=pe=>{r.domElement=pe,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Xe),r.domElement.addEventListener("pointerdown",X),r.domElement.addEventListener("pointercancel",Se),r.domElement.addEventListener("wheel",qe)},this.dispose=()=>{var pe,ze,vt,de,je,Ie;r.domElement&&(r.domElement.style.touchAction="auto"),(pe=r.domElement)==null||pe.removeEventListener("contextmenu",Xe),(ze=r.domElement)==null||ze.removeEventListener("pointerdown",X),(vt=r.domElement)==null||vt.removeEventListener("pointercancel",Se),(de=r.domElement)==null||de.removeEventListener("wheel",qe),(je=r.domElement)==null||je.ownerDocument.removeEventListener("pointermove",he),(Ie=r.domElement)==null||Ie.ownerDocument.removeEventListener("pointerup",Se),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ne)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,f=new wT,d=new wT;let p=1;const g=new le,y=new it,S=new it,_=new it,x=new it,b=new it,w=new it,M=new it,C=new it,I=new it,B=new le,P=new it;let L=!1;const E=[],O={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function q(pe){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=pe:d.theta-=pe}function te(pe){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=pe:d.phi-=pe}const $=(()=>{const pe=new le;return function(vt,de){pe.setFromMatrixColumn(de,0),pe.multiplyScalar(-vt),g.add(pe)}})(),ie=(()=>{const pe=new le;return function(vt,de){r.screenSpacePanning===!0?pe.setFromMatrixColumn(de,1):(pe.setFromMatrixColumn(de,0),pe.crossVectors(r.object.up,pe)),pe.multiplyScalar(vt),g.add(pe)}})(),W=(()=>{const pe=new le;return function(vt,de){const je=r.domElement;if(je&&r.object instanceof Qr&&r.object.isPerspectiveCamera){const Ie=r.object.position;pe.copy(Ie).sub(r.target);let Ye=pe.length();Ye*=Math.tan(r.object.fov/2*Math.PI/180),$(2*vt*Ye/je.clientHeight,r.object.matrix),ie(2*de*Ye/je.clientHeight,r.object.matrix)}else je&&r.object instanceof Ku&&r.object.isOrthographicCamera?($(vt*(r.object.right-r.object.left)/r.object.zoom/je.clientWidth,r.object.matrix),ie(de*(r.object.top-r.object.bottom)/r.object.zoom/je.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Y(pe){r.object instanceof Qr&&r.object.isPerspectiveCamera||r.object instanceof Ku&&r.object.isOrthographicCamera?p=pe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Q(pe){Y(p/pe)}function z(pe){Y(p*pe)}function K(pe){if(!r.zoomToCursor||!r.domElement)return;L=!0;const ze=r.domElement.getBoundingClientRect(),vt=pe.clientX-ze.left,de=pe.clientY-ze.top,je=ze.width,Ie=ze.height;P.x=vt/je*2-1,P.y=-(de/Ie)*2+1,B.set(P.x,P.y,1).unproject(r.object).sub(r.object.position).normalize()}function ae(pe){return Math.max(r.minDistance,Math.min(r.maxDistance,pe))}function Z(pe){y.set(pe.clientX,pe.clientY)}function se(pe){K(pe),M.set(pe.clientX,pe.clientY)}function oe(pe){x.set(pe.clientX,pe.clientY)}function ue(pe){S.set(pe.clientX,pe.clientY),_.subVectors(S,y).multiplyScalar(r.rotateSpeed);const ze=r.domElement;ze&&(q(2*Math.PI*_.x/ze.clientHeight),te(2*Math.PI*_.y/ze.clientHeight)),y.copy(S),r.update()}function ve(pe){C.set(pe.clientX,pe.clientY),I.subVectors(C,M),I.y>0?Q(H()):I.y<0&&z(H()),M.copy(C),r.update()}function Be(pe){b.set(pe.clientX,pe.clientY),w.subVectors(b,x).multiplyScalar(r.panSpeed),W(w.x,w.y),x.copy(b),r.update()}function Le(pe){K(pe),pe.deltaY<0?z(H()):pe.deltaY>0&&Q(H()),r.update()}function Ve(pe){let ze=!1;switch(pe.code){case r.keys.UP:W(0,r.keyPanSpeed),ze=!0;break;case r.keys.BOTTOM:W(0,-r.keyPanSpeed),ze=!0;break;case r.keys.LEFT:W(r.keyPanSpeed,0),ze=!0;break;case r.keys.RIGHT:W(-r.keyPanSpeed,0),ze=!0;break}ze&&(pe.preventDefault(),r.update())}function xe(){if(E.length==1)y.set(E[0].pageX,E[0].pageY);else{const pe=.5*(E[0].pageX+E[1].pageX),ze=.5*(E[0].pageY+E[1].pageY);y.set(pe,ze)}}function Te(){if(E.length==1)x.set(E[0].pageX,E[0].pageY);else{const pe=.5*(E[0].pageX+E[1].pageX),ze=.5*(E[0].pageY+E[1].pageY);x.set(pe,ze)}}function re(){const pe=E[0].pageX-E[1].pageX,ze=E[0].pageY-E[1].pageY,vt=Math.sqrt(pe*pe+ze*ze);M.set(0,vt)}function nt(){r.enableZoom&&re(),r.enablePan&&Te()}function ke(){r.enableZoom&&re(),r.enableRotate&&xe()}function Ze(pe){if(E.length==1)S.set(pe.pageX,pe.pageY);else{const vt=$e(pe),de=.5*(pe.pageX+vt.x),je=.5*(pe.pageY+vt.y);S.set(de,je)}_.subVectors(S,y).multiplyScalar(r.rotateSpeed);const ze=r.domElement;ze&&(q(2*Math.PI*_.x/ze.clientHeight),te(2*Math.PI*_.y/ze.clientHeight)),y.copy(S)}function Ae(pe){if(E.length==1)b.set(pe.pageX,pe.pageY);else{const ze=$e(pe),vt=.5*(pe.pageX+ze.x),de=.5*(pe.pageY+ze.y);b.set(vt,de)}w.subVectors(b,x).multiplyScalar(r.panSpeed),W(w.x,w.y),x.copy(b)}function tt(pe){const ze=$e(pe),vt=pe.pageX-ze.x,de=pe.pageY-ze.y,je=Math.sqrt(vt*vt+de*de);C.set(0,je),I.set(0,Math.pow(C.y/M.y,r.zoomSpeed)),Q(I.y),M.copy(C)}function Fe(pe){r.enableZoom&&tt(pe),r.enablePan&&Ae(pe)}function J(pe){r.enableZoom&&tt(pe),r.enableRotate&&Ze(pe)}function X(pe){var ze,vt;r.enabled!==!1&&(E.length===0&&((ze=r.domElement)==null||ze.ownerDocument.addEventListener("pointermove",he),(vt=r.domElement)==null||vt.ownerDocument.addEventListener("pointerup",Se)),ot(pe),pe.pointerType==="touch"?Ke(pe):Me(pe))}function he(pe){r.enabled!==!1&&(pe.pointerType==="touch"?ft(pe):De(pe))}function Se(pe){var ze,vt,de;at(pe),E.length===0&&((ze=r.domElement)==null||ze.releasePointerCapture(pe.pointerId),(vt=r.domElement)==null||vt.ownerDocument.removeEventListener("pointermove",he),(de=r.domElement)==null||de.ownerDocument.removeEventListener("pointerup",Se)),r.dispatchEvent(o),l=a.NONE}function Me(pe){let ze;switch(pe.button){case 0:ze=r.mouseButtons.LEFT;break;case 1:ze=r.mouseButtons.MIDDLE;break;case 2:ze=r.mouseButtons.RIGHT;break;default:ze=-1}switch(ze){case Pd.DOLLY:if(r.enableZoom===!1)return;se(pe),l=a.DOLLY;break;case Pd.ROTATE:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(r.enablePan===!1)return;oe(pe),l=a.PAN}else{if(r.enableRotate===!1)return;Z(pe),l=a.ROTATE}break;case Pd.PAN:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(r.enableRotate===!1)return;Z(pe),l=a.ROTATE}else{if(r.enablePan===!1)return;oe(pe),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function De(pe){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;ue(pe);break;case a.DOLLY:if(r.enableZoom===!1)return;ve(pe);break;case a.PAN:if(r.enablePan===!1)return;Be(pe);break}}function qe(pe){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(pe.preventDefault(),r.dispatchEvent(s),Le(pe),r.dispatchEvent(o))}function Ne(pe){r.enabled===!1||r.enablePan===!1||Ve(pe)}function Ke(pe){switch(mt(pe),E.length){case 1:switch(r.touches.ONE){case Id.ROTATE:if(r.enableRotate===!1)return;xe(),l=a.TOUCH_ROTATE;break;case Id.PAN:if(r.enablePan===!1)return;Te(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Id.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;nt(),l=a.TOUCH_DOLLY_PAN;break;case Id.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ke(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ft(pe){switch(mt(pe),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ze(pe),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ae(pe),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(pe),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;J(pe),r.update();break;default:l=a.NONE}}function Xe(pe){r.enabled!==!1&&pe.preventDefault()}function ot(pe){E.push(pe)}function at(pe){delete O[pe.pointerId];for(let ze=0;ze<E.length;ze++)if(E[ze].pointerId==pe.pointerId){E.splice(ze,1);return}}function mt(pe){let ze=O[pe.pointerId];ze===void 0&&(ze=new it,O[pe.pointerId]=ze),ze.set(pe.pageX,pe.pageY)}function $e(pe){const ze=pe.pointerId===E[0].pointerId?E[1]:E[0];return O[ze.pointerId]}this.dollyIn=(pe=H())=>{z(pe),r.update()},this.dollyOut=(pe=H())=>{Q(pe),r.update()},this.getScale=()=>p,this.setScale=pe=>{Y(pe),r.update()},this.getZoomScale=()=>H(),n!==void 0&&this.connect(n),this.update()}};function SS(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const qd="srgb",Ju="srgb-linear",fU=3001,wme=3e3;class zP extends Es{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Tme(n)}),this.register(function(n){return new Rme(n)}),this.register(function(n){return new Ume(n)}),this.register(function(n){return new Nme(n)}),this.register(function(n){return new zme(n)}),this.register(function(n){return new Ime(n)}),this.register(function(n){return new Bme(n)}),this.register(function(n){return new Dme(n)}),this.register(function(n){return new Lme(n)}),this.register(function(n){return new Cme(n)}),this.register(function(n){return new Fme(n)}),this.register(function(n){return new Pme(n)}),this.register(function(n){return new kme(n)}),this.register(function(n){return new Ome(n)}),this.register(function(n){return new Mme(n)}),this.register(function(n){return new Gme(n)}),this.register(function(n){return new Hme(n)})}load(e,n,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=lf.extractUrlBase(e);o=lf.resolveURL(u,this.path)}else o=lf.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new No(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(f){n(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(SS(new Uint8Array(e.slice(0,4)))===TV){try{o[Bn.KHR_BINARY_GLTF]=new Vme(e)}catch(f){i&&i(f);return}s=JSON.parse(o[Bn.KHR_BINARY_GLTF].content)}else s=JSON.parse(SS(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new nge(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](l);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[f.name]=f,o[f.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const f=s.extensionsUsed[u],d=s.extensionsRequired||[];switch(f){case Bn.KHR_MATERIALS_UNLIT:o[f]=new Eme;break;case Bn.KHR_DRACO_MESH_COMPRESSION:o[f]=new jme(s,this.dracoLoader);break;case Bn.KHR_TEXTURE_TRANSFORM:o[f]=new Wme;break;case Bn.KHR_MESH_QUANTIZATION:o[f]=new Xme;break;default:d.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function bme(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Bn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Mme{constructor(e){this.parser=e,this.name=Bn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const f=new Tt(16777215);l.color!==void 0&&f.setRGB(l.color[0],l.color[1],l.color[2],Ju);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new hP(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new dP(f),u.distance=d;break;case"spot":u=new fP(f),u.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Ou(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class Eme{constructor(){this.name=Bn.KHR_MATERIALS_UNLIT}getMaterialType(){return co}extendParams(e,n,r){const i=[];e.color=new Tt(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Ju),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,qd))}return Promise.all(i)}}class Cme{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class Tme{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new it(a,a)}return Promise.all(s)}}class Rme{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Pme{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Ime{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Tt(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],Ju)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,qd)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Bme{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Dme{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Tt().setRGB(a[0],a[1],a[2],Ju),Promise.all(s)}}class Lme{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Fme{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Tt().setRGB(a[0],a[1],a[2],Ju),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,qd)),Promise.all(s)}}class Ome{constructor(e){this.parser=e,this.name=Bn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(s)}}class kme{constructor(e){this.parser=e,this.name=Bn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Ume{constructor(e){this.parser=e,this.name=Bn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class Nme{constructor(e){this.parser=e,this.name=Bn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class zme{constructor(e){this.parser=e,this.name=Bn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Gme{constructor(e){this.name=Bn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,f=i.count,d=i.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,d,p,i.mode,i.filter).then(function(g){return g.buffer}):o.ready.then(function(){const g=new ArrayBuffer(f*d);return o.decodeGltfBuffer(new Uint8Array(g),f,d,p,i.mode,i.filter),g})})}else return null}}class Hme{constructor(e){this.name=Bn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==ta.TRIANGLES&&u.mode!==ta.TRIANGLE_STRIP&&u.mode!==ta.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(f=>(l[u]=f,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const f=u.pop(),d=f.isGroup?f.children:[f],p=u[0].count,g=[];for(const y of d){const S=new tn,_=new le,x=new Xi,b=new le(1,1,1),w=new Y2(y.geometry,y.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,M),l.SCALE&&b.fromBufferAttribute(l.SCALE,M),w.setMatrixAt(M,S.compose(_,x,b));for(const M in l)if(M==="_COLOR_0"){const C=l[M];w.instanceColor=new xf(C.array,C.itemSize,C.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&y.geometry.setAttribute(M,l[M]);zn.prototype.copy.call(w,y),this.parser.assignFinalMaterial(w),g.push(w)}return f.isGroup?(f.clear(),f.add(...g),f):g[0]}))}}const TV="glTF",pv=12,dU={JSON:1313821514,BIN:5130562};class Vme{constructor(e){this.name=Bn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,pv);if(this.header={magic:SS(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==TV)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-pv,i=new DataView(e,pv);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===dU.JSON){const l=new Uint8Array(e,pv+s,o);this.content=SS(l)}else if(a===dU.BIN){const l=pv+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class jme{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Bn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const f in o){const d=UT[f]||f.toLowerCase();a[d]=o[f]}for(const f in e.attributes){const d=UT[f]||f.toLowerCase();if(o[f]!==void 0){const p=r.accessors[e.attributes[f]],g=dm[p.componentType];u[d]=g.name,l[d]=p.normalized===!0}}return n.getDependency("bufferView",s).then(function(f){return new Promise(function(d,p){i.decodeDracoFile(f,function(g){for(const y in g.attributes){const S=g.attributes[y],_=l[y];_!==void 0&&(S.normalized=_)}d(g)},a,u,Ju,p)})})}}class Wme{constructor(){this.name=Bn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class Xme{constructor(){this.name=Bn.KHR_MESH_QUANTIZATION}}class RV extends jm{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,f=i-n,d=(r-n)/f,p=d*d,g=p*d,y=e*u,S=y-u,_=-2*g+3*p,x=g-p,b=1-_,w=x-p+d;for(let M=0;M!==a;M++){const C=o[S+M+a],I=o[S+M+l]*f,B=o[y+M+a],P=o[y+M]*f;s[M]=b*C+w*I+_*B+x*P}return s}}const qme=new Xi;class Kme extends RV{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return qme.fromArray(s).normalize().toArray(s),s}}const ta={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},dm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},hU={9728:Wi,9729:zr,9984:aA,9985:lm,9986:Hd,9987:la},pU={33071:Bo,33648:Mm,10497:vf},nC={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},UT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...pme>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Kc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Jme={CUBICSPLINE:void 0,LINEAR:Tm,STEP:Cm},rC={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Yme(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new A0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Kl})),t.DefaultMaterial}function Ad(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Ou(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function $me(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,f=e.length;u<f;u++){const d=e[u];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,f=e.length;u<f;u++){const d=e[u];if(r){const p=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(p)}if(i){const p=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const f=u[0],d=u[1],p=u[2];return r&&(t.morphAttributes.position=f),i&&(t.morphAttributes.normal=d),s&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function Qme(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Zme(t){let e;const n=t.extensions&&t.extensions[Bn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+iC(n.attributes):e=t.indices+":"+iC(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+iC(t.targets[r]);return e}function iC(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function NT(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ege(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const tge=new tn;class nge{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new bme,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new sH(this.options.manager):this.textureLoader=new dH(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new No(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Ad(s,a,i),Ou(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,f]of o.children.entries())s(f,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Bn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(lf.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=nC[i.type],a=dm[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new Kn(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=nC[i.type],u=dm[i.componentType],f=u.BYTES_PER_ELEMENT,d=f*l,p=i.byteOffset||0,g=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let S,_;if(g&&g!==d){const x=Math.floor(p/g),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let w=n.cache.get(b);w||(S=new u(a,x*g,i.count*g/f),w=new g0(S,g/f),n.cache.add(b,w)),_=new yf(w,l,p%g/f,y)}else a===null?S=new u(i.count*l):S=new u(a,p,i.count*l),_=new Kn(S,l,y);if(i.sparse!==void 0){const x=nC.SCALAR,b=dm[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,C=new b(o[1],w,i.sparse.count*x),I=new u(o[2],M,i.sparse.count*l);a!==null&&(_=new Kn(_.array.slice(),_.itemSize,_.normalized));for(let B=0,P=C.length;B<P;B++){const L=C[B];if(_.setX(L,I[B*l]),l>=2&&_.setY(L,I[B*l+1]),l>=3&&_.setZ(L,I[B*l+2]),l>=4&&_.setW(L,I[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(f){f.flipY=!1,f.name=o.name||a.name||"",f.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(f.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=hU[p.magFilter]||zr,f.minFilter=hU[p.minFilter]||la,f.wrapS=pU[p.wrapS]||vf,f.wrapT=pU[p.wrapT]||vf,i.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){u=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(d){return new Promise(function(p,g){let y=p;n.isImageBitmapLoader===!0&&(y=function(S){const _=new Rr(S);_.needsUpdate=!0,p(_)}),n.load(lf.resolveURL(d,s.path),y,void 0,g)})}).then(function(d){return u===!0&&a.revokeObjectURL(l),Ou(d,o),d.userData.mimeType=o.mimeType||ege(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=f,f}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Bn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Bn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Bn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===fU?qd:Ju),"colorSpace"in o?o.colorSpace=i:o.encoding=i===qd?fU:wme),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new _A,Bi.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ms,Bi.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return A0}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Bn.KHR_MATERIALS_UNLIT]){const d=i[Bn.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),u.push(d.extendParams(a,s,n))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Tt(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Ju),a.opacity=p[3]}d.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",d.baseColorTexture,qd)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=oa);const f=s.alphaMode||rC.OPAQUE;if(f===rC.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===rC.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==co&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new it(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&o!==co&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==co){const d=s.emissiveFactor;a.emissive=new Tt().setRGB(d[0],d[1],d[2],Ju)}return s.emissiveTexture!==void 0&&o!==co&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,qd)),Promise.all(u).then(function(){const d=new o(a);return s.name&&(d.name=s.name),Ou(d,s),n.associations.set(d,{materials:e}),s.extensions&&Ad(i,d,s),d})}createUniqueName(e){const n=jn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Bn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return mU(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],f=Zme(u),d=i[f];if(d)o.push(d.promise);else{let p;u.extensions&&u.extensions[Bn.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=mU(new Mn,u,n),i[f]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const f=o[l].material===void 0?Yme(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),f=l[l.length-1],d=[];for(let g=0,y=f.length;g<y;g++){const S=f[g],_=o[g];let x;const b=u[g];if(_.mode===ta.TRIANGLES||_.mode===ta.TRIANGLE_STRIP||_.mode===ta.TRIANGLE_FAN||_.mode===void 0)x=s.isSkinnedMesh===!0?new J2(S,b):new Lr(S,b),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),_.mode===ta.TRIANGLE_STRIP?x.geometry=lU(x.geometry,z2):_.mode===ta.TRIANGLE_FAN&&(x.geometry=lU(x.geometry,cS));else if(_.mode===ta.LINES)x=new ul(S,b);else if(_.mode===ta.LINE_STRIP)x=new rc(S,b);else if(_.mode===ta.LINE_LOOP)x=new $2(S,b);else if(_.mode===ta.POINTS)x=new Q2(S,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(x.geometry.morphAttributes).length>0&&Qme(x,s),x.name=n.createUniqueName(s.name||"mesh_"+e),Ou(x,s),_.extensions&&Ad(i,x,_),n.assignFinalMaterial(x),d.push(x)}for(let g=0,y=d.length;g<y;g++)n.associations.set(d[g],{meshes:e,primitives:g});if(d.length===1)return s.extensions&&Ad(i,d[0],s),d[0];const p=new Hu;s.extensions&&Ad(i,p,s),n.associations.set(p,{meshes:e});for(let g=0,y=d.length;g<y;g++)p.add(d[g]);return p})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Qr(AG.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Ku(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Ou(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,f=o.length;u<f;u++){const d=o[u];if(d){a.push(d);const p=new tn;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new v0(a,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],u=[],f=[];for(let d=0,p=i.channels.length;d<p;d++){const g=i.channels[d],y=i.samplers[g.sampler],S=g.target,_=S.node,x=i.parameters!==void 0?i.parameters[y.input]:y.input,b=i.parameters!==void 0?i.parameters[y.output]:y.output;S.node!==void 0&&(o.push(this.getDependency("node",_)),a.push(this.getDependency("accessor",x)),l.push(this.getDependency("accessor",b)),u.push(y),f.push(S))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(f)]).then(function(d){const p=d[0],g=d[1],y=d[2],S=d[3],_=d[4],x=[];for(let b=0,w=p.length;b<w;b++){const M=p[b],C=g[b],I=y[b],B=S[b],P=_[b];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const L=r._createAnimationTracks(M,C,I,B,P);if(L)for(let E=0;E<L.length;E++)x.push(L[E])}return new Im(s,void 0,x)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,f=a.length;u<f;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const f=u[0],d=u[1],p=u[2];p!==null&&f.traverse(function(g){g.isSkinnedMesh&&g.bind(p,tge)});for(let g=0,y=d.length;g<y;g++)f.add(d[g]);return f})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let f;if(s.isBone===!0?f=new xA:u.length>1?f=new Hu:u.length===1?f=u[0]:f=new zn,f!==u[0])for(let d=0,p=u.length;d<p;d++)f.add(u[d]);if(s.name&&(f.userData.name=s.name,f.name=o),Ou(f,s),s.extensions&&Ad(r,f,s),s.matrix!==void 0){const d=new tn;d.fromArray(s.matrix),f.applyMatrix4(d)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return i.associations.has(f)||i.associations.set(f,{}),i.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Hu;r.name&&(s.name=i.createUniqueName(r.name)),Ou(s,r),r.extensions&&Ad(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let f=0,d=l.length;f<d;f++)s.add(l[f]);const u=f=>{const d=new Map;for(const[p,g]of i.associations)(p instanceof Bi||p instanceof Rr)&&d.set(p,g);return f.traverse(p=>{const g=i.associations.get(p);g!=null&&d.set(p,g)}),d};return i.associations=u(s),s})}_createAnimationTracks(e,n,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];Kc[s.path]===Kc.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let u;switch(Kc[s.path]){case Kc.weights:u=ph;break;case Kc.rotation:u=mh;break;case Kc.position:case Kc.scale:u=gh;break;default:switch(r.itemSize){case 1:u=ph;break;case 2:case 3:default:u=gh;break}break}const f=i.interpolation!==void 0?Jme[i.interpolation]:Tm,d=this._getArrayFromAccessor(r);for(let p=0,g=l.length;p<g;p++){const y=new u(l[p]+"."+Kc[s.path],n.array,d,f);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=NT(n.constructor),i=new Float32Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof mh?Kme:RV;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function rge(t,e,n){const r=e.attributes,i=new qi;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new le(l[0],l[1],l[2]),new le(u[0],u[1],u[2])),a.normalized){const f=NT(dm[a.componentType]);i.min.multiplyScalar(f),i.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new le,l=new le;for(let u=0,f=s.length;u<f;u++){const d=s[u];if(d.POSITION!==void 0){const p=n.json.accessors[d.POSITION],g=p.min,y=p.max;if(g!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(g[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(g[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(g[2]),Math.abs(y[2]))),p.normalized){const S=NT(dm[p.componentType]);l.multiplyScalar(S)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Ki;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function mU(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=UT[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Ou(t,e),rge(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?$me(t,e.targets,n):t})}const sC=new WeakMap;class ige extends Es{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new No(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(sC.has(e)){const l=sC.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,f)=>{i._callbacks[s]={resolve:u,reject:f},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),sC.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new Mn;e.index&&n.setIndex(new Kn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new Kn(o,a))}return n}_loadLibrary(e,n){const r=new No(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=sge.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function sge(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(f){t.onModuleLoaded=function(d){f({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(f=>{const d=f.draco,p=new d.Decoder,g=new d.DecoderBuffer;g.Init(new Int8Array(l),l.byteLength);try{const y=n(d,p,g,u),S=y.attributes.map(_=>_.array.buffer);y.index&&S.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},S)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{d.destroy(g),d.destroy(p)}});break}};function n(o,a,l,u){const f=u.attributeIDs,d=u.attributeTypes;let p,g;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,g=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,g=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const S={index:null,attributes:[]};for(const _ in f){const x=self[d[_]];let b,w;if(u.useUniqueIDs)w=f[_],b=a.GetAttributeByUniqueId(p,w);else{if(w=a.GetAttributeId(p,o[f[_]]),w===-1)continue;b=a.GetAttribute(p,w)}S.attributes.push(i(o,a,p,_,x,b))}return y===o.TRIANGULAR_MESH&&(S.index=r(o,a,p)),o.destroy(p),S}function r(o,a,l){const f=l.num_faces()*3,d=f*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const g=new Uint32Array(o.HEAPF32.buffer,p,f).slice();return o._free(p),{array:g,itemSize:1}}function i(o,a,l,u,f,d){const p=d.num_components(),y=l.num_points()*p,S=y*f.BYTES_PER_ELEMENT,_=s(o,f),x=o._malloc(S);a.GetAttributeDataArrayForAllPoints(l,d,_,S,x);const b=new f(o.HEAPF32.buffer,x,y).slice();return o._free(x),{name:u,array:b,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let k_;const oC=()=>{if(k_)return k_;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let y=0;y<d.length;++y){const S=d.charCodeAt(y);p[y]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let g=0;for(let y=0;y<d.length;++y)p[g++]=p[y]<60?r[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,g)}function l(d,p,g,y,S,_){const x=s.exports.sbrk,b=g+3&-4,w=x(b*y),M=x(S.length),C=new Uint8Array(s.exports.memory.buffer);C.set(S,M);const I=d(w,g,y,M,S.length);if(I===0&&_&&_(w,b,y),p.set(C.subarray(w,w+g*y)),x(w-x(0)),I!==0)throw new Error(`Malformed buffer data: ${I}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return k_={ready:o,supported:!0,decodeVertexBuffer(d,p,g,y,S){l(s.exports.meshopt_decodeVertexBuffer,d,p,g,y,s.exports[u[S]])},decodeIndexBuffer(d,p,g,y){l(s.exports.meshopt_decodeIndexBuffer,d,p,g,y)},decodeIndexSequence(d,p,g,y){l(s.exports.meshopt_decodeIndexSequence,d,p,g,y)},decodeGltfBuffer(d,p,g,y,S,_){l(s.exports[f[S]],d,p,g,y,s.exports[u[_]])}},k_};function oge(){var t=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var f=i.getTransferables;if(f===void 0&&(f=null),!t[o])try{l=l.map(function(p){return p&&p.isWorkerModule&&(e(p,function(g){if(g instanceof Error)throw g}),p=t[p.id].value),p}),u=r("<"+a+">.init",u),f&&(f=r("<"+a+">.getTransferables",f));var d=null;typeof u=="function"?d=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:d,getTransferables:f},s(d)}catch(p){p&&p.noLog||console.error(p),s(p)}}function n(i,s){var o,a=i.id,l=i.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var u=(o=t[a]).value.apply(o,l);u&&typeof u.then=="function"?u.then(f,function(d){return s(d instanceof Error?d:new Error(""+d))}):f(u)}catch(d){s(d)}function f(d){try{var p=t[a].getTransferables&&t[a].getTransferables(d);(!p||!Array.isArray(p)||!p.length)&&(p=void 0),s(d,p)}catch(g){console.error(g),s(g)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),a==="callModule"&&n(l,function(u,f){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},f||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function age(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var PV=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return PV=function(){return t},t},lge=0,uge=0,aC=!1,Zv=Object.create(null),ey=Object.create(null),zT=Object.create(null);function Xm(t){if((!t||typeof t.init!="function")&&!aC)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,s=age(t);i==null&&(i="#default");var o="workerModule"+ ++lge,a=t.name||o,l=null;e=e&&e.map(function(f){return typeof f=="function"&&!f.workerModuleData&&(aC=!0,f=Xm({workerId:i,name:"<"+a+"> function dependency: "+f.name,init:`function(){return (
`+s1(f)+`
)}`}),aC=!1),f&&f.workerModuleData&&(f=f.workerModuleData),f});function u(){for(var f=[],d=arguments.length;d--;)f[d]=arguments[d];if(!PV())return s.apply(void 0,f);if(!l){l=gU(i,"registerModule",u.workerModuleData);var p=function(){l=null,ey[i].delete(p)};(ey[i]||(ey[i]=new Set)).add(p)}return l.then(function(g){var y=g.isCallable;if(y)return gU(i,"callModule",{id:o,args:f});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:o,name:a,dependencies:e,init:s1(n),getTransferables:r&&s1(r)},u.onMainThread=s,u}function cge(t){ey[t]&&ey[t].forEach(function(e){e()}),Zv[t]&&(Zv[t].terminate(),delete Zv[t])}function s1(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function fge(t){var e=Zv[t];if(!e){var n=s1(oge);e=Zv[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=zT[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete zT[s],o(i)}}return e}function gU(t,e,n){return new Promise(function(r,i){var s=++uge;zT[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},fge(t).postMessage({messageId:s,action:e,data:n})})}function IV(){var t=function(e){function n(Y,Q,z,K,ae,Z,se,oe){var ue=1-se;oe.x=ue*ue*Y+2*ue*se*z+se*se*ae,oe.y=ue*ue*Q+2*ue*se*K+se*se*Z}function r(Y,Q,z,K,ae,Z,se,oe,ue,ve){var Be=1-ue;ve.x=Be*Be*Be*Y+3*Be*Be*ue*z+3*Be*ue*ue*ae+ue*ue*ue*se,ve.y=Be*Be*Be*Q+3*Be*Be*ue*K+3*Be*ue*ue*Z+ue*ue*ue*oe}function i(Y,Q){for(var z=/([MLQCZ])([^MLQCZ]*)/g,K,ae,Z,se,oe;K=z.exec(Y);){var ue=K[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ve){return parseFloat(ve)});switch(K[1]){case"M":se=ae=ue[0],oe=Z=ue[1];break;case"L":(ue[0]!==se||ue[1]!==oe)&&Q("L",se,oe,se=ue[0],oe=ue[1]);break;case"Q":{Q("Q",se,oe,se=ue[2],oe=ue[3],ue[0],ue[1]);break}case"C":{Q("C",se,oe,se=ue[4],oe=ue[5],ue[0],ue[1],ue[2],ue[3]);break}case"Z":(se!==ae||oe!==Z)&&Q("L",se,oe,ae,Z);break}}}function s(Y,Q,z){z===void 0&&(z=16);var K={x:0,y:0};i(Y,function(ae,Z,se,oe,ue,ve,Be,Le,Ve){switch(ae){case"L":Q(Z,se,oe,ue);break;case"Q":{for(var xe=Z,Te=se,re=1;re<z;re++)n(Z,se,ve,Be,oe,ue,re/(z-1),K),Q(xe,Te,K.x,K.y),xe=K.x,Te=K.y;break}case"C":{for(var nt=Z,ke=se,Ze=1;Ze<z;Ze++)r(Z,se,ve,Be,Le,Ve,oe,ue,Ze/(z-1),K),Q(nt,ke,K.x,K.y),nt=K.x,ke=K.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function f(Y,Q){var z=Y.getContext?Y.getContext("webgl",u):Y,K=l.get(z);if(!K){let nt=function(J){var X=Z[J];if(!X&&(X=Z[J]=z.getExtension(J),!X))throw new Error(J+" not supported");return X},ke=function(J,X){var he=z.createShader(X);return z.shaderSource(he,J),z.compileShader(he),he},Ze=function(J,X,he,Se){if(!se[J]){var Me={},De={},qe=z.createProgram();z.attachShader(qe,ke(X,z.VERTEX_SHADER)),z.attachShader(qe,ke(he,z.FRAGMENT_SHADER)),z.linkProgram(qe),se[J]={program:qe,transaction:function(Ke){z.useProgram(qe),Ke({setUniform:function(Xe,ot){for(var at=[],mt=arguments.length-2;mt-- >0;)at[mt]=arguments[mt+2];var $e=De[ot]||(De[ot]=z.getUniformLocation(qe,ot));z["uniform"+Xe].apply(z,[$e].concat(at))},setAttribute:function(Xe,ot,at,mt,$e){var pe=Me[Xe];pe||(pe=Me[Xe]={buf:z.createBuffer(),loc:z.getAttribLocation(qe,Xe),data:null}),z.bindBuffer(z.ARRAY_BUFFER,pe.buf),z.vertexAttribPointer(pe.loc,ot,z.FLOAT,!1,0,0),z.enableVertexAttribArray(pe.loc),ae?z.vertexAttribDivisor(pe.loc,mt):nt("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(pe.loc,mt),$e!==pe.data&&(z.bufferData(z.ARRAY_BUFFER,$e,at),pe.data=$e)}})}}}se[J].transaction(Se)},Ae=function(J,X){ue++;try{z.activeTexture(z.TEXTURE0+ue);var he=oe[J];he||(he=oe[J]=z.createTexture(),z.bindTexture(z.TEXTURE_2D,he),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,z.NEAREST),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,z.NEAREST)),z.bindTexture(z.TEXTURE_2D,he),X(he,ue)}finally{ue--}},tt=function(J,X,he){var Se=z.createFramebuffer();ve.push(Se),z.bindFramebuffer(z.FRAMEBUFFER,Se),z.activeTexture(z.TEXTURE0+X),z.bindTexture(z.TEXTURE_2D,J),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,J,0);try{he(Se)}finally{z.deleteFramebuffer(Se),z.bindFramebuffer(z.FRAMEBUFFER,ve[--ve.length-1]||null)}},Fe=function(){Z={},se={},oe={},ue=-1,ve.length=0};var Be=nt,Le=ke,Ve=Ze,xe=Ae,Te=tt,re=Fe,ae=typeof WebGL2RenderingContext<"u"&&z instanceof WebGL2RenderingContext,Z={},se={},oe={},ue=-1,ve=[];z.canvas.addEventListener("webglcontextlost",function(J){Fe(),J.preventDefault()},!1),l.set(z,K={gl:z,isWebGL2:ae,getExtension:nt,withProgram:Ze,withTexture:Ae,withTextureFramebuffer:tt,handleContextLoss:Fe})}Q(K)}function d(Y,Q,z,K,ae,Z,se,oe){se===void 0&&(se=15),oe===void 0&&(oe=null),f(Y,function(ue){var ve=ue.gl,Be=ue.withProgram,Le=ue.withTexture;Le("copy",function(Ve,xe){ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,ae,Z,0,ve.RGBA,ve.UNSIGNED_BYTE,Q),Be("copy",o,a,function(Te){var re=Te.setUniform,nt=Te.setAttribute;nt("aUV",2,ve.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),re("1i","image",xe),ve.bindFramebuffer(ve.FRAMEBUFFER,oe||null),ve.disable(ve.BLEND),ve.colorMask(se&8,se&4,se&2,se&1),ve.viewport(z,K,ae,Z),ve.scissor(z,K,ae,Z),ve.drawArrays(ve.TRIANGLES,0,3)})})})}function p(Y,Q,z){var K=Y.width,ae=Y.height;f(Y,function(Z){var se=Z.gl,oe=new Uint8Array(K*ae*4);se.readPixels(0,0,K,ae,se.RGBA,se.UNSIGNED_BYTE,oe),Y.width=Q,Y.height=z,d(se,oe,0,0,K,ae)})}var g=Object.freeze({__proto__:null,withWebGLContext:f,renderImageData:d,resizeWebGLCanvasWithoutClearing:p});function y(Y,Q,z,K,ae,Z){Z===void 0&&(Z=1);var se=new Uint8Array(Y*Q),oe=K[2]-K[0],ue=K[3]-K[1],ve=[];s(z,function(nt,ke,Ze,Ae){ve.push({x1:nt,y1:ke,x2:Ze,y2:Ae,minX:Math.min(nt,Ze),minY:Math.min(ke,Ae),maxX:Math.max(nt,Ze),maxY:Math.max(ke,Ae)})}),ve.sort(function(nt,ke){return nt.maxX-ke.maxX});for(var Be=0;Be<Y;Be++)for(var Le=0;Le<Q;Le++){var Ve=Te(K[0]+oe*(Be+.5)/Y,K[1]+ue*(Le+.5)/Q),xe=Math.pow(1-Math.abs(Ve)/ae,Z)/2;Ve<0&&(xe=1-xe),xe=Math.max(0,Math.min(255,Math.round(xe*255))),se[Le*Y+Be]=xe}return se;function Te(nt,ke){for(var Ze=1/0,Ae=1/0,tt=ve.length;tt--;){var Fe=ve[tt];if(Fe.maxX+Ae<=nt)break;if(nt+Ae>Fe.minX&&ke-Ae<Fe.maxY&&ke+Ae>Fe.minY){var J=x(nt,ke,Fe.x1,Fe.y1,Fe.x2,Fe.y2);J<Ze&&(Ze=J,Ae=Math.sqrt(Ze))}}return re(nt,ke)&&(Ae=-Ae),Ae}function re(nt,ke){for(var Ze=0,Ae=ve.length;Ae--;){var tt=ve[Ae];if(tt.maxX<=nt)break;var Fe=tt.y1>ke!=tt.y2>ke&&nt<(tt.x2-tt.x1)*(ke-tt.y1)/(tt.y2-tt.y1)+tt.x1;Fe&&(Ze+=tt.y1<tt.y2?1:-1)}return Ze!==0}}function S(Y,Q,z,K,ae,Z,se,oe,ue,ve){Z===void 0&&(Z=1),oe===void 0&&(oe=0),ue===void 0&&(ue=0),ve===void 0&&(ve=0),_(Y,Q,z,K,ae,Z,se,null,oe,ue,ve)}function _(Y,Q,z,K,ae,Z,se,oe,ue,ve,Be){Z===void 0&&(Z=1),ue===void 0&&(ue=0),ve===void 0&&(ve=0),Be===void 0&&(Be=0);for(var Le=y(Y,Q,z,K,ae,Z),Ve=new Uint8Array(Le.length*4),xe=0;xe<Le.length;xe++)Ve[xe*4+Be]=Le[xe];d(se,Ve,ue,ve,Y,Q,1<<3-Be,oe)}function x(Y,Q,z,K,ae,Z){var se=ae-z,oe=Z-K,ue=se*se+oe*oe,ve=ue?Math.max(0,Math.min(1,((Y-z)*se+(Q-K)*oe)/ue)):0,Be=Y-(z+ve*se),Le=Q-(K+ve*oe);return Be*Be+Le*Le}var b=Object.freeze({__proto__:null,generate:y,generateIntoCanvas:S,generateIntoFramebuffer:_}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",M="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",C="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",I=new Float32Array([0,0,2,0,0,2]),B=null,P=!1,L={},E=new WeakMap;function O(Y){if(!P&&!te(Y))throw new Error("WebGL generation not supported")}function U(Y,Q,z,K,ae,Z,se){if(Z===void 0&&(Z=1),se===void 0&&(se=null),!se&&(se=B,!se)){var oe=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!oe)throw new Error("OffscreenCanvas or DOM canvas not supported");se=B=oe.getContext("webgl",{depth:!1})}O(se);var ue=new Uint8Array(Y*Q*4);f(se,function(Ve){var xe=Ve.gl,Te=Ve.withTexture,re=Ve.withTextureFramebuffer;Te("readable",function(nt,ke){xe.texImage2D(xe.TEXTURE_2D,0,xe.RGBA,Y,Q,0,xe.RGBA,xe.UNSIGNED_BYTE,null),re(nt,ke,function(Ze){q(Y,Q,z,K,ae,Z,xe,Ze,0,0,0),xe.readPixels(0,0,Y,Q,xe.RGBA,xe.UNSIGNED_BYTE,ue)})})});for(var ve=new Uint8Array(Y*Q),Be=0,Le=0;Be<ue.length;Be+=4)ve[Le++]=ue[Be];return ve}function H(Y,Q,z,K,ae,Z,se,oe,ue,ve){Z===void 0&&(Z=1),oe===void 0&&(oe=0),ue===void 0&&(ue=0),ve===void 0&&(ve=0),q(Y,Q,z,K,ae,Z,se,null,oe,ue,ve)}function q(Y,Q,z,K,ae,Z,se,oe,ue,ve,Be){Z===void 0&&(Z=1),ue===void 0&&(ue=0),ve===void 0&&(ve=0),Be===void 0&&(Be=0),O(se);var Le=[];s(z,function(Ve,xe,Te,re){Le.push(Ve,xe,Te,re)}),Le=new Float32Array(Le),f(se,function(Ve){var xe=Ve.gl,Te=Ve.isWebGL2,re=Ve.getExtension,nt=Ve.withProgram,ke=Ve.withTexture,Ze=Ve.withTextureFramebuffer,Ae=Ve.handleContextLoss;if(ke("rawDistances",function(tt,Fe){(Y!==tt._lastWidth||Q!==tt._lastHeight)&&xe.texImage2D(xe.TEXTURE_2D,0,xe.RGBA,tt._lastWidth=Y,tt._lastHeight=Q,0,xe.RGBA,xe.UNSIGNED_BYTE,null),nt("main",w,M,function(J){var X=J.setAttribute,he=J.setUniform,Se=!Te&&re("ANGLE_instanced_arrays"),Me=!Te&&re("EXT_blend_minmax");X("aUV",2,xe.STATIC_DRAW,0,I),X("aLineSegment",4,xe.DYNAMIC_DRAW,1,Le),he.apply(void 0,["4f","uGlyphBounds"].concat(K)),he("1f","uMaxDistance",ae),he("1f","uExponent",Z),Ze(tt,Fe,function(De){xe.enable(xe.BLEND),xe.colorMask(!0,!0,!0,!0),xe.viewport(0,0,Y,Q),xe.scissor(0,0,Y,Q),xe.blendFunc(xe.ONE,xe.ONE),xe.blendEquationSeparate(xe.FUNC_ADD,Te?xe.MAX:Me.MAX_EXT),xe.clear(xe.COLOR_BUFFER_BIT),Te?xe.drawArraysInstanced(xe.TRIANGLES,0,3,Le.length/4):Se.drawArraysInstancedANGLE(xe.TRIANGLES,0,3,Le.length/4)})}),nt("post",o,C,function(J){J.setAttribute("aUV",2,xe.STATIC_DRAW,0,I),J.setUniform("1i","tex",Fe),xe.bindFramebuffer(xe.FRAMEBUFFER,oe),xe.disable(xe.BLEND),xe.colorMask(Be===0,Be===1,Be===2,Be===3),xe.viewport(ue,ve,Y,Q),xe.scissor(ue,ve,Y,Q),xe.drawArrays(xe.TRIANGLES,0,3)})}),xe.isContextLost())throw Ae(),new Error("webgl context lost")})}function te(Y){var Q=!Y||Y===B?L:Y.canvas||Y,z=E.get(Q);if(z===void 0){P=!0;var K=null;try{var ae=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Z=U(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,Y);z=Z&&ae.length===Z.length&&Z.every(function(se,oe){return se===ae[oe]}),z||(K="bad trial run results",console.info(ae,Z))}catch(se){z=!1,K=se.message}K&&console.warn("WebGL SDF generation not supported:",K),P=!1,E.set(Q,z)}return z}var $=Object.freeze({__proto__:null,generate:U,generateIntoCanvas:H,generateIntoFramebuffer:q,isSupported:te});function ie(Y,Q,z,K,ae,Z){ae===void 0&&(ae=Math.max(K[2]-K[0],K[3]-K[1])/2),Z===void 0&&(Z=1);try{return U.apply($,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),y.apply(b,arguments)}}function W(Y,Q,z,K,ae,Z,se,oe,ue,ve){ae===void 0&&(ae=Math.max(K[2]-K[0],K[3]-K[1])/2),Z===void 0&&(Z=1),oe===void 0&&(oe=0),ue===void 0&&(ue=0),ve===void 0&&(ve=0);try{return H.apply($,arguments)}catch(Be){return console.info("WebGL SDF generation failed, falling back to JS",Be),S.apply(b,arguments)}}return e.forEachPathCommand=i,e.generate=ie,e.generateIntoCanvas=W,e.javascript=b,e.pathToLineSegments=s,e.webgl=$,e.webglUtils=g,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function dge(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Ae,tt){r[Ae]=1<<tt+1,i[r[Ae]]=Ae}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|s|r.PDI|l,f=null;function d(){if(!f){f=new Map;var Ae=function(Fe){if(n.hasOwnProperty(Fe)){var J=0;n[Fe].split(",").forEach(function(X){var he=X.split("+"),Se=he[0],Me=he[1];Se=parseInt(Se,36),Me=Me?parseInt(Me,36):0,f.set(J+=Se,r[Fe]);for(var De=0;De<Me;De++)f.set(++J,r[Fe])})}};for(var tt in n)Ae(tt)}}function p(Ae){return d(),f.get(Ae.codePointAt(0))||r.L}function g(Ae){return i[p(Ae)]}var y={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function S(Ae,tt){var Fe=36,J=0,X=new Map,he=tt&&new Map,Se;return Ae.split(",").forEach(function Me(De){if(De.indexOf("+")!==-1)for(var qe=+De;qe--;)Me(Se);else{Se=De;var Ne=De.split(">"),Ke=Ne[0],ft=Ne[1];Ke=String.fromCodePoint(J+=parseInt(Ke,Fe)),ft=String.fromCodePoint(J+=parseInt(ft,Fe)),X.set(Ke,ft),tt&&he.set(ft,Ke)}}),{map:X,reverseMap:he}}var _,x,b;function w(){if(!_){var Ae=S(y.pairs,!0),tt=Ae.map,Fe=Ae.reverseMap;_=tt,x=Fe,b=S(y.canonical,!1).map}}function M(Ae){return w(),_.get(Ae)||null}function C(Ae){return w(),x.get(Ae)||null}function I(Ae){return w(),b.get(Ae)||null}var B=r.L,P=r.R,L=r.EN,E=r.ES,O=r.ET,U=r.AN,H=r.CS,q=r.B,te=r.S,$=r.ON,ie=r.BN,W=r.NSM,Y=r.AL,Q=r.LRO,z=r.RLO,K=r.LRE,ae=r.RLE,Z=r.PDF,se=r.LRI,oe=r.RLI,ue=r.FSI,ve=r.PDI;function Be(Ae,tt){for(var Fe=125,J=new Uint32Array(Ae.length),X=0;X<Ae.length;X++)J[X]=p(Ae[X]);var he=new Map;function Se(Hr,ti){var Fr=J[Hr];J[Hr]=ti,he.set(Fr,he.get(Fr)-1),Fr&a&&he.set(a,he.get(a)-1),he.set(ti,(he.get(ti)||0)+1),ti&a&&he.set(a,(he.get(a)||0)+1)}for(var Me=new Uint8Array(Ae.length),De=new Map,qe=[],Ne=null,Ke=0;Ke<Ae.length;Ke++)Ne||qe.push(Ne={start:Ke,end:Ae.length-1,level:tt==="rtl"?1:tt==="ltr"?0:di(Ke,!1)}),J[Ke]&q&&(Ne.end=Ke,Ne=null);for(var ft=ae|K|z|Q|s|ve|Z|q,Xe=function(Hr){return Hr+(Hr&1?1:2)},ot=function(Hr){return Hr+(Hr&1?2:1)},at=0;at<qe.length;at++){Ne=qe[at];var mt=[{_level:Ne.level,_override:0,_isolate:0}],$e=void 0,pe=0,ze=0,vt=0;he.clear();for(var de=Ne.start;de<=Ne.end;de++){var je=J[de];if($e=mt[mt.length-1],he.set(je,(he.get(je)||0)+1),je&a&&he.set(a,(he.get(a)||0)+1),je&ft)if(je&(ae|K)){Me[de]=$e._level;var Ie=(je===ae?ot:Xe)($e._level);Ie<=Fe&&!pe&&!ze?mt.push({_level:Ie,_override:0,_isolate:0}):pe||ze++}else if(je&(z|Q)){Me[de]=$e._level;var Ye=(je===z?ot:Xe)($e._level);Ye<=Fe&&!pe&&!ze?mt.push({_level:Ye,_override:je&z?P:B,_isolate:0}):pe||ze++}else if(je&s){je&ue&&(je=di(de+1,!0)===1?oe:se),Me[de]=$e._level,$e._override&&Se(de,$e._override);var ut=(je===oe?ot:Xe)($e._level);ut<=Fe&&pe===0&&ze===0?(vt++,mt.push({_level:ut,_override:0,_isolate:1,_isolInitIndex:de})):pe++}else if(je&ve){if(pe>0)pe--;else if(vt>0){for(ze=0;!mt[mt.length-1]._isolate;)mt.pop();var st=mt[mt.length-1]._isolInitIndex;st!=null&&(De.set(st,de),De.set(de,st)),mt.pop(),vt--}$e=mt[mt.length-1],Me[de]=$e._level,$e._override&&Se(de,$e._override)}else je&Z?(pe===0&&(ze>0?ze--:!$e._isolate&&mt.length>1&&(mt.pop(),$e=mt[mt.length-1])),Me[de]=$e._level):je&q&&(Me[de]=Ne.level);else Me[de]=$e._level,$e._override&&je!==ie&&Se(de,$e._override)}for(var Mt=[],Vt=null,ce=Ne.start;ce<=Ne.end;ce++){var ge=J[ce];if(!(ge&l)){var Pe=Me[ce],Qe=ge&s,dt=ge===ve;Vt&&Pe===Vt._level?(Vt._end=ce,Vt._endsWithIsolInit=Qe):Mt.push(Vt={_start:ce,_end:ce,_level:Pe,_startsWithPDI:dt,_endsWithIsolInit:Qe})}}for(var Ot=[],Lt=0;Lt<Mt.length;Lt++){var Et=Mt[Lt];if(!Et._startsWithPDI||Et._startsWithPDI&&!De.has(Et._start)){for(var Dt=[Vt=Et],St=void 0;Vt&&Vt._endsWithIsolInit&&(St=De.get(Vt._end))!=null;)for(var Pt=Lt+1;Pt<Mt.length;Pt++)if(Mt[Pt]._start===St){Dt.push(Vt=Mt[Pt]);break}for(var kt=[],on=0;on<Dt.length;on++)for(var Gn=Dt[on],On=Gn._start;On<=Gn._end;On++)kt.push(On);for(var Yn=Me[kt[0]],Hn=Ne.level,Xn=kt[0]-1;Xn>=0;Xn--)if(!(J[Xn]&l)){Hn=Me[Xn];break}var wi=kt[kt.length-1],us=Me[wi],Zr=Ne.level;if(!(J[wi]&s)){for(var ne=wi+1;ne<=Ne.end;ne++)if(!(J[ne]&l)){Zr=Me[ne];break}}Ot.push({_seqIndices:kt,_sosType:Math.max(Hn,Yn)%2?P:B,_eosType:Math.max(Zr,us)%2?P:B})}}for(var Ee=0;Ee<Ot.length;Ee++){var Ue=Ot[Ee],ye=Ue._seqIndices,we=Ue._sosType,ct=Ue._eosType,lt=Me[ye[0]]&1?P:B;if(he.get(W))for(var yt=0;yt<ye.length;yt++){var Rt=ye[yt];if(J[Rt]&W){for(var Ht=we,wt=yt-1;wt>=0;wt--)if(!(J[ye[wt]]&l)){Ht=J[ye[wt]];break}Se(Rt,Ht&(s|ve)?$:Ht)}}if(he.get(L))for(var ht=0;ht<ye.length;ht++){var Nt=ye[ht];if(J[Nt]&L)for(var $t=ht-1;$t>=-1;$t--){var vn=$t===-1?we:J[ye[$t]];if(vn&o){vn===Y&&Se(Nt,U);break}}}if(he.get(Y))for(var gn=0;gn<ye.length;gn++){var fn=ye[gn];J[fn]&Y&&Se(fn,P)}if(he.get(E)||he.get(H))for(var Ut=1;Ut<ye.length-1;Ut++){var ln=ye[Ut];if(J[ln]&(E|H)){for(var un=0,Wt=0,Mr=Ut-1;Mr>=0&&(un=J[ye[Mr]],!!(un&l));Mr--);for(var rr=Ut+1;rr<ye.length&&(Wt=J[ye[rr]],!!(Wt&l));rr++);un===Wt&&(J[ln]===E?un===L:un&(L|U))&&Se(ln,un)}}if(he.get(L))for(var yr=0;yr<ye.length;yr++){var yn=ye[yr];if(J[yn]&L){for(var xr=yr-1;xr>=0&&J[ye[xr]]&(O|l);xr--)Se(ye[xr],L);for(yr++;yr<ye.length&&J[ye[yr]]&(O|l|L);yr++)J[ye[yr]]!==L&&Se(ye[yr],L)}}if(he.get(O)||he.get(E)||he.get(H))for(var _r=0;_r<ye.length;_r++){var Gr=ye[_r];if(J[Gr]&(O|E|H)){Se(Gr,$);for(var lr=_r-1;lr>=0&&J[ye[lr]]&l;lr--)Se(ye[lr],$);for(var wn=_r+1;wn<ye.length&&J[ye[wn]]&l;wn++)Se(ye[wn],$)}}if(he.get(L))for(var li=0,dl=we;li<ye.length;li++){var lc=ye[li],uc=J[lc];uc&L?dl===B&&Se(lc,B):uc&o&&(dl=uc)}if(he.get(a)){var Go=P|L|U,$l=Go|B,Xs=[];{for(var go=[],bi=0;bi<ye.length;bi++)if(J[ye[bi]]&a){var dn=Ae[ye[bi]],qs=void 0;if(M(dn)!==null)if(go.length<63)go.push({char:dn,seqIndex:bi});else break;else if((qs=C(dn))!==null)for(var Cs=go.length-1;Cs>=0;Cs--){var Ho=go[Cs].char;if(Ho===qs||Ho===C(I(dn))||M(I(Ho))===dn){Xs.push([go[Cs].seqIndex,bi]),go.length=Cs;break}}}Xs.sort(function(Hr,ti){return Hr[0]-ti[0]})}for(var Ks=0;Ks<Xs.length;Ks++){for(var Mh=Xs[Ks],Sr=Mh[0],vo=Mh[1],Eh=!1,Oi=0,hl=Sr+1;hl<vo;hl++){var pl=ye[hl];if(J[pl]&$l){Eh=!0;var Ts=J[pl]&Go?P:B;if(Ts===lt){Oi=Ts;break}}}if(Eh&&!Oi){Oi=we;for(var ga=Sr-1;ga>=0;ga--){var ml=ye[ga];if(J[ml]&$l){var ui=J[ml]&Go?P:B;ui!==lt?Oi=ui:Oi=lt;break}}}if(Oi){if(J[ye[Sr]]=J[ye[vo]]=Oi,Oi!==lt){for(var ci=Sr+1;ci<ye.length;ci++)if(!(J[ye[ci]]&l)){p(Ae[ye[ci]])&W&&(J[ye[ci]]=Oi);break}}if(Oi!==lt){for(var Vo=vo+1;Vo<ye.length;Vo++)if(!(J[ye[Vo]]&l)){p(Ae[ye[Vo]])&W&&(J[ye[Vo]]=Oi);break}}}}for(var Js=0;Js<ye.length;Js++)if(J[ye[Js]]&a){for(var Ql=Js,gl=Js,ki=we,vl=Js-1;vl>=0;vl--)if(J[ye[vl]]&l)Ql=vl;else{ki=J[ye[vl]]&Go?P:B;break}for(var cs=ct,va=Js+1;va<ye.length;va++)if(J[ye[va]]&(a|l))gl=va;else{cs=J[ye[va]]&Go?P:B;break}for(var fi=Ql;fi<=gl;fi++)J[ye[fi]]=ki===cs?ki:lt;Js=gl}}}for(var ei=Ne.start;ei<=Ne.end;ei++){var ya=Me[ei],fs=J[ei];if(ya&1?fs&(B|L|U)&&Me[ei]++:fs&P?Me[ei]++:fs&(U|L)&&(Me[ei]+=2),fs&l&&(Me[ei]=ei===0?Ne.level:Me[ei-1]),ei===Ne.end||p(Ae[ei])&(te|q))for(var xa=ei;xa>=0&&p(Ae[xa])&u;xa--)Me[xa]=Ne.level}}return{levels:Me,paragraphs:qe};function di(Hr,ti){for(var Fr=Hr;Fr<Ae.length;Fr++){var Er=J[Fr];if(Er&(P|Y))return 1;if(Er&(q|B)||ti&&Er===ve)return 0;if(Er&s){var Ji=_a(Fr);Fr=Ji===-1?Ae.length:Ji}}return 0}function _a(Hr){for(var ti=1,Fr=Hr+1;Fr<Ae.length;Fr++){var Er=J[Fr];if(Er&q)break;if(Er&ve){if(--ti===0)return Fr}else Er&s&&ti++}return-1}}var Le="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ve;function xe(){if(!Ve){var Ae=S(Le,!0),tt=Ae.map,Fe=Ae.reverseMap;Fe.forEach(function(J,X){tt.set(X,J)}),Ve=tt}}function Te(Ae){return xe(),Ve.get(Ae)||null}function re(Ae,tt,Fe,J){var X=Ae.length;Fe=Math.max(0,Fe==null?0:+Fe),J=Math.min(X-1,J==null?X-1:+J);for(var he=new Map,Se=Fe;Se<=J;Se++)if(tt[Se]&1){var Me=Te(Ae[Se]);Me!==null&&he.set(Se,Me)}return he}function nt(Ae,tt,Fe,J){var X=Ae.length;Fe=Math.max(0,Fe==null?0:+Fe),J=Math.min(X-1,J==null?X-1:+J);var he=[];return tt.paragraphs.forEach(function(Se){var Me=Math.max(Fe,Se.start),De=Math.min(J,Se.end);if(Me<De){for(var qe=tt.levels.slice(Me,De+1),Ne=De;Ne>=Me&&p(Ae[Ne])&u;Ne--)qe[Ne]=Se.level;for(var Ke=Se.level,ft=1/0,Xe=0;Xe<qe.length;Xe++){var ot=qe[Xe];ot>Ke&&(Ke=ot),ot<ft&&(ft=ot|1)}for(var at=Ke;at>=ft;at--)for(var mt=0;mt<qe.length;mt++)if(qe[mt]>=at){for(var $e=mt;mt+1<qe.length&&qe[mt+1]>=at;)mt++;mt>$e&&he.push([$e+Me,mt+Me])}}}),he}function ke(Ae,tt,Fe,J){var X=Ze(Ae,tt,Fe,J),he=[].concat(Ae);return X.forEach(function(Se,Me){he[Me]=(tt.levels[Se]&1?Te(Ae[Se]):null)||Ae[Se]}),he.join("")}function Ze(Ae,tt,Fe,J){for(var X=nt(Ae,tt,Fe,J),he=[],Se=0;Se<Ae.length;Se++)he[Se]=Se;return X.forEach(function(Me){for(var De=Me[0],qe=Me[1],Ne=he.slice(De,qe+1),Ke=Ne.length;Ke--;)he[qe-Ke]=Ne[Ke]}),he}return e.closingToOpeningBracket=C,e.getBidiCharType=p,e.getBidiCharTypeName=g,e.getCanonicalBracket=I,e.getEmbeddingLevels=Be,e.getMirroredCharacter=Te,e.getMirroredCharactersMap=re,e.getReorderSegments=nt,e.getReorderedIndices=Ze,e.getReorderedString=ke,e.openingToClosingBracket=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const BV=/\bvoid\s+main\s*\(\s*\)\s*{/g;function GT(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=Cn[i];return s?GT(s):r}return t.replace(e,n)}const rs=[];for(let t=0;t<256;t++)rs[t]=(t<16?"0":"")+t.toString(16);function hge(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(rs[t&255]+rs[t>>8&255]+rs[t>>16&255]+rs[t>>24&255]+"-"+rs[e&255]+rs[e>>8&255]+"-"+rs[e>>16&15|64]+rs[e>>24&255]+"-"+rs[n&63|128]+rs[n>>8&255]+"-"+rs[n>>16&255]+rs[n>>24&255]+rs[r&255]+rs[r>>8&255]+rs[r>>16&255]+rs[r>>24&255]).toUpperCase()}const wd=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pge=Date.now(),vU=new WeakMap,yU=new Map;let mge=1e10;function HT(t,e){const n=xge(e);let r=vU.get(t);if(r||vU.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(u,f){t.onBeforeCompile.call(this,u,f);const d=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let p=yU[d];if(!p){const g=gge(this,u,e,n);p=yU[d]=g}u.vertexShader=p.vertexShader,u.fragmentShader=p.fragmentShader,wd(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-pge}}),this[i]&&this[i](u)},o=function(){return a(e.chained?t:t.clone())},a=function(u){const f=Object.create(u,l);return Object.defineProperty(f,"baseMaterial",{value:t}),Object.defineProperty(f,"id",{value:mge++}),f.uuid=hge(),f.uniforms=wd({},u.uniforms,e.uniforms),f.defines=wd({},u.defines,e.defines),f.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",f.extensions=wd({},u.extensions,e.extensions),f._listeners=void 0,f},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:u=>{t.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const f=this.baseMaterial;return u===f||f.isDerivedMaterial&&f.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(wd(this.extensions,u.extensions),wd(this.defines,u.defines),wd(this.uniforms,X2.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return a(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=HT(t.isDerivedMaterial?t.getDepthMaterial():new OA({depthPacking:G2}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=HT(t.isDerivedMaterial?t.getDistanceMaterial():new kA,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:f}=this;u&&u.dispose(),f&&f.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function gge(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:f,fragmentMainOutro:d,fragmentColorTransform:p,customRewriter:g,timeUniform:y}=r;if(s=s||"",o=o||"",a=a||"",u=u||"",f=f||"",d=d||"",(l||g)&&(e=GT(e)),(p||g)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=GT(n)),g){let S=g({vertexShader:e,fragmentShader:n});e=S.vertexShader,n=S.fragmentShader}if(p){let S=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,_=>(S.push(_),"")),d=`${p}
${S.join(`
`)}
${d}`}if(y){const S=`
uniform float ${y};
`;s=S+s,u=S+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(S,_,x,b)=>/\battribute\s+vec[23]\s+$/.test(b.substr(0,x))?_:`troika_${_}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=xU(e,i,s,o,a),n=xU(n,i,u,f,d),{vertexShader:e,fragmentShader:n}}function xU(t,e,n,r,i){return(r||i||n)&&(t=t.replace(BV,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function vge(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let yge=0;const _U=new Map;function xge(t){const e=JSON.stringify(t,vge);let n=_U.get(e);return n==null&&_U.set(e,n=++yge),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function _ge(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var u=[],f=0;f<l;f++){var d=s.readUint(o,a);a+=4,u.push(e._readFont(o,d))}return u}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],f={_data:i,_offset:a},d={},p=0;p<l;p++){var g=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var y=o.readUint(i,s);s+=4;var S=o.readUint(i,s);s+=4,d[g]={offset:y,length:S}}for(p=0;p<u.length;p++){var _=u[p];d[_]&&(f[_.trim()]=e[_.trim()].parse(i,d[_].offset,d[_].length,f))}return f},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),u=o+12,f=0;f<l;f++){var d=a.readASCII(i,u,4);u+=4,a.readUint(i,u),u+=4;var p=a.readUint(i,u);if(u+=4,a.readUint(i,u),u+=4,d==s)return p}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var u=i[s++]<<8|i[s++];a+=String.fromCharCode(u)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var u=e._bin,f={},d=s;u.readFixed(i,s),s+=4;var p=u.readUshort(i,s);s+=2;var g=u.readUshort(i,s);s+=2;var y=u.readUshort(i,s);return s+=2,f.scriptList=e._lctf.readScriptList(i,d+p),f.featureList=e._lctf.readFeatureList(i,d+g),f.lookupList=e._lctf.readLookupList(i,d+y,l),f},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,u=[],f=a.readUshort(i,s);s+=2;for(var d=0;d<f;d++){var p=a.readUshort(i,s);s+=2;var g=e._lctf.readLookupTable(i,l+p,o);u.push(g)}return u},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,u={tabs:[]};u.ltype=a.readUshort(i,s),s+=2,u.flag=a.readUshort(i,s),s+=2;var f=a.readUshort(i,s);s+=2;for(var d=u.ltype,p=0;p<f;p++){var g=a.readUshort(i,s);s+=2;var y=o(i,d,l+g,u);u.tabs.push(y)}return u},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)(i>>>o&1)!=0&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var u=o.readUshort(i,s);s+=2;var f=o.readUshort(i,s);s+=2;for(var d=0;d<f;d++)a.push(u+d),a.push(u+d),a.push(o.readUshort(i,s)),s+=2}if(l==2){var p=o.readUshort(i,s);for(s+=2,d=0;d<p;d++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2;var g=e._lctf.readFeatureTable(i,a+p);g.tag=d.trim(),l.push(g)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.featureParams=a+u);var f=o.readUshort(i,s);s+=2,l.tab=[];for(var d=0;d<f;d++)l.tab.push(o.readUshort(i,s+2*d));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readScriptTable(i,a+p)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,a+u));var f=o.readUshort(i,s);s+=2;for(var d=0;d<f;d++){var p=o.readASCII(i,s,4);s+=4;var g=o.readUshort(i,s);s+=2,l[p.trim()]=e._lctf.readLangSysTable(i,a+g)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var u=[],f=0;f<l.length-1;f++)u.push(a.readASCII(i,s+l[f],l[f+1]-l[f]));s+=l[l.length-1];var d=[];s=e.CFF.readIndex(i,s,d);var p=[];for(f=0;f<d.length-1;f++)p.push(e.CFF.readDict(i,s+d[f],s+d[f+1]));s+=d[d.length-1];var g=p[0],y=[];s=e.CFF.readIndex(i,s,y);var S=[];for(f=0;f<y.length-1;f++)S.push(a.readASCII(i,s+y[f],y[f+1]-y[f]));if(s+=y[y.length-1],e.CFF.readSubrs(i,s,g),g.CharStrings){s=g.CharStrings,y=[],s=e.CFF.readIndex(i,s,y);var _=[];for(f=0;f<y.length-1;f++)_.push(a.readBytes(i,s+y[f],y[f+1]-y[f]));g.CharStrings=_}if(g.ROS){s=g.FDArray;var x=[];for(s=e.CFF.readIndex(i,s,x),g.FDArray=[],f=0;f<x.length-1;f++){var b=e.CFF.readDict(i,s+x[f],s+x[f+1]);e.CFF._readFDict(i,b,S),g.FDArray.push(b)}s+=x[x.length-1],s=g.FDSelect,g.FDSelect=[];var w=i[s];if(s++,w!=3)throw w;var M=a.readUshort(i,s);for(s+=2,f=0;f<M+1;f++)g.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return g.Encoding&&(g.Encoding=e.CFF.readEncoding(i,g.Encoding,g.CharStrings.length)),g.charset&&(g.charset=e.CFF.readCharset(i,g.charset,g.CharStrings.length)),e.CFF._readFDict(i,g,S),g},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var u,f=l.length;u=f<1240?107:f<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var d=0;d<l.length-1;d++)o.Subrs.push(a.readBytes(i,s+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var u=i[s];s++;for(var f=0;f<u;f++)a.push(i[s+f]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],u=i[s];if(s++,u==0)for(var f=0;f<o;f++){var d=a.readUshort(i,s);s+=2,l.push(d)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){d=a.readUshort(i,s),s+=2;var p=0;for(u==1?(p=i[s],s++):(p=a.readUshort(i,s),s+=2),f=0;f<=p;f++)l.push(d),d++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,u=i[s+=2];if(s++,u==1)for(var f=0;f<l;f++)o.push(i[s+f]);else if(u==2)for(f=0;f<l;f++)o.push(a.readUshort(i,s+2*f));else if(u==3)for(f=0;f<l;f++)o.push(16777215&a.readUint(i,s+3*f-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(s+=l*u)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],u=i[s+1];i[s+2],i[s+3],i[s+4];var f=1,d=null,p=null;l<=20&&(d=l,f=1),l==12&&(d=100*l+u,f=2),21<=l&&l<=27&&(d=l,f=1),l==28&&(p=a.readShort(i,s+1),f=3),29<=l&&l<=31&&(d=l,f=1),32<=l&&l<=246&&(p=l-139,f=1),247<=l&&l<=250&&(p=256*(l-247)+u+108,f=2),251<=l&&l<=254&&(p=256*-(l-251)-u-108,f=2),l==255&&(p=a.readInt(i,s+1)/65535,f=5),o.val=p??"o"+d,o.size=f},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,u=[];s<a;){var f=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,g=null,y=null;f<=20&&(g=f,p=1),f==12&&(g=100*f+d,p=2),f!=19&&f!=20||(g=f,p=2),21<=f&&f<=27&&(g=f,p=1),f==28&&(y=l.readShort(i,s+1),p=3),29<=f&&f<=31&&(g=f,p=1),32<=f&&f<=246&&(y=f-139,p=1),247<=f&&f<=250&&(y=256*(f-247)+d+108,p=2),251<=f&&f<=254&&(y=256*-(f-251)-d-108,p=2),f==255&&(y=l.readInt(i,s+1)/65535,p=5),u.push(y??"o"+g),s+=p}return u},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},u=[];s<o;){var f=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,g=null,y=null;if(f==28&&(y=a.readShort(i,s+1),p=3),f==29&&(y=a.readInt(i,s+1),p=5),32<=f&&f<=246&&(y=f-139,p=1),247<=f&&f<=250&&(y=256*(f-247)+d+108,p=2),251<=f&&f<=254&&(y=256*-(f-251)-d-108,p=2),f==255)throw y=a.readInt(i,s+1)/65535,p=5,"unknown number";if(f==30){var S=[];for(p=1;;){var _=i[s+p];p++;var x=_>>4,b=15&_;if(x!=15&&S.push(x),b!=15&&S.push(b),b==15)break}for(var w="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],C=0;C<S.length;C++)w+=M[S[C]];y=parseFloat(w)}f<=21&&(g=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][f],p=1,f==12&&(g=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],p=2)),g!=null?(l[g]=u.length==1?u[0]:u,u=[]):u.push(y),s+=p}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var f=[];l.tables=[];for(var d=0;d<u;d++){var p=a.readUshort(i,s);s+=2;var g=a.readUshort(i,s);s+=2;var y=a.readUint(i,s);s+=4;var S="p"+p+"e"+g,_=f.indexOf(y);if(_==-1){var x;_=l.tables.length,f.push(y);var b=a.readUshort(i,y);b==0?x=e.cmap.parse0(i,y):b==4?x=e.cmap.parse4(i,y):b==6?x=e.cmap.parse6(i,y):b==12?x=e.cmap.parse12(i,y):console.debug("unknown format: "+b,p,g,y),l.tables.push(x)}if(l[S]!=null)throw"multiple tables for one platform+encoding";l[S]=_}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var u=0;u<l-6;u++)a.map.push(i[s+u]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var f=o.readUshort(i,s);s+=2;var d=f/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,d),s+=2*d,s+=2,l.startCount=o.readUshorts(i,s,d),s+=2*d,l.idDelta=[];for(var p=0;p<d;p++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,d),s+=2*d,l.glyphIdArray=[];s<a+u;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var u=0;u<l;u++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var u=0;u<l;u++){var f=s+12*u,d=o.readUint(i,f+0),p=o.readUint(i,f+4),g=o.readUint(i,f+8);a.groups.push([d,p,g])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],u=0;u<a.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var u={};if(u.noc=o.readShort(a,l),l+=2,u.xMin=o.readShort(a,l),l+=2,u.yMin=o.readShort(a,l),l+=2,u.xMax=o.readShort(a,l),l+=2,u.yMax=o.readShort(a,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var f=0;f<u.noc;f++)u.endPts.push(o.readUshort(a,l)),l+=2;var d=o.readUshort(a,l);if(l+=2,a.length-l<d)return null;u.instructions=o.readBytes(a,l,d),l+=d;var p=u.endPts[u.noc-1]+1;for(u.flags=[],f=0;f<p;f++){var g=a[l];if(l++,u.flags.push(g),(8&g)!=0){var y=a[l];l++;for(var S=0;S<y;S++)u.flags.push(g),f++}}for(u.xs=[],f=0;f<p;f++){var _=(2&u.flags[f])!=0,x=(16&u.flags[f])!=0;_?(u.xs.push(x?a[l]:-a[l]),l++):x?u.xs.push(0):(u.xs.push(o.readShort(a,l)),l+=2)}for(u.ys=[],f=0;f<p;f++)_=(4&u.flags[f])!=0,x=(32&u.flags[f])!=0,_?(u.ys.push(x?a[l]:-a[l]),l++):x?u.ys.push(0):(u.ys.push(o.readShort(a,l)),l+=2);var b=0,w=0;for(f=0;f<p;f++)b+=u.xs[f],w+=u.ys[f],u.xs[f]=b,u.ys[f]=w}else{var M;u.parts=[];do{M=o.readUshort(a,l),l+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(C),C.glyphIndex=o.readUshort(a,l),l+=2,1&M){var I=o.readShort(a,l);l+=2;var B=o.readShort(a,l);l+=2}else I=o.readInt8(a,l),l++,B=o.readInt8(a,l),l++;2&M?(C.m.tx=I,C.m.ty=B):(C.p1=I,C.p2=B),8&M?(C.m.a=C.m.d=o.readF2dot14(a,l),l+=2):64&M?(C.m.a=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2):128&M&&(C.m.a=o.readF2dot14(a,l),l+=2,C.m.b=o.readF2dot14(a,l),l+=2,C.m.c=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2)}while(32&M);if(256&M){var P=o.readUshort(a,l);for(l+=2,u.instr=[],f=0;f<P;f++)u.instr.push(a[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,s,o,a){var l=s;s+=4;var u=e._bin.readUshort(i,s);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,u=o,f={};if(f.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&f.fmt<=2){var d=l.readUshort(i,o);o+=2,f.coverage=e._lctf.readCoverage(i,d+u)}if(s==1&&f.fmt==1){var p=l.readUshort(i,o);o+=2,p!=0&&(f.pos=e.GPOS.readValueRecord(i,o,p))}else if(s==2&&f.fmt>=1&&f.fmt<=2){p=l.readUshort(i,o),o+=2;var g=l.readUshort(i,o);o+=2;var y=e._lctf.numOfOnes(p),S=e._lctf.numOfOnes(g);if(f.fmt==1){f.pairsets=[];var _=l.readUshort(i,o);o+=2;for(var x=0;x<_;x++){var b=u+l.readUshort(i,o);o+=2;var w=l.readUshort(i,b);b+=2;for(var M=[],C=0;C<w;C++){var I=l.readUshort(i,b);b+=2,p!=0&&(U=e.GPOS.readValueRecord(i,b,p),b+=2*y),g!=0&&(H=e.GPOS.readValueRecord(i,b,g),b+=2*S),M.push({gid2:I,val1:U,val2:H})}f.pairsets.push(M)}}if(f.fmt==2){var B=l.readUshort(i,o);o+=2;var P=l.readUshort(i,o);o+=2;var L=l.readUshort(i,o);o+=2;var E=l.readUshort(i,o);for(o+=2,f.classDef1=e._lctf.readClassDef(i,u+B),f.classDef2=e._lctf.readClassDef(i,u+P),f.matrix=[],x=0;x<L;x++){var O=[];for(C=0;C<E;C++){var U=null,H=null;p!=0&&(U=e.GPOS.readValueRecord(i,o,p),o+=2*y),g!=0&&(H=e.GPOS.readValueRecord(i,o,g),o+=2*S),O.push({val1:U,val2:H})}f.matrix.push(O)}}}else if(s==4&&f.fmt==1)f.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),f.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),f.markClassCount=l.readUshort(i,o+4),f.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),f.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,f.markClassCount);else if(s==6&&f.fmt==1)f.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),f.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),f.markClassCount=l.readUshort(i,o+4),f.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),f.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,f.markClassCount);else{if(s==9&&f.fmt==1){var q=l.readUshort(i,o);o+=2;var te=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=q;else if(a.ltype!=q)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,u+te)}console.debug("unsupported GPOS table LookupType",s,"format",f.fmt)}return f},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GPOS.readBaseArray=function(i,s,o){var a=e._bin,l=[],u=s,f=a.readUshort(i,s);s+=2;for(var d=0;d<f;d++){for(var p=[],g=0;g<o;g++)p.push(e.GPOS.readAnchorRecord(i,u+a.readUshort(i,s))),s+=2;l.push(p)}return l},e.GPOS.readMarkArray=function(i,s){var o=e._bin,a=[],l=s,u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=e.GPOS.readAnchorRecord(i,o.readUshort(i,s+2)+l);d.markClass=o.readUshort(i,s),a.push(d),s+=4}return a},e.GPOS.readAnchorRecord=function(i,s){var o=e._bin,a={};return a.fmt=o.readUshort(i,s),a.x=o.readShort(i,s+2),a.y=o.readShort(i,s+4),a},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,u=o,f={};if(f.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&f.fmt<=2||s==6&&f.fmt<=2){var d=l.readUshort(i,o);o+=2,f.coverage=e._lctf.readCoverage(i,u+d)}if(s==1&&f.fmt>=1&&f.fmt<=2){if(f.fmt==1)f.delta=l.readShort(i,o),o+=2;else if(f.fmt==2){var p=l.readUshort(i,o);o+=2,f.newg=l.readUshorts(i,o,p),o+=2*f.newg.length}}else if(s==2&&f.fmt==1){p=l.readUshort(i,o),o+=2,f.seqs=[];for(var g=0;g<p;g++){var y=l.readUshort(i,o)+u;o+=2;var S=l.readUshort(i,y);f.seqs.push(l.readUshorts(i,y+2,S))}}else if(s==4)for(f.vals=[],p=l.readUshort(i,o),o+=2,g=0;g<p;g++){var _=l.readUshort(i,o);o+=2,f.vals.push(e.GSUB.readLigatureSet(i,u+_))}else if(s==5&&f.fmt==2){if(f.fmt==2){var x=l.readUshort(i,o);o+=2,f.cDef=e._lctf.readClassDef(i,u+x),f.scset=[];var b=l.readUshort(i,o);for(o+=2,g=0;g<b;g++){var w=l.readUshort(i,o);o+=2,f.scset.push(w==0?null:e.GSUB.readSubClassSet(i,u+w))}}}else if(s==6&&f.fmt==3){if(f.fmt==3){for(g=0;g<3;g++){p=l.readUshort(i,o),o+=2;for(var M=[],C=0;C<p;C++)M.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*C)));o+=2*p,g==0&&(f.backCvg=M),g==1&&(f.inptCvg=M),g==2&&(f.ahedCvg=M)}p=l.readUshort(i,o),o+=2,f.lookupRec=e.GSUB.readSubstLookupRecords(i,o,p)}}else{if(s==7&&f.fmt==1){var I=l.readUshort(i,o);o+=2;var B=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=I;else if(a.ltype!=I)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,u+B)}console.debug("unsupported GSUB table LookupType",s,"format",f.fmt)}return f},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],u=o(i,s);s+=2;for(var f=0;f<u;f++){var d=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+d))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),u=o(i,s+=2);s+=2,a.input=[];for(var f=0;f<l-1;f++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,u),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+d))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var f=o.readUshort(i,s);s+=2,u==1&&f--,a[l[u]]=o.readUshorts(i,s,f),s+=2*a[l[u]].length}return f=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*f),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+d))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var u=0;u<l-1;u++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,u={aWidth:[],lsBearing:[]},f=0,d=0,p=0;p<a.maxp.numGlyphs;p++)p<a.hhea.numberOfHMetrics&&(f=l.readUshort(i,s),s+=2,d=l.readShort(i,s),s+=2),u.aWidth.push(f),u.lsBearing.push(d);return u},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,u=l.readUshort(i,s);if(s+=2,u==1)return e.kern.parseV1(i,s-2,o,a);var f=l.readUshort(i,s);s+=2;for(var d={glyph1:[],rval:[]},p=0;p<f;p++){s+=2,o=l.readUshort(i,s),s+=2;var g=l.readUshort(i,s);s+=2;var y=g>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;s=e.kern.readFormat0(i,s,d)}return d},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var u=l.readUint(i,s);s+=4;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){l.readUint(i,s),s+=4;var p=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,f)}return f},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,u=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var g=a.readShort(i,s);s+=2,d!=l&&(o.glyph1.push(d),o.rval.push({glyph2:[],vals:[]}));var y=o.rval[o.rval.length-1];y.glyph2.push(p),y.vals.push(g),l=d}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,u=[],f=a.head.indexToLocFormat,d=a.maxp.numGlyphs+1;if(f==0)for(var p=0;p<d;p++)u.push(l.readUshort(i,s+(p<<1))<<1);if(f==1)for(p=0;p<d;p++)u.push(l.readUint(i,s+(p<<2)));return u},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},u=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,u==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var f,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],p=s+=2,g=0;g<u;g++){var y=a.readUshort(i,s);s+=2;var S=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var b=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var M,C=d[x],I=p+12*u+w;if(y==0)M=a.readUnicode(i,I,b/2);else if(y==3&&S==0)M=a.readUnicode(i,I,b/2);else if(S==0)M=a.readASCII(i,I,b);else if(S==1)M=a.readUnicode(i,I,b/2);else if(S==3)M=a.readUnicode(i,I,b/2);else{if(y!=1)throw"unknown encoding "+S+", platformID: "+y;M=a.readASCII(i,I,b),console.debug("reading unknown MAC encoding "+S+" as ASCII")}var B="p"+y+","+_.toString(16);l[B]==null&&(l[B]={}),l[B][C!==void 0?C:x]=M,l[B]._lang=_}for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==1033)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==0)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==3084)return l[P];for(var P in l)if(l[P].postScriptName!=null)return l[P];for(var P in l){f=P;break}return console.debug("returning name table with languageID "+l[f]._lang),l[f]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var u=-1,f=0;f<l.endCount.length;f++)if(s<=l.endCount[f]){u=f;break}return u==-1||l.startCount[u]>s?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[s-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:s+l.idDelta[u])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(f=0;f<l.groups.length;f++){var d=l.groups[f];if(d[0]<=s&&s<=d[1])return d[2]+(s-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,f=i.CFF.Private;if(u.ROS){for(var d=0;u.FDSelect[d+2]<=s;)d+=2;f=u.FDArray[u.FDSelect[d+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,u,f,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=a;u<=l;u++){var f=u==a?l:u-1,d=u==l?a:u+1,p=1&i.flags[u],g=1&i.flags[f],y=1&i.flags[d],S=i.xs[u],_=i.ys[u];if(u==a)if(p){if(!g){e.U.P.moveTo(s,S,_);continue}e.U.P.moveTo(s,i.xs[f],i.ys[f])}else g?e.U.P.moveTo(s,i.xs[f],i.ys[f]):e.U.P.moveTo(s,(i.xs[f]+S)/2,(i.ys[f]+_)/2);p?g&&e.U.P.lineTo(s,S,_):y?e.U.P.qcurveTo(s,S,_,i.xs[d],i.ys[d]):e.U.P.qcurveTo(s,S,_,(S+i.xs[d])/2,(_+i.ys[d])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},u=i.parts[a];e.U._drawGlyf(u.glyphIndex,s,l);for(var f=u.m,d=0;d<l.crds.length;d+=2){var p=l.crds[d],g=l.crds[d+1];o.crds.push(p*f.a+g*f.b+f.tx),o.crds.push(p*f.c+g*f.d+f.ty)}for(d=0;d<l.cmds.length;d++)o.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var f,d=o.tabs[u];if(!d.coverage||(f=e._lctf.coverageIndex(d.coverage,i[s]))!=-1){if(o.ltype==1)i[s],d.fmt==1?i[s]=i[s]+d.delta:i[s]=d.newg[f];else if(o.ltype==4)for(var p=d.vals[f],g=0;g<p.length;g++){var y=p[g],S=y.chain.length;if(!(S>l)){for(var _=!0,x=0,b=0;b<S;b++){for(;i[s+x+(1+b)]==-1;)x++;y.chain[b]!=i[s+x+(1+b)]&&(_=!1)}if(_){for(i[s]=y.nglyph,b=0;b<S+x;b++)i[s+b+1]=-1;break}}}else if(o.ltype==5&&d.fmt==2)for(var w=e._lctf.getInterval(d.cDef,i[s]),M=d.cDef[w+2],C=d.scset[M],I=0;I<C.length;I++){var B=C[I],P=B.input;if(!(P.length>l)){for(_=!0,b=0;b<P.length;b++){var L=e._lctf.getInterval(d.cDef,i[s+1+b]);if(w==-1&&d.cDef[L+2]!=P[b]){_=!1;break}}if(_){var E=B.substLookupRecords;for(g=0;g<E.length;g+=2)E[g],E[g+1]}}}else if(o.ltype==6&&d.fmt==3){if(!e.U._glsCovered(i,d.backCvg,s-d.backCvg.length)||!e.U._glsCovered(i,d.inptCvg,s)||!e.U._glsCovered(i,d.ahedCvg,s+d.inptCvg.length))continue;var O=d.lookupRec;for(I=0;I<O.length;I+=2){w=O[I];var U=a[O[I+1]];e.U._applySubs(i,s+w,U,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,u=0;u<s.length;u++){var f=s[u];if(f!=-1){for(var d=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,p=e.U.glyphToPath(i,f),g=0;g<p.crds.length;g+=2)a.crds.push(p.crds[g]+l),a.crds.push(p.crds[g+1]);for(o&&a.cmds.push(o),g=0;g<p.cmds.length;g++)a.cmds.push(p.cmds[g]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[f],u<s.length-1&&(l+=e.U.getPairAdjustment(i,f,d))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,u,f){i.cmds.push("C"),i.crds.push(s,o,a,l,u,f)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var u=s.stack,f=s.nStems,d=s.haveWidth,p=s.width,g=s.open,y=0,S=s.x,_=s.y,x=0,b=0,w=0,M=0,C=0,I=0,B=0,P=0,L=0,E=0,O={val:0,size:0};y<i.length;){e.CFF.getCharString(i,y,O);var U=O.val;if(y+=O.size,U=="o1"||U=="o18")u.length%2!=0&&!d&&(p=u.shift()+a.nominalWidthX),f+=u.length>>1,u.length=0,d=!0;else if(U=="o3"||U=="o23")u.length%2!=0&&!d&&(p=u.shift()+a.nominalWidthX),f+=u.length>>1,u.length=0,d=!0;else if(U=="o4")u.length>1&&!d&&(p=u.shift()+a.nominalWidthX,d=!0),g&&e.U.P.closePath(l),_+=u.pop(),e.U.P.moveTo(l,S,_),g=!0;else if(U=="o5")for(;u.length>0;)S+=u.shift(),_+=u.shift(),e.U.P.lineTo(l,S,_);else if(U=="o6"||U=="o7")for(var H=u.length,q=U=="o6",te=0;te<H;te++){var $=u.shift();q?S+=$:_+=$,q=!q,e.U.P.lineTo(l,S,_)}else if(U=="o8"||U=="o24"){H=u.length;for(var ie=0;ie+6<=H;)x=S+u.shift(),b=_+u.shift(),w=x+u.shift(),M=b+u.shift(),S=w+u.shift(),_=M+u.shift(),e.U.P.curveTo(l,x,b,w,M,S,_),ie+=6;U=="o24"&&(S+=u.shift(),_+=u.shift(),e.U.P.lineTo(l,S,_))}else{if(U=="o11")break;if(U=="o1234"||U=="o1235"||U=="o1236"||U=="o1237")U=="o1234"&&(b=_,w=(x=S+u.shift())+u.shift(),E=M=b+u.shift(),I=M,P=_,S=(B=(C=(L=w+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,x,b,w,M,L,E),e.U.P.curveTo(l,C,I,B,P,S,_)),U=="o1235"&&(x=S+u.shift(),b=_+u.shift(),w=x+u.shift(),M=b+u.shift(),L=w+u.shift(),E=M+u.shift(),C=L+u.shift(),I=E+u.shift(),B=C+u.shift(),P=I+u.shift(),S=B+u.shift(),_=P+u.shift(),u.shift(),e.U.P.curveTo(l,x,b,w,M,L,E),e.U.P.curveTo(l,C,I,B,P,S,_)),U=="o1236"&&(x=S+u.shift(),b=_+u.shift(),w=x+u.shift(),E=M=b+u.shift(),I=M,B=(C=(L=w+u.shift())+u.shift())+u.shift(),P=I+u.shift(),S=B+u.shift(),e.U.P.curveTo(l,x,b,w,M,L,E),e.U.P.curveTo(l,C,I,B,P,S,_)),U=="o1237"&&(x=S+u.shift(),b=_+u.shift(),w=x+u.shift(),M=b+u.shift(),L=w+u.shift(),E=M+u.shift(),C=L+u.shift(),I=E+u.shift(),B=C+u.shift(),P=I+u.shift(),Math.abs(B-S)>Math.abs(P-_)?S=B+u.shift():_=P+u.shift(),e.U.P.curveTo(l,x,b,w,M,L,E),e.U.P.curveTo(l,C,I,B,P,S,_));else if(U=="o14"){if(u.length>0&&!d&&(p=u.shift()+o.nominalWidthX,d=!0),u.length==4){var W=u.shift(),Y=u.shift(),Q=u.shift(),z=u.shift(),K=e.CFF.glyphBySE(o,Q),ae=e.CFF.glyphBySE(o,z);e.U._drawCFF(o.CharStrings[K],s,o,a,l),s.x=W,s.y=Y,e.U._drawCFF(o.CharStrings[ae],s,o,a,l)}g&&(e.U.P.closePath(l),g=!1)}else if(U=="o19"||U=="o20")u.length%2!=0&&!d&&(p=u.shift()+a.nominalWidthX),f+=u.length>>1,u.length=0,d=!0,y+=f+7>>3;else if(U=="o21")u.length>2&&!d&&(p=u.shift()+a.nominalWidthX,d=!0),_+=u.pop(),S+=u.pop(),g&&e.U.P.closePath(l),e.U.P.moveTo(l,S,_),g=!0;else if(U=="o22")u.length>1&&!d&&(p=u.shift()+a.nominalWidthX,d=!0),S+=u.pop(),g&&e.U.P.closePath(l),e.U.P.moveTo(l,S,_),g=!0;else if(U=="o25"){for(;u.length>6;)S+=u.shift(),_+=u.shift(),e.U.P.lineTo(l,S,_);x=S+u.shift(),b=_+u.shift(),w=x+u.shift(),M=b+u.shift(),S=w+u.shift(),_=M+u.shift(),e.U.P.curveTo(l,x,b,w,M,S,_)}else if(U=="o26")for(u.length%2&&(S+=u.shift());u.length>0;)x=S,b=_+u.shift(),S=w=x+u.shift(),_=(M=b+u.shift())+u.shift(),e.U.P.curveTo(l,x,b,w,M,S,_);else if(U=="o27")for(u.length%2&&(_+=u.shift());u.length>0;)b=_,w=(x=S+u.shift())+u.shift(),M=b+u.shift(),S=w+u.shift(),_=M,e.U.P.curveTo(l,x,b,w,M,S,_);else if(U=="o10"||U=="o29"){var Z=U=="o10"?a:o;if(u.length==0)console.debug("error: empty stack");else{var se=u.pop(),oe=Z.Subrs[se+Z.Bias];s.x=S,s.y=_,s.nStems=f,s.haveWidth=d,s.width=p,s.open=g,e.U._drawCFF(oe,s,o,a,l),S=s.x,_=s.y,f=s.nStems,d=s.haveWidth,p=s.width,g=s.open}}else if(U=="o30"||U=="o31"){var ue=u.length,ve=(ie=0,U=="o31");for(ie+=ue-(H=-3&ue);ie<H;)ve?(b=_,w=(x=S+u.shift())+u.shift(),_=(M=b+u.shift())+u.shift(),H-ie==5?(S=w+u.shift(),ie++):S=w,ve=!1):(x=S,b=_+u.shift(),w=x+u.shift(),M=b+u.shift(),S=w+u.shift(),H-ie==5?(_=M+u.shift(),ie++):_=M,ve=!0),e.U.P.curveTo(l,x,b,w,M,S,_),ie+=4}else{if((U+"").charAt(0)=="o")throw console.debug("Unknown operation: "+U,i),U;u.push(U)}}}s.x=S,s.y=_,s.nStems=f,s.haveWidth=d,s.width=p,s.open=g};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Sge(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(U,H){for(var q=new n(31),te=0;te<31;++te)q[te]=H+=1<<U[te-1];var $=new r(q[30]);for(te=1;te<30;++te)for(var ie=q[te];ie<q[te+1];++ie)$[ie]=ie-q[te]<<5|te;return[q,$]},l=a(i,2),u=l[0],f=l[1];u[28]=258,f[258]=28;for(var d=a(s,0)[0],p=new n(32768),g=0;g<32768;++g){var y=(43690&g)>>>1|(21845&g)<<1;y=(61680&(y=(52428&y)>>>2|(13107&y)<<2))>>>4|(3855&y)<<4,p[g]=((65280&y)>>>8|(255&y)<<8)>>>1}var S=function(U,H,q){for(var te=U.length,$=0,ie=new n(H);$<te;++$)++ie[U[$]-1];var W,Y=new n(H);for($=0;$<H;++$)Y[$]=Y[$-1]+ie[$-1]<<1;{W=new n(1<<H);var Q=15-H;for($=0;$<te;++$)if(U[$])for(var z=$<<4|U[$],K=H-U[$],ae=Y[U[$]-1]++<<K,Z=ae|(1<<K)-1;ae<=Z;++ae)W[p[ae]>>>Q]=z}return W},_=new e(288);for(g=0;g<144;++g)_[g]=8;for(g=144;g<256;++g)_[g]=9;for(g=256;g<280;++g)_[g]=7;for(g=280;g<288;++g)_[g]=8;var x=new e(32);for(g=0;g<32;++g)x[g]=5;var b=S(_,9),w=S(x,5),M=function(U){for(var H=U[0],q=1;q<U.length;++q)U[q]>H&&(H=U[q]);return H},C=function(U,H,q){var te=H/8|0;return(U[te]|U[te+1]<<8)>>(7&H)&q},I=function(U,H){var q=H/8|0;return(U[q]|U[q+1]<<8|U[q+2]<<16)>>(7&H)},B=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],P=function(U,H,q){var te=new Error(H||B[U]);if(te.code=U,Error.captureStackTrace&&Error.captureStackTrace(te,P),!q)throw te;return te},L=function(U,H,q){var te=U.length;if(!te||q&&!q.l&&te<5)return H||new e(0);var $=!H||q,ie=!q||q.i;q||(q={}),H||(H=new e(3*te));var W,Y=function($e){var pe=H.length;if($e>pe){var ze=new e(Math.max(2*pe,$e));ze.set(H),H=ze}},Q=q.f||0,z=q.p||0,K=q.b||0,ae=q.l,Z=q.d,se=q.m,oe=q.n,ue=8*te;do{if(!ae){q.f=Q=C(U,z,1);var ve=C(U,z+1,3);if(z+=3,!ve){var Be=U[(Fe=((W=z)/8|0)+(7&W&&1)+4)-4]|U[Fe-3]<<8,Le=Fe+Be;if(Le>te){ie&&P(0);break}$&&Y(K+Be),H.set(U.subarray(Fe,Le),K),q.b=K+=Be,q.p=z=8*Le;continue}if(ve==1)ae=b,Z=w,se=9,oe=5;else if(ve==2){var Ve=C(U,z,31)+257,xe=C(U,z+10,15)+4,Te=Ve+C(U,z+5,31)+1;z+=14;for(var re=new e(Te),nt=new e(19),ke=0;ke<xe;++ke)nt[o[ke]]=C(U,z+3*ke,7);z+=3*xe;var Ze=M(nt),Ae=(1<<Ze)-1,tt=S(nt,Ze);for(ke=0;ke<Te;){var Fe,J=tt[C(U,z,Ae)];if(z+=15&J,(Fe=J>>>4)<16)re[ke++]=Fe;else{var X=0,he=0;for(Fe==16?(he=3+C(U,z,3),z+=2,X=re[ke-1]):Fe==17?(he=3+C(U,z,7),z+=3):Fe==18&&(he=11+C(U,z,127),z+=7);he--;)re[ke++]=X}}var Se=re.subarray(0,Ve),Me=re.subarray(Ve);se=M(Se),oe=M(Me),ae=S(Se,se),Z=S(Me,oe)}else P(1);if(z>ue){ie&&P(0);break}}$&&Y(K+131072);for(var De=(1<<se)-1,qe=(1<<oe)-1,Ne=z;;Ne=z){var Ke=(X=ae[I(U,z)&De])>>>4;if((z+=15&X)>ue){ie&&P(0);break}if(X||P(2),Ke<256)H[K++]=Ke;else{if(Ke==256){Ne=z,ae=null;break}var ft=Ke-254;if(Ke>264){var Xe=i[ke=Ke-257];ft=C(U,z,(1<<Xe)-1)+u[ke],z+=Xe}var ot=Z[I(U,z)&qe],at=ot>>>4;if(ot||P(3),z+=15&ot,Me=d[at],at>3&&(Xe=s[at],Me+=I(U,z)&(1<<Xe)-1,z+=Xe),z>ue){ie&&P(0);break}$&&Y(K+131072);for(var mt=K+ft;K<mt;K+=4)H[K]=H[K-Me],H[K+1]=H[K+1-Me],H[K+2]=H[K+2-Me],H[K+3]=H[K+3-Me];K=mt}}q.l=ae,q.p=Ne,q.b=K,ae&&(Q=1,q.m=se,q.d=Z,q.n=oe)}while(!Q);return K==H.length?H:function($e,pe,ze){(ze==null||ze>$e.length)&&(ze=$e.length);var vt=new($e instanceof n?n:$e instanceof r?r:e)(ze-pe);return vt.set($e.subarray(pe,ze)),vt}(H,0,K)},E=new e(0),O=typeof TextDecoder<"u"&&new TextDecoder;try{O.decode(E,{stream:!0})}catch{}return t.convert_streams=function(U){var H=new DataView(U),q=0;function te(){var Ve=H.getUint16(q);return q+=2,Ve}function $(){var Ve=H.getUint32(q);return q+=4,Ve}function ie(Ve){Be.setUint16(Le,Ve),Le+=2}function W(Ve){Be.setUint32(Le,Ve),Le+=4}for(var Y={signature:$(),flavor:$(),length:$(),numTables:te(),reserved:te(),totalSfntSize:$(),majorVersion:te(),minorVersion:te(),metaOffset:$(),metaLength:$(),metaOrigLength:$(),privOffset:$(),privLength:$()},Q=0;Math.pow(2,Q)<=Y.numTables;)Q++;Q--;for(var z=16*Math.pow(2,Q),K=16*Y.numTables-z,ae=12,Z=[],se=0;se<Y.numTables;se++)Z.push({tag:$(),offset:$(),compLength:$(),origLength:$(),origChecksum:$()}),ae+=16;var oe,ue=new Uint8Array(12+16*Z.length+Z.reduce(function(Ve,xe){return Ve+xe.origLength+4},0)),ve=ue.buffer,Be=new DataView(ve),Le=0;return W(Y.flavor),ie(Y.numTables),ie(z),ie(Q),ie(K),Z.forEach(function(Ve){W(Ve.tag),W(Ve.origChecksum),W(ae),W(Ve.origLength),Ve.outOffset=ae,(ae+=Ve.origLength)%4!=0&&(ae+=4-ae%4)}),Z.forEach(function(Ve){var xe,Te=U.slice(Ve.offset,Ve.offset+Ve.compLength);if(Ve.compLength!=Ve.origLength){var re=new Uint8Array(Ve.origLength);xe=new Uint8Array(Te,2),L(xe,re)}else re=new Uint8Array(Te);ue.set(re,Ve.outOffset);var nt=0;(ae=Ve.outOffset+Ve.origLength)%4!=0&&(nt=4-ae%4),ue.set(new Uint8Array(nt).buffer,Ve.outOffset+Ve.origLength),oe=ae+nt}),ve.slice(0,oe)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function Age(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,u=32;let f;function d(B){if(!f){const P={R:s,L:i,D:o,C:l,U:u,T:a};f=new Map;for(let L in r){let E=0;r[L].split(",").forEach(O=>{let[U,H]=O.split("+");U=parseInt(U,36),H=H?parseInt(H,36):0,f.set(E+=U,P[L]);for(let q=H;q--;)f.set(++E,P[L])})}}return f.get(B)||u}const p=1,g=2,y=3,S=4,_=[null,"isol","init","fina","medi"];function x(B){const P=new Uint8Array(B.length);let L=u,E=p,O=-1;for(let U=0;U<B.length;U++){const H=B.codePointAt(U);let q=d(H)|0,te=p;q&a||(L&(i|o|l)?q&(s|o|l)?(te=y,(E===p||E===y)&&P[O]++):q&(i|u)&&(E===g||E===S)&&P[O]--:L&(s|u)&&(E===g||E===S)&&P[O]--,E=P[U]=te,L=q,O=U,H>65535&&U++)}return P}function b(B,P){const L=[];for(let O=0;O<P.length;O++){const U=P.codePointAt(O);U>65535&&O++,L.push(t.U.codeToGlyph(B,U))}const E=B.GSUB;if(E){const{lookupList:O,featureList:U}=E;let H;const q=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,te=[];U.forEach($=>{if(q.test($.tag))for(let ie=0;ie<$.tab.length;ie++){if(te[$.tab[ie]])continue;te[$.tab[ie]]=!0;const W=O[$.tab[ie]],Y=/^(isol|init|fina|medi)$/.test($.tag);Y&&!H&&(H=x(P));for(let Q=0;Q<L.length;Q++)(!H||!Y||_[H[Q]]===$.tag)&&t.U._applySubs(L,Q,W,O)}})}return L}function w(B,P){const L=new Int16Array(P.length*3);let E=0;for(;E<P.length;E++){const q=P[E];if(q===-1)continue;L[E*3+2]=B.hmtx.aWidth[q];const te=B.GPOS;if(te){const $=te.lookupList;for(let ie=0;ie<$.length;ie++){const W=$[ie];for(let Y=0;Y<W.tabs.length;Y++){const Q=W.tabs[Y];if(W.ltype===1){if(t._lctf.coverageIndex(Q.coverage,q)!==-1&&Q.pos){H(Q.pos,E);break}}else if(W.ltype===2){let z=null,K=O();if(K!==-1){const ae=t._lctf.coverageIndex(Q.coverage,P[K]);if(ae!==-1){if(Q.fmt===1){const Z=Q.pairsets[ae];for(let se=0;se<Z.length;se++)Z[se].gid2===q&&(z=Z[se])}else if(Q.fmt===2){const Z=t.U._getGlyphClass(P[K],Q.classDef1),se=t.U._getGlyphClass(q,Q.classDef2);z=Q.matrix[Z][se]}if(z){z.val1&&H(z.val1,K),z.val2&&H(z.val2,E);break}}}}else if(W.ltype===4){const z=t._lctf.coverageIndex(Q.markCoverage,q);if(z!==-1){const K=O(U),ae=K===-1?-1:t._lctf.coverageIndex(Q.baseCoverage,P[K]);if(ae!==-1){const Z=Q.markArray[z],se=Q.baseArray[ae][Z.markClass];L[E*3]=se.x-Z.x+L[K*3]-L[K*3+2],L[E*3+1]=se.y-Z.y+L[K*3+1];break}}}else if(W.ltype===6){const z=t._lctf.coverageIndex(Q.mark1Coverage,q);if(z!==-1){const K=O();if(K!==-1){const ae=P[K];if(M(B,ae)===3){const Z=t._lctf.coverageIndex(Q.mark2Coverage,ae);if(Z!==-1){const se=Q.mark1Array[z],oe=Q.mark2Array[Z][se.markClass];L[E*3]=oe.x-se.x+L[K*3]-L[K*3+2],L[E*3+1]=oe.y-se.y+L[K*3+1];break}}}}}}}}else if(B.kern&&!B.cff){const $=O();if($!==-1){const ie=B.kern.glyph1.indexOf(P[$]);if(ie!==-1){const W=B.kern.rval[ie].glyph2.indexOf(q);W!==-1&&(L[$*3+2]+=B.kern.rval[ie].vals[W])}}}}return L;function O(q){for(let te=E-1;te>=0;te--)if(P[te]!==-1&&(!q||q(P[te])))return te;return-1}function U(q){return M(B,q)===1}function H(q,te){for(let $=0;$<3;$++)L[te*3+$]+=q[$]||0}}function M(B,P){const L=B.GDEF&&B.GDEF.glyphClassDef;return L?t.U._getGlyphClass(P,L):0}function C(...B){for(let P=0;P<B.length;P++)if(typeof B[P]=="number")return B[P]}function I(B){const P=Object.create(null),L=B["OS/2"],E=B.hhea,O=B.head.unitsPerEm,U=C(L&&L.sTypoAscender,E&&E.ascender,O),H={unitsPerEm:O,ascender:U,descender:C(L&&L.sTypoDescender,E&&E.descender,0),capHeight:C(L&&L.sCapHeight,U),xHeight:C(L&&L.sxHeight,U),lineGap:C(L&&L.sTypoLineGap,E&&E.lineGap),supportsCodePoint(q){return t.U.codeToGlyph(B,q)>0},forEachGlyph(q,te,$,ie){let W=0;const Y=1/H.unitsPerEm*te,Q=b(B,q);let z=0;const K=w(B,Q);return Q.forEach((ae,Z)=>{if(ae!==-1){let se=P[ae];if(!se){const{cmds:oe,crds:ue}=t.U.glyphToPath(B,ae);let ve="",Be=0;for(let re=0,nt=oe.length;re<nt;re++){const ke=n[oe[re]];ve+=oe[re];for(let Ze=1;Ze<=ke;Ze++)ve+=(Ze>1?",":"")+ue[Be++]}let Le,Ve,xe,Te;if(ue.length){Le=Ve=1/0,xe=Te=-1/0;for(let re=0,nt=ue.length;re<nt;re+=2){let ke=ue[re],Ze=ue[re+1];ke<Le&&(Le=ke),Ze<Ve&&(Ve=Ze),ke>xe&&(xe=ke),Ze>Te&&(Te=Ze)}}else Le=xe=Ve=Te=0;se=P[ae]={index:ae,advanceWidth:B.hmtx.aWidth[ae],xMin:Le,yMin:Ve,xMax:xe,yMax:Te,path:ve}}ie.call(null,se,W+K[Z*3]*Y,K[Z*3+1]*Y,z),W+=K[Z*3+2]*Y,$&&(W+=$*te)}z+=q.codePointAt(z)>65535?2:1}),W}};return H}return function(P){const L=new Uint8Array(P,0,4),E=t._bin.readASCII(L,0,4);if(E==="wOFF")P=e(P);else if(E==="wOF2")throw new Error("woff2 fonts not supported");return I(t.parse(P)[0])}}const wge=Xm({name:"Typr Font Parser",dependencies:[_ge,Sge,Age],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function bge(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(w){var M=w>>5;this.buckets.set(M,(this.buckets.get(M)||0)|1<<(31&w))},e.prototype.has=function(w){var M=this.buckets.get(w>>5);return M!==void 0&&(M&1<<(31&w))!=0},e.prototype.serialize=function(){var w=[];return this.buckets.forEach(function(M,C){w.push((+C).toString(36)+":"+M.toString(36))}),w.join(",")},e.prototype.deserialize=function(w){var M=this;this.buckets.clear(),w.split(",").forEach(function(C){var I=C.split(":");M.buckets.set(parseInt(I[0],36),parseInt(I[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function s(w){var M=function(I){return I&i}(w).toString(16),C=function(I){return(I&i)+n-1}(w).toString(16);return"codepoint-index/plane"+(w>>16)+"/"+M+"-"+C+".json"}function o(w,M){var C=w&r,I=M.codePointAt(C/6|0);return((I=(I||48)-48)&1<<C%6)!=0}function a(w,M){var C;(C=w,C.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(I){return I.split("-").map(function(B){return parseInt(B.trim(),16)})})).forEach(function(I){var B=I[0],P=I[1];P===void 0&&(P=B),M(B,P)})}function l(w,M){a(w,function(C,I){for(var B=C;B<=I;B++)M(B)})}var u={},f={},d=new WeakMap,p="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function g(w){var M=d.get(w);return M||(M=new e,l(w.ranges,function(C){return M.add(C)}),d.set(w,M)),M}var y,S=new Map;function _(w,M,C){return w[M]?M:w[C]?C:function(I){for(var B in I)return B}(w)}function x(w,M){var C=M;if(!w.includes(C)){C=1/0;for(var I=0;I<w.length;I++)Math.abs(w[I]-M)<Math.abs(C-M)&&(C=w[I])}return C}function b(w){return y||(y=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(M){y.add(M)})),y.has(w)}return t.CodePointSet=e,t.clearCache=function(){u={},f={}},t.getFontsForString=function(w,M){M===void 0&&(M={});var C,I=M.lang;I===void 0&&(I=new RegExp("\\p{Script=Hangul}","u").test(C=w)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(C)?"ja":"en");var B=M.category;B===void 0&&(B="sans-serif");var P=M.style;P===void 0&&(P="normal");var L=M.weight;L===void 0&&(L=400);var E=(M.dataUrl||p).replace(/\/$/g,""),O=new Map,U=new Uint8Array(w.length),H={},q={},te=new Array(w.length),$=new Map,ie=!1;function W(z){var K=S.get(z);return K||(K=fetch(E+"/"+z).then(function(ae){if(!ae.ok)throw new Error(ae.statusText);return ae.json().then(function(Z){if(!Array.isArray(Z)||Z[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Z[0]);return Z[1]})}).catch(function(ae){if(E!==p)return ie||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+E+'", trying default CDN. '+ae.message),ie=!0),E=p,S.delete(z),W(z);throw ae}),S.set(z,K)),K}for(var Y=function(z){var K=w.codePointAt(z),ae=s(K);te[z]=ae,u[ae]||$.has(ae)||$.set(ae,W(ae).then(function(Z){u[ae]=Z})),K>65535&&(z++,Q=z)},Q=0;Q<w.length;Q++)Y(Q);return Promise.all($.values()).then(function(){$.clear();for(var z=function(ae){var Z=w.codePointAt(ae),se=null,oe=u[te[ae]],ue=void 0;for(var ve in oe){var Be=q[ve];if(Be===void 0&&(Be=q[ve]=new RegExp(ve).test(I||"en")),Be){for(var Le in ue=ve,oe[ve])if(o(Z,oe[ve][Le])){se=Le;break}break}}if(!se){e:for(var Ve in oe)if(Ve!==ue){for(var xe in oe[Ve])if(o(Z,oe[Ve][xe])){se=xe;break e}}}se||(console.debug("No font coverage for U+"+Z.toString(16)),se="latin"),te[ae]=se,f[se]||$.has(se)||$.set(se,W("font-meta/"+se+".json").then(function(Te){f[se]=Te})),Z>65535&&(ae++,K=ae)},K=0;K<w.length;K++)z(K);return Promise.all($.values())}).then(function(){for(var z,K=null,ae=0;ae<w.length;ae++){var Z=w.codePointAt(ae);if(K&&(b(Z)||g(K).has(Z)))U[ae]=U[ae-1];else{K=f[te[ae]];var se=H[K.id];if(!se){var oe=K.typeforms,ue=_(oe,B,"sans-serif"),ve=_(oe[ue],P,"normal"),Be=x((z=oe[ue])===null||z===void 0?void 0:z[ve],L);se=H[K.id]=E+"/font-files/"+K.id+"/"+ue+"."+ve+"."+Be+".woff"}var Le=O.get(se);Le==null&&(Le=O.size,O.set(se,Le)),U[ae]=Le}Z>65535&&(ae++,U[ae]=U[ae-1])}return{fontUrls:Array.from(O.keys()),chars:U}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function Mge(t,e){const n=Object.create(null),r=Object.create(null);function i(o,a){const l=u=>{console.error(`Failure loading font ${o}`,u)};try{const u=new XMLHttpRequest;u.open("get",o,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const f=t(u.response);f.src=o,a(f)}catch(f){l(f)}},u.onerror=l,u.send()}catch(u){l(u)}}function s(o,a){let l=n[o];l?a(l):r[o]?r[o].push(a):(r[o]=[a],i(o,u=>{u.src=o,n[o]=u,r[o].forEach(f=>f(u)),delete r[o]}))}return function(o,a,{lang:l,fonts:u=[],style:f="normal",weight:d="normal",unicodeFontsURL:p}={}){const g=new Uint8Array(o.length),y=[];o.length||b();const S=new Map,_=[];if(f!=="italic"&&(f="normal"),typeof d!="number"&&(d=d==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(M=>!M.lang||M.lang.test(l)).reverse(),u.length){let B=0;(function P(L=0){for(let E=L,O=o.length;E<O;E++){const U=o.codePointAt(E);if(B===1&&y[g[E-1]].supportsCodePoint(U)||E>0&&/\s/.test(o[E]))g[E]=g[E-1],B===2&&(_[_.length-1][1]=E);else for(let H=g[E],q=u.length;H<=q;H++)if(H===q){const te=B===2?_[_.length-1]:_[_.length]=[E,E];te[1]=E,B=2}else{g[E]=H;const{src:te,unicodeRange:$}=u[H];if(!$||w(U,$)){const ie=n[te];if(!ie){s(te,()=>{P(E)});return}if(ie.supportsCodePoint(U)){let W=S.get(ie);typeof W!="number"&&(W=y.length,y.push(ie),S.set(ie,W)),g[E]=W,B=1;break}}}U>65535&&E+1<O&&(g[E+1]=g[E],E++,B===2&&(_[_.length-1][1]=E))}x()})()}else _.push([0,o.length-1]),x();function x(){if(_.length){const M=_.map(C=>o.substring(C[0],C[1]+1)).join(`
`);e.getFontsForString(M,{lang:l||void 0,style:f,weight:d,dataUrl:p}).then(({fontUrls:C,chars:I})=>{const B=y.length;let P=0;_.forEach(E=>{for(let O=0,U=E[1]-E[0];O<=U;O++)g[E[0]+O]=I[P++]+B;P++});let L=0;C.forEach((E,O)=>{s(E,U=>{y[O+B]=U,++L===C.length&&b()})})})}else b()}function b(){a({chars:g,fonts:y})}function w(M,C){for(let I=0;I<C.length;I++){const[B,P=B]=C[I];if(B<=M&&M<=P)return!0}return!1}}}const Ege=Xm({name:"FontResolver",dependencies:[Mge,wge,bge],init(t,e,n){return t(e,n())}});function Cge(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:y,lang:S,fonts:_,style:x,weight:b,preResolvedFonts:w,unicodeFontsURL:M},C){const I=({chars:B,fonts:P})=>{let L,E;const O=[];for(let U=0;U<B.length;U++)B[U]!==E?(E=B[U],O.push(L={start:U,end:U,fontObj:P[B[U]]})):L.end=U;C(O)};w?I(w):t(y,I,{lang:S,fonts:_,style:x,weight:b,unicodeFontsURL:M})}function a({text:y="",font:S,lang:_,sdfGlyphSize:x=64,fontSize:b=400,fontWeight:w=1,fontStyle:M="normal",letterSpacing:C=0,lineHeight:I="normal",maxWidth:B=1/0,direction:P,textAlign:L="left",textIndent:E=0,whiteSpace:O="normal",overflowWrap:U="normal",anchorX:H=0,anchorY:q=0,metricsOnly:te=!1,unicodeFontsURL:$,preResolvedFonts:ie=null,includeCaretPositions:W=!1,chunkedBoundsSize:Y=8192,colorRanges:Q=null},z){const K=d(),ae={fontLoad:0,typesetting:0};y.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),y=y.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),b=+b,C=+C,B=+B,I=I||"normal",E=+E,o({text:y,lang:_,style:M,weight:w,fonts:typeof S=="string"?[{src:S}]:S,unicodeFontsURL:$,preResolvedFonts:ie},Z=>{ae.fontLoad=d()-K;const se=isFinite(B);let oe=null,ue=null,ve=null,Be=null,Le=null,Ve=null,xe=null,Te=null,re=0,nt=0,ke=O!=="nowrap";const Ze=new Map,Ae=d();let tt=E,Fe=0,J=new p;const X=[J];Z.forEach(qe=>{const{fontObj:Ne}=qe,{ascender:Ke,descender:ft,unitsPerEm:Xe,lineGap:ot,capHeight:at,xHeight:mt}=Ne;let $e=Ze.get(Ne);if(!$e){const je=b/Xe,Ie=I==="normal"?(Ke-ft+ot)*je:I*b,Ye=(Ie-(Ke-ft)*je)/2,ut=Math.min(Ie,(Ke-ft)*je),st=(Ke+ft)/2*je+ut/2;$e={index:Ze.size,src:Ne.src,fontObj:Ne,fontSizeMult:je,unitsPerEm:Xe,ascender:Ke*je,descender:ft*je,capHeight:at*je,xHeight:mt*je,lineHeight:Ie,baseline:-Ye-Ke*je,caretTop:st,caretBottom:st-ut},Ze.set(Ne,$e)}const{fontSizeMult:pe}=$e,ze=y.slice(qe.start,qe.end+1);let vt,de;Ne.forEachGlyph(ze,b,C,(je,Ie,Ye,ut)=>{Ie+=Fe,ut+=qe.start,vt=Ie,de=je;const st=y.charAt(ut),Mt=je.advanceWidth*pe,Vt=J.count;let ce;if("isEmpty"in je||(je.isWhitespace=!!st&&new RegExp(i).test(st),je.canBreakAfter=!!st&&s.test(st),je.isEmpty=je.xMin===je.xMax||je.yMin===je.yMax||r.test(st)),!je.isWhitespace&&!je.isEmpty&&nt++,ke&&se&&!je.isWhitespace&&Ie+Mt+tt>B&&Vt){if(J.glyphAt(Vt-1).glyphObj.canBreakAfter)ce=new p,tt=-Ie;else for(let Pe=Vt;Pe--;)if(Pe===0&&U==="break-word"){ce=new p,tt=-Ie;break}else if(J.glyphAt(Pe).glyphObj.canBreakAfter){ce=J.splitAt(Pe+1);const Qe=ce.glyphAt(0).x;tt-=Qe;for(let dt=ce.count;dt--;)ce.glyphAt(dt).x-=Qe;break}ce&&(J.isSoftWrapped=!0,J=ce,X.push(J),re=B)}let ge=J.glyphAt(J.count);ge.glyphObj=je,ge.x=Ie+tt,ge.y=Ye,ge.width=Mt,ge.charIndex=ut,ge.fontData=$e,st===`
`&&(J=new p,X.push(J),tt=-(Ie+Mt+C*b)+E)}),Fe=vt+de.advanceWidth*pe+C*b});let he=0;X.forEach(qe=>{let Ne=!0;for(let Ke=qe.count;Ke--;){const ft=qe.glyphAt(Ke);Ne&&!ft.glyphObj.isWhitespace&&(qe.width=ft.x+ft.width,qe.width>re&&(re=qe.width),Ne=!1);let{lineHeight:Xe,capHeight:ot,xHeight:at,baseline:mt}=ft.fontData;Xe>qe.lineHeight&&(qe.lineHeight=Xe);const $e=mt-qe.baseline;$e<0&&(qe.baseline+=$e,qe.cap+=$e,qe.ex+=$e),qe.cap=Math.max(qe.cap,qe.baseline+ot),qe.ex=Math.max(qe.ex,qe.baseline+at)}qe.baseline-=he,qe.cap-=he,qe.ex-=he,he+=qe.lineHeight});let Se=0,Me=0;if(H&&(typeof H=="number"?Se=-H:typeof H=="string"&&(Se=-re*(H==="left"?0:H==="center"?.5:H==="right"?1:u(H)))),q&&(typeof q=="number"?Me=-q:typeof q=="string"&&(Me=q==="top"?0:q==="top-baseline"?-X[0].baseline:q==="top-cap"?-X[0].cap:q==="top-ex"?-X[0].ex:q==="middle"?he/2:q==="bottom"?he:q==="bottom-baseline"?-X[X.length-1].baseline:u(q)*he)),!te){const qe=e.getEmbeddingLevels(y,P);oe=new Uint16Array(nt),ue=new Uint8Array(nt),ve=new Float32Array(nt*2),Be={},xe=[1/0,1/0,-1/0,-1/0],Te=[],W&&(Ve=new Float32Array(y.length*4)),Q&&(Le=new Uint8Array(nt*3));let Ne=0,Ke=-1,ft=-1,Xe,ot;if(X.forEach((at,mt)=>{let{count:$e,width:pe}=at;if($e>0){let ze=0;for(let ut=$e;ut--&&at.glyphAt(ut).glyphObj.isWhitespace;)ze++;let vt=0,de=0;if(L==="center")vt=(re-pe)/2;else if(L==="right")vt=re-pe;else if(L==="justify"&&at.isSoftWrapped){let ut=0;for(let st=$e-ze;st--;)at.glyphAt(st).glyphObj.isWhitespace&&ut++;de=(re-pe)/ut}if(de||vt){let ut=0;for(let st=0;st<$e;st++){let Mt=at.glyphAt(st);const Vt=Mt.glyphObj;Mt.x+=vt+ut,de!==0&&Vt.isWhitespace&&st<$e-ze&&(ut+=de,Mt.width+=de)}}const je=e.getReorderSegments(y,qe,at.glyphAt(0).charIndex,at.glyphAt(at.count-1).charIndex);for(let ut=0;ut<je.length;ut++){const[st,Mt]=je[ut];let Vt=1/0,ce=-1/0;for(let ge=0;ge<$e;ge++)if(at.glyphAt(ge).charIndex>=st){let Pe=ge,Qe=ge;for(;Qe<$e;Qe++){let dt=at.glyphAt(Qe);if(dt.charIndex>Mt)break;Qe<$e-ze&&(Vt=Math.min(Vt,dt.x),ce=Math.max(ce,dt.x+dt.width))}for(let dt=Pe;dt<Qe;dt++){const Ot=at.glyphAt(dt);Ot.x=ce-(Ot.x+Ot.width-Vt)}break}}let Ie;const Ye=ut=>Ie=ut;for(let ut=0;ut<$e;ut++){const st=at.glyphAt(ut);Ie=st.glyphObj;const Mt=Ie.index,Vt=qe.levels[st.charIndex]&1;if(Vt){const ce=e.getMirroredCharacter(y[st.charIndex]);ce&&st.fontData.fontObj.forEachGlyph(ce,0,0,Ye)}if(W){const{charIndex:ce,fontData:ge}=st,Pe=st.x+Se,Qe=st.x+st.width+Se;Ve[ce*4]=Vt?Qe:Pe,Ve[ce*4+1]=Vt?Pe:Qe,Ve[ce*4+2]=at.baseline+ge.caretBottom+Me,Ve[ce*4+3]=at.baseline+ge.caretTop+Me;const dt=ce-Ke;dt>1&&f(Ve,Ke,dt),Ke=ce}if(Q){const{charIndex:ce}=st;for(;ce>ft;)ft++,Q.hasOwnProperty(ft)&&(ot=Q[ft])}if(!Ie.isWhitespace&&!Ie.isEmpty){const ce=Ne++,{fontSizeMult:ge,src:Pe,index:Qe}=st.fontData,dt=Be[Pe]||(Be[Pe]={});dt[Mt]||(dt[Mt]={path:Ie.path,pathBounds:[Ie.xMin,Ie.yMin,Ie.xMax,Ie.yMax]});const Ot=st.x+Se,Lt=st.y+at.baseline+Me;ve[ce*2]=Ot,ve[ce*2+1]=Lt;const Et=Ot+Ie.xMin*ge,Dt=Lt+Ie.yMin*ge,St=Ot+Ie.xMax*ge,Pt=Lt+Ie.yMax*ge;Et<xe[0]&&(xe[0]=Et),Dt<xe[1]&&(xe[1]=Dt),St>xe[2]&&(xe[2]=St),Pt>xe[3]&&(xe[3]=Pt),ce%Y===0&&(Xe={start:ce,end:ce,rect:[1/0,1/0,-1/0,-1/0]},Te.push(Xe)),Xe.end++;const kt=Xe.rect;if(Et<kt[0]&&(kt[0]=Et),Dt<kt[1]&&(kt[1]=Dt),St>kt[2]&&(kt[2]=St),Pt>kt[3]&&(kt[3]=Pt),oe[ce]=Mt,ue[ce]=Qe,Q){const on=ce*3;Le[on]=ot>>16&255,Le[on+1]=ot>>8&255,Le[on+2]=ot&255}}}}}),Ve){const at=y.length-Ke;at>1&&f(Ve,Ke,at)}}const De=[];Ze.forEach(({index:qe,src:Ne,unitsPerEm:Ke,ascender:ft,descender:Xe,lineHeight:ot,capHeight:at,xHeight:mt})=>{De[qe]={src:Ne,unitsPerEm:Ke,ascender:ft,descender:Xe,lineHeight:ot,capHeight:at,xHeight:mt}}),ae.typesetting=d()-Ae,z({glyphIds:oe,glyphFontIndices:ue,glyphPositions:ve,glyphData:Be,fontData:De,caretPositions:Ve,glyphColors:Le,chunkedBounds:Te,fontSize:b,topBaseline:Me+X[0].baseline,blockBounds:[Se,Me-he,Se+re,Me],visibleBounds:xe,timings:ae})})}function l(y,S){a({...y,metricsOnly:!0},_=>{const[x,b,w,M]=_.blockBounds;S({width:w-x,height:M-b})})}function u(y){let S=y.match(/^([\d.]+)%$/),_=S?parseFloat(S[1]):NaN;return isNaN(_)?0:_/100}function f(y,S,_){const x=y[S*4],b=y[S*4+1],w=y[S*4+2],M=y[S*4+3],C=(b-x)/_;for(let I=0;I<_;I++){const B=(S+I)*4;y[B]=x+C*I,y[B+1]=x+C*(I+1),y[B+2]=w,y[B+3]=M}}function d(){return(self.performance||Date).now()}function p(){this.data=[]}const g=["glyphObj","x","y","width","charIndex","fontData"];return p.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/g.length)},glyphAt(y){let S=p.flyweight;return S.data=this.data,S.index=y,S},splitAt(y){let S=new p;return S.data=this.data.splice(y*g.length),S}},p.flyweight=g.reduce((y,S,_,x)=>(Object.defineProperty(y,S,{get(){return this.data[this.index*g.length+_]},set(b){this.data[this.index*g.length+_]=b}}),y),{data:null,index:0}),{typeset:a,measure:l}}const th=()=>(self.performance||Date).now(),qA=IV();let SU;function Tge(t,e,n,r,i,s,o,a,l,u,f=!0){return f?Pge(t,e,n,r,i,s,o,a,l,u).then(null,d=>(SU||(console.warn("WebGL SDF generation failed, falling back to JS",d),SU=!0),wU(t,e,n,r,i,s,o,a,l,u))):wU(t,e,n,r,i,s,o,a,l,u)}const o1=[],Rge=5;let VT=0;function DV(){const t=th();for(;o1.length&&th()-t<Rge;)o1.shift()();VT=o1.length?setTimeout(DV,0):0}const Pge=(...t)=>new Promise((e,n)=>{o1.push(()=>{const r=th();try{qA.webgl.generateIntoCanvas(...t),e({timing:th()-r})}catch(i){n(i)}}),VT||(VT=setTimeout(DV,0))}),Ige=4,Bge=2e3,AU={};let Dge=0;function wU(t,e,n,r,i,s,o,a,l,u){const f="TroikaTextSDFGenerator_JS_"+Dge++%Ige;let d=AU[f];return d||(d=AU[f]={workerModule:Xm({name:f,workerId:f,dependencies:[IV,th],init(p,g){const y=p().javascript.generate;return function(...S){const _=g();return{textureData:y(...S),timing:g()-_}}},getTransferables(p){return[p.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(t,e,n,r,i,s).then(({textureData:p,timing:g})=>{const y=th(),S=new Uint8Array(p.length*4);for(let _=0;_<p.length;_++)S[_*4+u]=p[_];return qA.webglUtils.renderImageData(o,S,a,l,t,e,1<<3-u),g+=th()-y,--d.requests===0&&(d.idleTimer=setTimeout(()=>{cge(f)},Bge)),{timing:g}})}function Lge(t){t._warm||(qA.webgl.isSupported(t),t._warm=!0)}const Fge=qA.webglUtils.resizeWebGLCanvasWithoutClearing,Pv={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Oge=new Tt;function Vp(){return(self.performance||Date).now()}const bU=Object.create(null);function LV(t,e){t=Nge({},t);const n=Vp(),r=[];if(t.font&&r.push({label:"user",src:zge(t.font)}),t.font=r,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Pv.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||Pv.unicodeFontsURL,t.colorRanges!=null){let p={};for(let g in t.colorRanges)if(t.colorRanges.hasOwnProperty(g)){let y=t.colorRanges[g];typeof y!="number"&&(y=Oge.set(y).getHex()),p[g]=y}t.colorRanges=p}Object.freeze(t);const{textureWidth:i,sdfExponent:s}=Pv,{sdfGlyphSize:o}=t,a=i/o*4;let l=bU[o];if(!l){const p=document.createElement("canvas");p.width=i,p.height=o*256/a,l=bU[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:p,sdfTexture:new Rr(p,void 0,void 0,void 0,zr,zr),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,kge(l)}const{sdfTexture:u,sdfCanvas:f}=l;kV(t).then(p=>{const{glyphIds:g,glyphFontIndices:y,fontData:S,glyphPositions:_,fontSize:x,timings:b}=p,w=[],M=new Float32Array(g.length*4);let C=0,I=0;const B=Vp(),P=S.map(H=>{let q=l.glyphsByFont.get(H.src);return q||l.glyphsByFont.set(H.src,q=new Map),q});g.forEach((H,q)=>{const te=y[q],{src:$,unitsPerEm:ie}=S[te];let W=P[te].get(H);if(!W){const{path:ae,pathBounds:Z}=p.glyphData[$][H],se=Math.max(Z[2]-Z[0],Z[3]-Z[1])/o*(Pv.sdfMargin*o+.5),oe=l.glyphCount++,ue=[Z[0]-se,Z[1]-se,Z[2]+se,Z[3]+se];P[te].set(H,W={path:ae,atlasIndex:oe,sdfViewBox:ue}),w.push(W)}const{sdfViewBox:Y}=W,Q=_[I++],z=_[I++],K=x/ie;M[C++]=Q+Y[0]*K,M[C++]=z+Y[1]*K,M[C++]=Q+Y[2]*K,M[C++]=z+Y[3]*K,g[q]=W.atlasIndex}),b.quads=(b.quads||0)+(Vp()-B);const L=Vp();b.sdf={};const E=f.height,O=Math.ceil(l.glyphCount/a),U=Math.pow(2,Math.ceil(Math.log2(O*o)));U>E&&(console.info(`Increasing SDF texture size ${E}->${U}`),Fge(f,i,U),u.dispose()),Promise.all(w.map(H=>FV(H,l,t.gpuAccelerateSDF).then(({timing:q})=>{b.sdf[H.atlasIndex]=q}))).then(()=>{w.length&&!l.contextLost&&(OV(l),u.needsUpdate=!0),b.sdfTotal=Vp()-L,b.total=Vp()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:o,sdfExponent:s,glyphBounds:M,glyphAtlasIndices:g,glyphColors:p.glyphColors,caretPositions:p.caretPositions,chunkedBounds:p.chunkedBounds,ascender:p.ascender,descender:p.descender,lineHeight:p.lineHeight,capHeight:p.capHeight,xHeight:p.xHeight,topBaseline:p.topBaseline,blockBounds:p.blockBounds,visibleBounds:p.visibleBounds,timings:p.timings}))})}),Promise.resolve().then(()=>{l.contextLost||Lge(f)})}function FV({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Pv,u=Math.max(n[2]-n[0],n[3]-n[1]),f=Math.floor(e/4),d=f%(a/r)*r,p=Math.floor(f/(a/r))*r,g=e%4;return Tge(r,r,t,n,u,l,i,d,p,g,o)}function kge(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(FV(s,t,!0))})}),Promise.all(r).then(()=>{OV(t),t.sdfTexture.needsUpdate=!0})})}function Uge({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;LV({font:t,sdfGlyphSize:n,text:i},r)}function Nge(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let U_;function zge(t){return U_||(U_=typeof document>"u"?{}:document.createElement("a")),U_.href=t,U_.href}function OV(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const Gge=Xm({name:"Typesetter",dependencies:[Cge,Ege,dge],init(t,e,n){return t(e,n())}}),kV=Xm({name:"Typesetter",dependencies:[Gge],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});kV.onMainThread;const MU={};function Hge(t){let e=MU[t];return e||(e=MU[t]=new ac(1,1,t,t).translate(.5,.5,0)),e}const Vge="aTroikaGlyphBounds",EU="aTroikaGlyphIndex",jge="aTroikaGlyphColor";class Wge extends pP{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ki,this.boundingBox=new qi}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Hge(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){this.updateAttributeData(Vge,e,4),this.updateAttributeData(EU,n,1),this.updateAttributeData(jge,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:o,max:a,sin:l,cos:u}=Math,f=i/2,d=i*2,p=Math.abs(n),g=e[0]/p,y=e[2]/p,S=s((g+f)/d)!==s((y+f)/d)?-p:o(l(g)*p,l(y)*p),_=s((g-f)/d)!==s((y-f)/d)?p:a(l(g)*p,l(y)*p),x=s((g+i)/d)!==s((y+i)/d)?p*2:a(p-u(g)*p,p-u(y)*p);r.min.set(S,e[1],n<0?-x:0),r.max.set(_,e[3],n<0?0:x)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(EU).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new xf(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const Xge=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,qge=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Kge=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Jge=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Yge(t){const e=HT(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new it},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Nn(0,0,0,0)},uTroikaClipRect:{value:new Nn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new it},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Tt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new _n},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Xge,vertexTransform:qge,fragmentDefs:Kge,fragmentColorTransform:Jge,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(BV,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const GP=new co({color:16777215,side:oa,transparent:!0}),CU=8421504,TU=new tn,N_=new le,lC=new le,mv=[],$ge=new le,uC="+x+y";function RU(t){return Array.isArray(t)?t[0]:t}let UV=()=>{const t=new Lr(new ac(1,1),GP);return UV=()=>t,t},NV=()=>{const t=new Lr(new ac(1,1,32,1),GP);return NV=()=>t,t};const Qge={type:"syncstart"},Zge={type:"synccomplete"},zV=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],eve=zV.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let GV=class extends Lr{constructor(){const e=new Wge;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=CU,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=uC,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Qge),LV({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(Zge),e&&e()})))}onBeforeRender(e,n,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Yge(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=GP.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return RU(this.material).getDepthMaterial()}get customDistanceMaterial(){return RU(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,f=0,d=0,p,g,y,S=0,_=0;if(n){let{outlineWidth:b,outlineOffsetX:w,outlineOffsetY:M,outlineBlur:C,outlineOpacity:I}=this;u=this._parsePercent(b)||0,f=Math.max(0,this._parsePercent(C)||0),p=I,S=this._parsePercent(w)||0,_=this._parsePercent(M)||0}else d=Math.max(0,this._parsePercent(this.strokeWidth)||0),d&&(y=this.strokeColor,r.uTroikaStrokeColor.value.set(y??CU),g=this.strokeOpacity,g==null&&(g=1)),p=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(S,_),r.uTroikaBlurRadius.value=f,r.uTroikaStrokeWidth.value=d,r.uTroikaStrokeOpacity.value=g,r.uTroikaFillOpacity.value=p??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let x=this.clipRect;if(x&&Array.isArray(x)&&x.length===4)r.uTroikaClipRect.value.fromArray(x);else{const b=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-b,l[1]-b,l[2]+b,l[3]+b)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new Tt;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||uC;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==uC&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,f,d,p]=l;N_.set(0,0,0)[f]=u==="-"?1:-1,lC.set(0,0,0)[p]=d==="-"?-1:1,TU.lookAt($ge,N_.cross(lC),lC),a.setFromMatrix4(TU)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new it){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new it){return N_.copy(e),this.localPositionToTextCoords(this.worldToLocal(N_),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?NV():UV(),a=o.geometry,{position:l,uv:u}=a.attributes;for(let f=0;f<u.count;f++){let d=s[0]+u.getX(f)*(s[2]-s[0]);const p=s[1]+u.getY(f)*(s[3]-s[1]);let g=0;i&&(g=i-Math.cos(d/i)*i,d=Math.sin(d/i)*i),l.setXYZ(f,d,p,g)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,mv.length=0,o.raycast(e,mv);for(let f=0;f<mv.length;f++)mv[f].object=this,n.push(mv[f])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,eve.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};zV.forEach(t=>{const e="_private_"+t;Object.defineProperty(GV.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new qi;new Tt;const tve=G.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},u)=>{const f=Lu(({invalidate:y})=>y),[d]=G.useState(()=>new GV),[p,g]=G.useMemo(()=>{const y=[];let S="";return G.Children.forEach(s,_=>{typeof _=="string"||typeof _=="number"?S+=_:y.push(_)}),[y,S]},[s]);return RH(()=>new Promise(y=>Uge({font:r,characters:o},y)),["troika-text",r,o]),G.useLayoutEffect(()=>void d.sync(()=>{f(),a&&a(d)})),G.useEffect(()=>()=>d.dispose(),[d]),G.createElement("primitive",hm({object:d,ref:u,font:r,text:g,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),p)});let z_=null,HV="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function VV(t=!0,e=!0,n){return r=>{n&&n(r),t&&(z_||(z_=new ige),z_.setDecoderPath(typeof t=="string"?t:HV),r.setDRACOLoader(z_)),e&&r.setMeshoptDecoder(typeof oC=="function"?oC():oC)}}const R0=(t,e,n,r)=>b0(zP,t,VV(e,n,r));R0.preload=(t,e,n,r)=>b0.preload(zP,t,VV(e,n,r));R0.clear=t=>b0.clear(zP,t);R0.setDecoderPath=t=>{HV=t};const nve=G.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},f)=>{const d=Lu(I=>I.invalidate),p=Lu(I=>I.camera),g=Lu(I=>I.gl),y=Lu(I=>I.events),S=Lu(I=>I.setEvents),_=Lu(I=>I.set),x=Lu(I=>I.get),b=Lu(I=>I.performance),w=e||p,M=r||y.connected||g.domElement,C=G.useMemo(()=>new Ame(w),[w]);return wP(()=>{C.enabled&&C.update()},-1),G.useEffect(()=>(s&&C.connect(s===!0?M:s),C.connect(M),()=>void C.dispose()),[s,M,n,C,d]),G.useEffect(()=>{const I=L=>{d(),n&&b.regress(),o&&o(L)},B=L=>{a&&a(L)},P=L=>{l&&l(L)};return C.addEventListener("change",I),C.addEventListener("start",B),C.addEventListener("end",P),()=>{C.removeEventListener("start",B),C.removeEventListener("end",P),C.removeEventListener("change",I)}},[o,a,l,C,d,S]),G.useEffect(()=>{if(t){const I=x().controls;return _({controls:C}),()=>_({controls:I})}},[t,C]),G.createElement("primitive",hm({ref:f,object:C,enableDamping:i},u))});function rve(t){const{nodes:e,materials:n}=R0("/iphone_13_pro.glb"),r=G.useRef();return wP(i=>{const s=i.clock.getElapsedTime();r.current&&(r.current.rotation.x=0,r.current.rotation.y=s/1.8)}),V.jsx("group",{...t,dispose:null,ref:r,children:V.jsx("group",{scale:.01,position:[0,-2,0],rotation:[0,0,0],children:V.jsxs("group",{rotation:[Math.PI/2,Math.PI,0],scale:500,children:[V.jsx("mesh",{geometry:e.Frame001_Frame_0.geometry,material:n.Frame}),V.jsx("mesh",{geometry:e.Frame001_Port_0.geometry,material:n.Port}),V.jsx("mesh",{geometry:e.Frame001_Antenna_0.geometry,material:n.Antenna}),V.jsx("mesh",{geometry:e.Frame001_Frame2_0.geometry,material:n.Frame2}),V.jsx("mesh",{geometry:e.Frame001_Mic_0.geometry,material:n.material}),V.jsx("mesh",{geometry:e.Body002_Mic_0.geometry,material:n.material}),V.jsx("mesh",{geometry:e.Body002_Bezel_0.geometry,material:n.Bezel}),V.jsx("mesh",{geometry:e.Body002_Body_0.geometry,material:n.Body}),V.jsx("mesh",{geometry:e.Body002_Wallpaper_0.geometry,material:n.Wallpaper}),V.jsx("mesh",{geometry:e.Body002_Camera_Glass_0.geometry,material:n.Camera_Glass}),V.jsx("mesh",{geometry:e.Body002_Lens_0.geometry,material:n.Lens}),V.jsx("mesh",{geometry:e.Body002_Material_0.geometry,material:n.Material}),V.jsx("mesh",{geometry:e.Camera002_Body_0.geometry,material:n.Body}),V.jsx("mesh",{geometry:e.Camera002_Glass_0.geometry,material:n.Glass}),V.jsx("mesh",{geometry:e.Camera002_Camera_Frame001_0.geometry,material:n["Camera_Frame.001"]}),V.jsx("mesh",{geometry:e.Camera002_Mic_0.geometry,material:n.material}),V.jsx("mesh",{geometry:e.Body003_Screen_Glass_0.geometry,material:n.Screen_Glass}),V.jsx("mesh",{geometry:e.Button001_Frame_0.geometry,material:n.Frame}),V.jsx("mesh",{geometry:e.Circle001_Frame_0.geometry,material:n.Frame}),V.jsx("mesh",{geometry:e.Apple_Logo001_Logo_0.geometry,material:n.Logo}),V.jsx("mesh",{geometry:e.Camera004_Body_0.geometry,material:n.Body}),V.jsx("mesh",{geometry:e.Camera004_Gray_Glass_0.geometry,material:n.Gray_Glass}),V.jsx("mesh",{geometry:e.Camera004_Flash_0.geometry,material:n.Flash}),V.jsx("mesh",{geometry:e.Camera004_Port_0.geometry,material:n.Port}),V.jsx("mesh",{geometry:e.Camera004_Camera_Frame_0.geometry,material:n.Camera_Frame}),V.jsx("mesh",{geometry:e.Camera004_Camera_Glass_0.geometry,material:n.Camera_Glass}),V.jsx("mesh",{geometry:e.Camera004_Lens_0.geometry,material:n.Lens}),V.jsx("mesh",{geometry:e.Camera004_Black_Glass_0.geometry,material:n.Black_Glass}),V.jsx("mesh",{geometry:e.Camera005_Material002_0.geometry,material:n["Material.002"]})]})})})}R0.preload("/iphone_13_pro.glb");const ive=({})=>{const t=G.useRef(null),e=G.useRef(null);return wP(n=>{var r;t.current&&((r=t.current)==null||r.position.copy(n.camera.position))}),V.jsxs(V.Fragment,{children:[V.jsx(nve,{ref:e}),V.jsx("directionalLight",{ref:t,intensity:1,position:[0,0,0]})]})},sve=({})=>V.jsxs(JH,{style:{height:"400px"},children:[V.jsx(ive,{}),V.jsxs(G.Suspense,{fallback:null,children:[V.jsx("ambientLight",{intensity:.5}),V.jsx("hemisphereLight",{intensity:.5}),V.jsx(rve,{})]})]}),ove=()=>V.jsxs(V.Fragment,{children:[V.jsx(Yr,{variant:"h2",children:"3D"}),V.jsx(hR,{variant:"outlined",severity:"info",children:"Work in progress..."}),V.jsx(Un,{sx:{mt:2,display:"grid",gridTemplateColumns:{xxs:"repeat(1, 1fr)",md:"repeat(2, 1fr)",xl:"repeat(3, 1fr)"}},gap:2,children:V.jsx(zv,{children:V.jsx(sve,{})})})]}),ave=hme(tve),Zt=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].sort(()=>.5-Math.random());function lve(t,e,n,r){const i=t/n*Math.PI*2+r,s=Math.cos(i)*e,o=Math.sin(i)*e;return[s+5,o+5,0]}const uve=()=>{const t=Math.floor(Math.random()*10)/Zt.length*Math.PI*2;return new Map(Zt.map((e,n)=>[e,lve(n,8,Zt.length,t)]))},cve=()=>new Map([[Zt[0],[2+.6,.6,0]],[Zt[1],[2+.8,1.6,0]],[Zt[2],[3,2.6,0]],[Zt[3],[2+1.2,3.6,0]],[Zt[4],[2+1.4,4.6,0]],[Zt[5],[2+1.6,5.6,0]],[Zt[6],[2+1.8,6.6,0]],[Zt[7],[4,7.6,0]],[Zt[8],[2+2.2,8.6,0]],[Zt[9],[2+2.5,9.6,0]],[Zt[10],[2+.3+3,10.6,0]],[Zt[11],[2+4.2,9.6,0]],[Zt[12],[2+4.5,8.6,0]],[Zt[13],[2+4.7,7.6,0]],[Zt[14],[7,6.6,0]],[Zt[15],[2+5.2,5.6,0]],[Zt[16],[2+5.4,4.6,0]],[Zt[17],[2+5.6,3.6,0]],[Zt[18],[2+5.8,2.6,0]],[Zt[19],[8,1.6,0]],[Zt[20],[2+6.2,.6,0]],[Zt[21],[4,4.6,0]],[Zt[22],[2+2.8,4.6,0]],[Zt[23],[2+3.55,4.6,0]],[Zt[24],[2+4.2,4.6,0]],[Zt[25],[2+4.8,4.6,0]]]),fve=()=>new Map([[Zt[0],[3+.6,.6,0]],[Zt[1],[3+.6,1.6,0]],[Zt[2],[3+.6,2.6,0]],[Zt[3],[3+.6,3.6,0]],[Zt[4],[3+.6,4.6,0]],[Zt[5],[3+.6,5.6,0]],[Zt[6],[3+.6,6.6,0]],[Zt[7],[3+.6,7.6,0]],[Zt[8],[3+.6,8.6,0]],[Zt[9],[3+.6,9.6,0]],[Zt[10],[3+1.6,9.6,0]],[Zt[11],[3+2.6,9.4,0]],[Zt[12],[3+3.6,8.6,0]],[Zt[13],[7,7.6,0]],[Zt[14],[3+3.6,6.6,0]],[Zt[15],[3+2.6,5.6,0]],[Zt[16],[3+1.6,5.6,0]],[Zt[17],[3+1.6,4.6,0]],[Zt[18],[3+2.6,4.3,0]],[Zt[19],[3+3.6,4,0]],[Zt[20],[3+4.3,3.5,0]],[Zt[21],[3+4.7,2.7,0]],[Zt[22],[3+4.6,1.8,0]],[Zt[23],[3+3.6,1.1,0]],[Zt[24],[3+2.6,.7,0]],[Zt[25],[3+1.6,.6,0]]]),Ol={RANDOM:"random",A:"a",B:"b"},dve={[Ol.RANDOM]:uve,[Ol.A]:cve,[Ol.B]:fve};function hve({symbol:t,position:e,formType:n}){const[r,i]=G.useState(!1),s=OS(),[{scale:o,position:a}]=lme(()=>({scale:r?2:1,position:e,config:l=>{switch(l){case"position":return{duration:n===Ol.RANDOM?600:700,easing:n===Ol.RANDOM?BT.easeOutQuint:BT.easeInOutElastic};default:return{}}}}),[r,e]);return V.jsx(ave,{color:s.palette.text.primary,position:a,scale:o,onPointerOver:l=>i(!0),onPointerOut:l=>i(!1),children:t})}function pve(){const[t,e]=G.useState(Ol.A),n=dve[t]();return V.jsxs(V.Fragment,{children:[V.jsxs(Un,{direction:"row",sx:{position:"absolute",top:0,zIndex:1,p:.5},children:[V.jsx(cy,{sx:{mr:1},onClick:()=>{e(Ol.RANDOM),setTimeout(()=>{e(Ol.A)},600)},children:"A"}),V.jsx(cy,{onClick:()=>{e(Ol.RANDOM),setTimeout(()=>{e(Ol.B)},600)},children:"B"})]}),V.jsxs(JH,{children:[V.jsx("ambientLight",{}),V.jsx("pointLight",{position:[10,10,10]}),V.jsx(G.Suspense,{children:V.jsx("group",{scale:[.35,.35,1],position:[-1.7,-2,0],children:Zt.map((r,i)=>V.jsx(hve,{symbol:r,formType:t,position:n.get(r)||[0,0,0]},i))})})]})]})}const mve=()=>V.jsxs(V.Fragment,{children:[V.jsx(Yr,{variant:"h2",children:"2D"}),V.jsx(hR,{variant:"outlined",severity:"info",children:"Work in progress..."}),V.jsx(Un,{sx:{mt:2,display:"grid",gridTemplateColumns:{xxs:"repeat(1, 1fr)",md:"repeat(2, 1fr)",xl:"repeat(3, 1fr)"}},gap:2,children:V.jsx(zv,{children:V.jsx(pve,{})})})]});function gve(t){switch(t){case"Hello world!":return"What a beautiful day :)";case"What a beautiful day :)":return"Let's code something...";case"Let's code something...":return"Hello world!";default:return"Hello world!"}}const vve=({})=>{G.useRef(!1);const t=G.useRef({startCleanup:()=>{},startWriting:()=>{}}),[e,n]=G.useState("Let's code something..."),[r,i]=G.useState(1);return t.current.startCleanup=()=>{i(2),setTimeout(()=>{t.current.startWriting()},2e3)},t.current.startWriting=()=>{n(gve(e)),i(1),setTimeout(()=>{t.current.startCleanup()},3e3)},G.useEffect(()=>{t.current.startWriting()},[]),V.jsx(Un,{sx:{width:"fit-content",maxWidth:"100%"},children:V.jsx(or,{sx:{fontSize:"clamp(12px, 5vw, 28px) !important",fontFamily:"monospace",lineHeight:1.3,overflow:"hidden",whiteSpace:"nowrap",borderRight:"1px solid",animation:`${r===1?"typing 1s steps(12) forwards":"backspacing 0.5s steps(12) forwards"}, blink 1s step-end infinite`,"@keyframes blink":{"50%":{borderColor:"transparent"}},"@keyframes typing":{from:{width:0},to:{width:"100%"}},"@keyframes backspacing":{from:{width:"100%"},to:{width:0}}},children:e})})},yve=({})=>V.jsx(or,{variant:"h3",sx:{textTransform:"uppercase",background:"linear-gradient(to right, #fc72ff, #8f68ff, #487bff, #8f68ff, #fc72ff)",backgroundSize:"200%",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"animate-gradient 2.5s linear infinite","@keyframes animate-gradient":{to:{backgroundPosition:"200%"}}},children:"Lorem ipsum"}),xve=()=>{const[t,e]=G.useState(!1),n=()=>e(!0),r=()=>e(!1),i=100,s=t?70:30,o={background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(8px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.2)"},a=["rgba(25, 118, 210, 0.4)","rgba(211, 47, 47, 0.4)","rgba(56, 142, 60, 0.4)","rgba(245, 124, 0, 0.4)","rgba(123, 31, 162, 0.4)","rgba(251, 192, 45, 0.4)"],l=Fm`
    from {
      transform: rotateX(-30deg) rotateY(0deg);
    }
    to {
      transform: rotateX(-30deg) rotateY(360deg);
    }
  `;return V.jsx(os,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",padding:"24px",borderRadius:"16px"},onMouseEnter:n,onMouseLeave:r,children:V.jsxs(os,{sx:{position:"relative",width:"160px",height:"160px",transformStyle:"preserve-3d",animation:`${l} 10s linear infinite`},children:[V.jsx(Ed,{elevation:0,sx:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",color:"white",fontWeight:"bold",...o,background:a[0],transform:`translateZ(${i/2+s}px)`,transition:"all 0.3s ease"},children:"⊂(◉‿◉)つ"}),V.jsx(Ed,{elevation:0,sx:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",color:"white",fontWeight:"bold",...o,background:a[2],transform:`rotateY(180deg) translateZ(${i/2+s}px)`,transition:"all 0.3s ease"},children:"(ㆆ _ ㆆ)"}),V.jsx(Ed,{elevation:0,sx:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",color:"white",fontWeight:"bold",...o,background:a[1],transform:`rotateY(90deg) translateZ(${i/2+s}px)`,transition:"all 0.3s ease"},children:"(✿◠‿◠)"}),V.jsx(Ed,{elevation:0,sx:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",color:"white",fontWeight:"bold",...o,background:a[3],transform:`rotateY(-90deg) translateZ(${i/2+s}px)`,transition:"all 0.3s ease"},children:"(⌐■_■)"}),V.jsx(Ed,{elevation:0,sx:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",color:"white",fontWeight:"bold",...o,background:a[4],transform:`rotateX(90deg) translateZ(${i/2+s}px)`,transition:"all 0.3s ease"},children:"(｡◕‿‿◕｡)"}),V.jsx(Ed,{elevation:0,sx:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",color:"white",fontWeight:"bold",...o,background:a[5],transform:`rotateX(-90deg) translateZ(${i/2+s}px)`,transition:"all 0.3s ease"},children:"(͡ ° ͜ʖ ͡ °)"})]})})},_ve=()=>V.jsxs(V.Fragment,{children:[V.jsx(Yr,{variant:"h2",children:"CSS"}),V.jsx(hR,{variant:"outlined",severity:"info",children:"Work in progress..."}),V.jsxs(Un,{sx:{mt:2,display:"grid",gridTemplateColumns:{xxs:"repeat(1, 1fr)",md:"repeat(2, 1fr)",xl:"repeat(3, 1fr)"}},gap:2,children:[V.jsx(zv,{children:V.jsx(vve,{})}),V.jsx(zv,{children:V.jsx(yve,{})}),V.jsx(zv,{children:V.jsx(xve,{})})]})]}),Sve=[{path:"/",element:V.jsx(zie,{}),errorElement:V.jsx(e$,{}),children:[{index:!0,element:V.jsx(Px,{to:"/home"})},{path:"home",element:V.jsx(t$,{})},{path:"projects",element:V.jsx(Kie,{})},{path:"dev",element:V.jsx(Qie,{}),children:[{index:!0,element:V.jsx(Px,{to:"/dev/styleguide"})},{path:"styleguide",element:V.jsx(Vie,{}),children:[{index:!0,element:V.jsx(Px,{to:"/dev/styleguide/buttons"})},{path:"buttons",element:V.jsx(jie,{})},{path:"colors",element:V.jsx(Wie,{})},{path:"dividers",element:V.jsx(Yie,{})},{path:"icons",element:V.jsx(Xie,{})},{path:"tags",element:V.jsx($ie,{})},{path:"typography",element:V.jsx(qie,{})}]},{path:"examples",element:V.jsx(Zie,{}),children:[{index:!0,element:V.jsx(Px,{to:"/dev/examples/2d"})},{path:"css",element:V.jsx(_ve,{})},{path:"2d",element:V.jsx(mve,{})},{path:"3d",element:V.jsx(ove,{})}]}]},{path:"contacts",element:V.jsx(Jie,{})}]}],Ave=GY(Sve);function wve({theme:t=of.DARK}){const e=$K(t);return V.jsxs(lW,{theme:e,children:[V.jsx(tq,{}),V.jsx(ZY,{router:Ave})]})}const bve=eZ((t,e)=>({theme:t.settings.theme}))(wve);M6.createRoot(document.getElementById("root")).render(V.jsx(Ya.StrictMode,{children:V.jsx(nZ,{store:ZZ,children:V.jsx(bve,{})})}));
